{"version":3,"sources":["webpack://datGuiEase/webpack/universalModuleDefinition","webpack://datGuiEase/./src/EaseManager.js","webpack://datGuiEase/./src/gui/addEaseGUI.js","webpack://datGuiEase/./src/gui/controller/GUIController.js","webpack://datGuiEase/./src/gui/model/GUIModel.js","webpack://datGuiEase/./src/gui/model/ease/Ease.js","webpack://datGuiEase/./src/gui/model/ease/composites/Anchor.js","webpack://datGuiEase/./src/gui/model/ease/composites/Handle.js","webpack://datGuiEase/./src/gui/model/ease/composites/Point.js","webpack://datGuiEase/./src/gui/model/ease/exceptions/InvalidSVGPathException.js","webpack://datGuiEase/./src/gui/model/preset/EasePreset.js","webpack://datGuiEase/./src/gui/model/preset/EasePresetProvider.js","webpack://datGuiEase/./src/gui/model/preset/enum/Curve.js","webpack://datGuiEase/./src/gui/model/preset/enum/Orientation.js","webpack://datGuiEase/./src/gui/model/preset/presets.js","webpack://datGuiEase/./src/gui/view/GUIView.js","webpack://datGuiEase/./src/gui/view/GUIViewEvent.js","webpack://datGuiEase/./src/gui/view/HTMLElementDirector.js","webpack://datGuiEase/./src/gui/view/dom/directors/CurveSelectorDirector.js","webpack://datGuiEase/./src/gui/view/dom/directors/EaseEditorDirector.js","webpack://datGuiEase/./src/gui/view/dom/directors/EasePanelBackgroundDirector.js","webpack://datGuiEase/./src/gui/view/dom/directors/EasePanelDirector.js","webpack://datGuiEase/./src/gui/view/dom/directors/OrientationSelectorDirector.js","webpack://datGuiEase/./src/gui/view/dom/selectors.js","webpack://datGuiEase/./src/gui/view/editor/EaseEditor.js","webpack://datGuiEase/./src/gui/view/editor/events/EditorCurveChangeEvent.js","webpack://datGuiEase/./src/gui/view/editor/lib/curvesjs/BezierPoint.js","webpack://datGuiEase/./src/gui/view/editor/lib/curvesjs/Curve.js","webpack://datGuiEase/./src/gui/view/editor/lib/curvesjs/Point.js","webpack://datGuiEase/./src/index.js","webpack://datGuiEase/./src/middleware/Middleware.js","webpack://datGuiEase/./src/middleware/cast/CastEntry.js","webpack://datGuiEase/./src/middleware/cast/PresetCastEntry.js","webpack://datGuiEase/./src/middleware/cast/TransformCastEntry.js","webpack://datGuiEase/./src/gui/view/dom/gui.html","webpack://datGuiEase/./src/index.scss","webpack://datGuiEase/external {\"commonjs\":\"dat.gui\",\"commonjs2\":\"dat.gui\",\"amd\":\"dat.gui\",\"root\":\"dat\"}","webpack://datGuiEase/webpack/bootstrap","webpack://datGuiEase/webpack/runtime/define property getters","webpack://datGuiEase/webpack/runtime/hasOwnProperty shorthand","webpack://datGuiEase/webpack/runtime/make namespace object","webpack://datGuiEase/webpack/startup"],"names":["EaseManager","_middlewares","ease","some","middleware","isFormatSupported","find","Middleware","checkSignature","push","console","warn","dom","dat","addEaseGUI","object","property","controller","GUIController","_recallSavedValue","li","_addRow","addClass","appendChild","domElement","_augmentController","__controllers","DEFAULT_PRESET_NAME","gui","root","getRoot","matchedIndex","__rememberedObjects","indexOf","controllerMap","__rememberedObjectIndecesToControllers","undefined","load","remembered","presetMap","preset","value","initialValue","setValue","document","createElement","__ul","onResize","__li","__gui","name","querySelector","innerHTML","listen","remove","__preset_select","onValueModified","_markPresetModified","bind","modified","opt","selectedIndex","arguments","rawEase","_middleware","_model","GUIModel","_view","GUIView","curves","activePreset","setOrientations","getCurveOrientations","curve","setPreset","isEditingSupported","showEditButton","on","GUIViewEvent","CURVE_PRESET_SELECTED","_onCurvePresetSelected","ORIENTATION_PRESET_SELECTED","_onOrientationPresetSelected","EDIT_EASE_CLICKED","_onEditEaseClicked","EASE_MODIFIED","_onEaseModified","ACCEPT_EASE_EDIT_CLICKED","_onAcceptEaseEditClicked","DISCARD_EASE_EDIT_CLICKED","_onDiscardEaseEditClicked","_onValueModified","toString","easeSvgPath","Ease","fromSVGPath","matchingPreset","getPresetMatchingEase","EasePreset","CURVE","CUSTOM","ORIENTATION","NONE","_applyRevertedValue","callback","externalEase","__onChange","call","__onFinishChange","updateDisplay","nextCurve","currentOrientation","orientation","nextOrientations","nextOrientation","includes","nextPreset","getMatchingPreset","_applyValue","preEditPreset","clone","openEditor","modifiedEase","closeEditor","controllers","Controller","_presets","presets","_curves","_extractCurves","_orientationsMap","_extractOrientationsPerCurveMap","_activePreset","_preEditPreset","get","equals","reduce","orientationsMap","Map","curveMatchingPresets","filter","orientations","map","set","anchors","_anchors","Array","from","length","toSVGPath","points","i","startAnchor","endAnchor","toPoint","handle","svgPath","x","y","anchor","Anchor","trimmedPath","trim","match","splice","safeParseCoordinate","startX","startY","cCoords","replace","split","Error","ofOriginAndHandle","Point","of","a","lastAnchor","slice","e","InvalidSVGPathException","path","firstAnchor","originPoint","shift","path2","point","rawCoordinate","coordinate","Number","parseFloat","NaN","Handle","originPointLike","handlePointLike","ofOrigin","copy","pointLike","easeOrSvgPath","UNDEFINED","ofSVGPath","Curve","Orientation","EasePresetProvider","providerFunction","_providerFunction","_curveAlias","_orientationAlias","curveAlias","Object","freeze","LINEAR","SINE","QUAD","CUBIC","QUART","QUINT","EXPO","CIRC","BACK","ELASTIC","BOUNCE","IN","OUT","IN_OUT","Linear","ofSample","SineIn","SineOut","SineInOut","QuadIn","QuadOut","QuadInOut","CubicIn","CubicOut","CubicInOut","QuartIn","QuartOut","QuartInOut","ExpoIn","ExpoOut","ExpoInOut","CircIn","CircOut","CircInOut","BackIn","BackOut","BackInOut","_renderTemplate","domTemplate","_easePanelDirector","EasePanelDirector","_element","_easeEditorDirector","args","emit","_isEditorOpen","initialEase","classList","add","EaseEditorDirector","cleanUp","HTMLElementDirector","template","DOMParser","parseFromString","body","firstChild","htmlElement","eventKey","addEventListener","event","detail","dispatchEvent","CustomEvent","CurveSelectorDirector","rootDomElement","_composeOptions","option","options","onchange","Option","_createCustomCurveOption","customCurveOption","setAttribute","_editor","EaseEditor","EditorCurveChangeEvent","KEY","_svgPathInspector","_initSvgPathInspector","_copyButton","_initCopyButton","_acceptButton","_initAcceptButton","_discardButton","_initDiscardButton","canvas","canvasClone","cloneNode","parentNode","replaceChild","inspectorElement","oninput","svgPathInspectorElement","buttonElement","onclick","select","execCommand","info","EasePanelBackgroundDirector","_cornerCurveCanvas","width","height","_cornerCurveCanvasContext","getContext","ctx","strokeStyle","fillStyle","lineWidth","clearRect","beginPath","moveTo","bezierCurveTo","lineTo","stroke","fill","_curveSelector","_orientationSelector","OrientationSelectorDirector","_background","_editButtonElement","style","display","values","refresh","removeAttribute","easePanel","curveSelector","orientationSelector","cornerCurveCanvas","editButton","editorCanvas","editorSvgPathInspector","editorSvgPathCopyButton","editorAcceptButton","editorDeclineButton","_canvas","_ctx","_prepareContext","_curve","_createCurveJSInstance","_propagateEvents","cw","ch","startPoint","addAnchor","_fromCanvasX","position","_fromCanvasY","cp2","endPoint","cp1","pointColor","pointSize","cpDist","firstPoint","BezierPoint","_toCanvasX","_toCanvasY","precedingCurveEndAnchor","followingCurveStartAnchor","lastPoint","draw","clientWidth","clientHeight","CurveJS","setPointStyle","setLineStyle","_round","coord","numberOfFloatDigits","power","Math","pow","round","context","color","size","r","collapsed","v1x","v1y","v2x","v2y","interval","lineColor","mouseX","mouseY","events","canvasEvents","createLUT","frame","tolerance","iMin","iMax","key","xTarget","xCurrent","lookupX","abs","lookupY","p1","p2","pct","t","func","dist","dragReady","dragCP","draging","_this","evt","bbox","getBoundingClientRect","clientX","left","clientY","top","p","sqrt","cursor","keys","deltaW","deltaH","posX","floor","posY","move","temp","ondrag","onmousemove","preventDefault","addPoint","onnewpoint","offsetX","offsetY","collapse","ontogglecontrol","onremovepoint","sort","b","pP","window","keyCode","arc","PI","closePath","easeManager","addEase","hasCompatibleMiddleware","getCompatibleMiddleware","extend","GUI","prototype","addOverride","castEntries","_name","_castEntries","castEntry","PresetCastEntry","entry","thirdPartyEase","nativeEasePreset","predicateFunction","transform","thirdPartyToNativeCast","nativeToThirdPartyCast","TransformCastEntry","supportsCastInward","castInward","nativeEase","supportsCastOutward","castOutward","instanceLike","test","CastEntry","nativeEasePresetOrPresetProvider","_parseNativePreset","rawNativePreset","next","selectorPredicate","_selectorPredicate","_transformThirdPartyToNativeEase","_transformNativeToThirdPartyEase"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCRqBA,W;AACjB,2BAAc;AAAA;;AACV,WAAKC,YAAL,GAAoB,EAApB;AACH;AAED;AACJ;AACA;AACA;AACA;;;;;aACI,iCAAwBC,IAAxB,EAA8B;AAC1B,eAAO,KAAKD,YAAL,CAAkBE,IAAlB,CAAuB,UAAAC,UAAU;AAAA,iBAAIA,UAAU,CAACC,iBAAX,CAA6BH,IAA7B,CAAJ;AAAA,SAAjC,CAAP;AACH;AAED;AACJ;AACA;AACA;AACA;;;;aACI,iCAAwBA,IAAxB,EAA8B;AAC1B,eAAO,KAAKD,YAAL,CAAkBK,IAAlB,CAAuB,UAAAF,UAAU;AAAA,iBAAIA,UAAU,CAACC,iBAAX,CAA6BH,IAA7B,CAAJ;AAAA,SAAjC,KAA4E,IAAnF;AACH;AAEA;AACL;AACA;AACA;AACA;;;;aACI,aAAIE,UAAJ,EAAgB;AACZ,YAAIA,UAAU,IAAIG,uBAAWC,cAAX,CAA0BJ,UAA1B,CAAlB,EAAyD;AACrD,eAAKH,YAAL,CAAkBQ,IAAlB,CAAuBL,UAAvB;AACH,SAFD,MAGK;AACDM,iBAAO,CAACC,IAAR,CAAa,8BAAb;AACH;AACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnCL,MAAMC,GAAG,GAAGC,GAAG,CAACD,GAAJ,CAAQA,GAApB;;AAEe,WAASE,UAAT,CAAoBC,MAApB,EAA4BC,QAA5B,EAAsCZ,UAAtC,EAAkD;AAC7D,QAAMa,UAAU,GAAG,IAAIC,yBAAJ,CAAkBH,MAAlB,EAA0BC,QAA1B,EAAoCZ,UAApC,CAAnB,CAD6D,CAG7D;AACA;;AACAe,qBAAiB,CAAC,IAAD,EAAOF,UAAP,CAAjB;;AAEA,QAAMG,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACAT,OAAG,CAACU,QAAJ,CAAaF,EAAb,EAAiB,IAAjB;AACAR,OAAG,CAACU,QAAJ,CAAaF,EAAb,EAAiB,MAAjB;AACAA,MAAE,CAACG,WAAH,CAAeN,UAAU,CAACO,UAA1B;;AAEAC,sBAAkB,CAAC,IAAD,EAAOL,EAAP,EAAWH,UAAX,CAAlB;;AAEA,SAAKS,aAAL,CAAmBjB,IAAnB,CAAwBQ,UAAxB;;AAEA,WAAOA,UAAP;AACH;;AAGD,MAAMU,mBAAmB,GAAG,SAA5B,C,CACA;AACA;;AACA,WAASR,iBAAT,CAA2BS,GAA3B,EAAgCX,UAAhC,EAA4C;AACxC,QAAMY,IAAI,GAAGD,GAAG,CAACE,OAAJ,EAAb;;AACA,QAAMC,YAAY,GAAGF,IAAI,CAACG,mBAAL,CAAyBC,OAAzB,CAAiChB,UAAU,CAACF,MAA5C,CAArB;;AAEA,QAAIgB,YAAY,KAAK,CAAC,CAAtB,EAAyB;AACrB,UAAIG,aAAa,GAAGL,IAAI,CAACM,sCAAL,CAA4CJ,YAA5C,CAApB;;AAEA,UAAIG,aAAa,KAAKE,SAAtB,EAAiC;AAC7BF,qBAAa,GAAG,EAAhB;AACAL,YAAI,CAACM,sCAAL,CAA4CJ,YAA5C,IAA4DG,aAA5D;AACH;;AAEDA,mBAAa,CAACjB,UAAU,CAACD,QAAZ,CAAb,GAAqCC,UAArC;;AAEA,UAAIY,IAAI,CAACQ,IAAL,IAAaR,IAAI,CAACQ,IAAL,CAAUC,UAA3B,EAAuC;AACnC,YAAMC,SAAS,GAAGV,IAAI,CAACQ,IAAL,CAAUC,UAA5B;AAEA,YAAIE,MAAJ;;AAEA,YAAID,SAAS,CAACX,GAAG,CAACY,MAAL,CAAb,EAA2B;AACvBA,gBAAM,GAAGD,SAAS,CAACX,GAAG,CAACY,MAAL,CAAlB;AACH,SAFD,MAEO,IAAID,SAAS,CAACZ,mBAAD,CAAb,EAAoC;AACvCa,gBAAM,GAAGD,SAAS,CAACZ,mBAAD,CAAlB;AACH,SAFM,MAEA;AACH;AACH;;AAED,YAAIa,MAAM,CAACT,YAAD,CAAN,IAAwBS,MAAM,CAACT,YAAD,CAAN,CAAqBd,UAAU,CAACD,QAAhC,MAA8CoB,SAA1E,EAAqF;AACjF,cAAMK,KAAK,GAAGD,MAAM,CAACT,YAAD,CAAN,CAAqBd,UAAU,CAACD,QAAhC,CAAd;AAEAC,oBAAU,CAACyB,YAAX,GAA0BD,KAA1B;AACAxB,oBAAU,CAAC0B,QAAX,CAAoBF,KAApB;AACH;AACJ;AACJ;AACJ,G,CAED;AACA;;;AACA,WAASpB,OAAT,CAAiBO,GAAjB,EAAsB;AAClB,QAAMR,EAAE,GAAGwB,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAX;;AACAjB,OAAG,CAACkB,IAAJ,CAASvB,WAAT,CAAqBH,EAArB;;AACAQ,OAAG,CAACmB,QAAJ;AACA,WAAO3B,EAAP;AACH,G,CAED;AACA;;;AACA,WAASK,kBAAT,CAA4BG,GAA5B,EAAiCR,EAAjC,EAAqCH,UAArC,EAAiD;AAC7CA,cAAU,CAAC+B,IAAX,GAAkB5B,EAAlB;AACAH,cAAU,CAACgC,KAAX,GAAmB,IAAnB;;AAEAhC,cAAU,CAACiC,IAAX,GAAkB,UAAUA,IAAV,EAAgB;AAC9B,WAAKF,IAAL,CAAUG,aAAV,CAAwB,gBAAxB,EAA0CC,SAA1C,GAAsDF,IAAtD;AACA,aAAO,IAAP;AACH,KAHD;;AAKAjC,cAAU,CAACoC,MAAX,GAAoB,YAAY;AAC5B,WAAKJ,KAAL,CAAWI,MAAX,CAAkB,IAAlB;;AACA,aAAO,IAAP;AACH,KAHD;;AAKApC,cAAU,CAACqC,MAAX,GAAoB,YAAY;AAC5B,WAAKL,KAAL,CAAWK,MAAX,CAAkB,IAAlB;;AACA,aAAO,IAAP;AACH,KAHD;;AAKA,QAAI1B,GAAG,CAACE,OAAJ,GAAcyB,eAAlB,EAAmC;AAC/BtC,gBAAU,CAACuC,eAAX,GAA6BC,mBAAmB,CAACC,IAApB,CAAyB,IAAzB,EAA+B9B,GAA/B,EAAoC,IAApC,CAA7B;AACH;AACJ,G,CAED;AACA;;;AACA,WAAS6B,mBAAT,CAA6B7B,GAA7B,EAAkC+B,QAAlC,EAA4C;AACxC,QAAMC,GAAG,GAAGhC,GAAG,CAAC2B,eAAJ,CAAoB3B,GAAG,CAAC2B,eAAJ,CAAoBM,aAAxC,CAAZ;;AAEA,QAAIF,QAAJ,EAAc;AACZC,SAAG,CAACR,SAAJ,GAAgBQ,GAAG,CAACnB,KAAJ,GAAY,GAA5B;AACD,KAFD,MAEO;AACLmB,SAAG,CAACR,SAAJ,GAAgBQ,GAAG,CAACnB,KAApB;AACD;AACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCvGoBvB,a;;;;;AACjB,2BAAYH,MAAZ,EAAoBC,QAApB,EAA8BZ,UAA9B,EAA0C;AAAA;;AAAA;;AACtC,iCAAS0D,SAAT;AAEA,UAAMC,OAAO,GAAGhD,MAAM,CAACC,QAAD,CAAtB;AACA,UAAMwB,MAAM,GAAGpC,UAAU,UAAV,CAAkB2D,OAAlB,CAAf;AAEA,YAAKC,WAAL,GAAmB5D,UAAnB;AACA,YAAK6D,MAAL,GAAc,IAAIC,oBAAJ,CAAa9D,UAAb,CAAd;AACA,YAAK+D,KAAL,GAAa,IAAIC,mBAAJ,CAAY,MAAKH,MAAL,CAAYI,MAAxB,CAAb;AAEA,YAAKJ,MAAL,CAAYK,YAAZ,GAA2B9B,MAA3B;;AAEA,YAAK2B,KAAL,CAAWI,eAAX,CAA2B,MAAKN,MAAL,CAAYO,oBAAZ,CAAiChC,MAAM,CAACiC,KAAxC,CAA3B;;AACA,YAAKN,KAAL,CAAWO,SAAX,CAAqBlC,MAArB;;AAEA,UAAI,MAAKwB,WAAL,CAAiBW,kBAAjB,EAAJ,EAA2C;AACvC,cAAKR,KAAL,CAAWS,cAAX;AACH;;AAED,YAAKT,KAAL,CAAWU,EAAX,CAAcC,sBAAaC,qBAA3B,EAAkD,MAAKC,sBAAL,CAA4BtB,IAA5B,+BAAlD;;AACA,YAAKS,KAAL,CAAWU,EAAX,CAAcC,sBAAaG,2BAA3B,EAAwD,MAAKC,4BAAL,CAAkCxB,IAAlC,+BAAxD;;AACA,YAAKS,KAAL,CAAWU,EAAX,CAAcC,sBAAaK,iBAA3B,EAA8C,MAAKC,kBAAL,CAAwB1B,IAAxB,+BAA9C;;AACA,YAAKS,KAAL,CAAWU,EAAX,CAAcC,sBAAaO,aAA3B,EAA0C,MAAKC,eAAL,CAAqB5B,IAArB,+BAA1C;;AACA,YAAKS,KAAL,CAAWU,EAAX,CAAcC,sBAAaS,wBAA3B,EAAqD,MAAKC,wBAAL,CAA8B9B,IAA9B,+BAArD;;AACA,YAAKS,KAAL,CAAWU,EAAX,CAAcC,sBAAaW,yBAA3B,EAAsD,MAAKC,yBAAL,CAA+BhC,IAA/B,+BAAtD;;AAEA,YAAKlC,UAAL,GAAkB,MAAK2C,KAAL,CAAW3C,UAA7B;AACA,YAAKmE,gBAAL,GAAwB,IAAxB;AA3BsC;AA4BzC,K,CAED;AACA;;;;;aACA,oBAAW;AACP,eAAO,KAAK1B,MAAL,CAAYK,YAAZ,CAAyBpE,IAAzB,CAA8B0F,QAA9B,EAAP;AACH,O,CAED;AACA;;;;aACA,kBAASC,WAAT,EAAsB;AAClB,YAAM3F,IAAI,GAAG4F,iBAAKC,WAAL,CAAiBF,WAAjB,CAAb;;AACA,YAAMG,cAAc,GAAG,KAAK/B,MAAL,CAAYgC,qBAAZ,CAAkC/F,IAAlC,CAAvB;;AAEA,YAAI8F,cAAJ,EAAoB;AAChB,eAAK/B,MAAL,CAAYK,YAAZ,GAA2B0B,cAA3B;AACH,SAFD,MAGK;AACD,eAAK/B,MAAL,CAAYK,YAAZ,GAA2B,IAAI4B,sBAAJ,CAAehG,IAAf,EAAqBgG,uBAAWC,KAAX,CAAiBC,MAAtC,EAA8CF,uBAAWG,WAAX,CAAuBC,IAArE,CAA3B;AACH;;AAED,aAAKnC,KAAL,CAAWI,eAAX,CAA2B,KAAKN,MAAL,CAAYO,oBAAZ,CAAiC,KAAKP,MAAL,CAAYK,YAAZ,CAAyBG,KAA1D,CAA3B;;AACA,aAAKN,KAAL,CAAWO,SAAX,CAAqB,KAAKT,MAAL,CAAYK,YAAjC;;AAEA,aAAKiC,mBAAL,CAAyB,KAAKtC,MAAL,CAAYK,YAArC;AACH;;;WAED,aAAoBkC,QAApB,EAA8B;AAC1B,aAAKb,gBAAL,GAAwBa,QAAxB;AACH;;;aAED,qBAAYhE,MAAZ,EAAoB;AAChB,aAAK+D,mBAAL,CAAyB/D,MAAzB;;AAEA,YAAI,KAAKmD,gBAAT,EAA2B;AACvB,eAAKA,gBAAL;AACH;AACJ;;;aAED,6BAAoBnD,MAApB,EAA4B;AACxB,YAAMiE,YAAY,GAAG,KAAKzC,WAAL,WAAwBxB,MAAxB,CAArB;;AACA,aAAKzB,MAAL,CAAY,KAAKC,QAAjB,IAA6ByF,YAA7B;;AAEA,YAAI,KAAKC,UAAT,EAAqB;AACjB,eAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,EAA2BF,YAA3B;AACH;;AACD,YAAI,KAAKG,gBAAT,EAA2B;AACvB,eAAKA,gBAAL,CAAsBD,IAAtB,CAA2B,IAA3B,EAAiCF,YAAjC;AACH;;AAED,aAAKI,aAAL;AACH;;;aAED,gCAAuBC,SAAvB,EAAkC;AAAA,YACTC,kBADS,GACc,KAAK9C,MAAL,CAAYK,YAD1B,CACtB0C,WADsB;;AAE9B,YAAMC,gBAAgB,GAAG,KAAKhD,MAAL,CAAYO,oBAAZ,CAAiCsC,SAAjC,CAAzB;;AACA,YAAMI,eAAe,GAAGD,gBAAgB,CAACE,QAAjB,CAA0BJ,kBAA1B,IAAgDA,kBAAhD,GAAqEE,gBAAgB,CAAC,CAAD,CAA7G;;AACA,YAAMG,UAAU,GAAG,KAAKnD,MAAL,CAAYoD,iBAAZ,CAA8BP,SAA9B,EAAyCI,eAAzC,CAAnB;;AAEA,aAAKjD,MAAL,CAAYK,YAAZ,GAA2B8C,UAA3B;;AAEA,aAAKjD,KAAL,CAAWI,eAAX,CAA2B0C,gBAA3B;;AACA,aAAK9C,KAAL,CAAWO,SAAX,CAAqB0C,UAArB;;AAEA,aAAKE,WAAL,CAAiBF,UAAjB;AACH;;;aAED,sCAA6BF,eAA7B,EAA8C;AAC1C,YAAME,UAAU,GAAG,KAAKnD,MAAL,CAAYoD,iBAAZ,CAA8B,KAAKpD,MAAL,CAAYK,YAAZ,CAAyBG,KAAvD,EAA8DyC,eAA9D,CAAnB;;AAEA,aAAKjD,MAAL,CAAYK,YAAZ,GAA2B8C,UAA3B;;AACA,aAAKjD,KAAL,CAAWO,SAAX,CAAqB0C,UAArB;;AAEA,aAAKE,WAAL,CAAiBF,UAAjB;AACH;;;aAED,8BAAqB;AACjB,aAAKnD,MAAL,CAAYsD,aAAZ,GAA4B,KAAKtD,MAAL,CAAYK,YAAZ,CAAyBkD,KAAzB,EAA5B;;AAEA,aAAKrD,KAAL,CAAWsD,UAAX,CAAsB,KAAKxD,MAAL,CAAYK,YAAZ,CAAyBpE,IAA/C;AACH;;;aAED,yBAAgBwH,YAAhB,EAA8B;AAC1B,YAAM1B,cAAc,GAAG,KAAK/B,MAAL,CAAYgC,qBAAZ,CAAkCyB,YAAlC,CAAvB;;AAEA,YAAI1B,cAAJ,EAAoB;AAChB,eAAK/B,MAAL,CAAYK,YAAZ,GAA2B0B,cAA3B;AACH,SAFD,MAGK;AACD,eAAK/B,MAAL,CAAYK,YAAZ,GAA2B,IAAI4B,sBAAJ,CAAewB,YAAf,EAA6BxB,uBAAWC,KAAX,CAAiBC,MAA9C,EAAsDF,uBAAWG,WAAX,CAAuBC,IAA7E,CAA3B;AACH;;AAED,aAAKnC,KAAL,CAAWO,SAAX,CAAqB,KAAKT,MAAL,CAAYK,YAAjC;;AACA,aAAKgD,WAAL,CAAiB,KAAKrD,MAAL,CAAYK,YAA7B;AACH;;;aAED,oCAA2B;AACvB,aAAKH,KAAL,CAAWwD,WAAX;;AACA,aAAKxD,KAAL,CAAWO,SAAX,CAAqB,KAAKT,MAAL,CAAYK,YAAjC;;AACA,aAAKgD,WAAL,CAAiB,KAAKrD,MAAL,CAAYK,YAA7B;AACH;;;aAED,qCAA4B;AACxB,aAAKL,MAAL,CAAYK,YAAZ,GAA2B,KAAKL,MAAL,CAAYsD,aAAvC;;AACA,aAAKpD,KAAL,CAAWwD,WAAX;;AACA,aAAKxD,KAAL,CAAWO,SAAX,CAAqB,KAAKT,MAAL,CAAYK,YAAjC;;AACA,aAAKgD,WAAL,CAAiB,KAAKrD,MAAL,CAAYK,YAA7B;AACH;;;;IAxIsCzD,GAAG,CAAC+G,WAAJ,CAAgBC,U;;;AAyI1D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MC/IK3D,Q;AACF,sBAAY9D,UAAZ,EAAwB;AAAA;;AACpB,WAAK0H,QAAL,GAAgB1H,UAAU,CAAC2H,OAA3B;AACA,WAAKC,OAAL,GAAeC,cAAc,CAAC,KAAKH,QAAN,CAA7B;AACA,WAAKI,gBAAL,GAAwBC,+BAA+B,CAAC,KAAKL,QAAN,EAAgB,KAAKE,OAArB,CAAvD;AACA,WAAKI,aAAL,GAAqB,IAArB;AACA,WAAKC,cAAL,GAAsB,IAAtB;AACH;;;;WAED,eAAc;AACV,eAAO,KAAKP,QAAZ;AACH;;;WAED,eAAa;AACT,eAAO,KAAKE,OAAZ;AACH;;;WAED,eAAmB;AACf,eAAO,KAAKI,aAAZ;AACH,O;WAED,aAAiB5F,MAAjB,EAAyB;AACrB,aAAK4F,aAAL,GAAqB5F,MAArB;AACH;;;WAED,eAAoB;AAChB,eAAO,KAAK6F,cAAZ;AACH,O;WAED,aAAkB7F,MAAlB,EAA0B;AACtB,aAAK6F,cAAL,GAAsB7F,MAAtB;AACH;;;aAED,8BAAqBiC,KAArB,EAA4B;AACxB,eAAO,KAAKyD,gBAAL,CAAsBI,GAAtB,CAA0B7D,KAA1B,KAAoC,EAA3C;AACH;;;aAED,2BAAkBA,KAAlB,EAAyBuC,WAAzB,EAAsC;AAClC,eAAO,KAAKc,QAAL,CAAcxH,IAAd,CAAmB,UAAAkC,MAAM;AAAA,iBAAIA,MAAM,CAACiC,KAAP,KAAiBA,KAAjB,IAA0BjC,MAAM,CAACwE,WAAP,KAAuBA,WAArD;AAAA,SAAzB,CAAP;AACH;;;aAED,+BAAsB9G,IAAtB,EAA4B;AACxB,eAAO,KAAK4H,QAAL,CAAcxH,IAAd,CAAmB,UAAAkC,MAAM;AAAA,iBAAIA,MAAM,CAACtC,IAAP,CAAYqI,MAAZ,CAAmBrI,IAAnB,CAAJ;AAAA,SAAzB,CAAP;AACH;;;;;;AAGL,WAAS+H,cAAT,CAAwBF,OAAxB,EAAiC;AAC7B,WAAOA,OAAO,CAACS,MAAR,CAAe,UAACnE,MAAD,EAAS7B,MAAT;AAAA,aAAoB6B,MAAM,CAAC8C,QAAP,CAAgB3E,MAAM,CAACiC,KAAvB,IAAgCJ,MAAhC,gCAA6CA,MAA7C,IAAqD7B,MAAM,CAACiC,KAA5D,EAApB;AAAA,KAAf,EAAuG,EAAvG,CAAP;AACH;;AAED,WAAS0D,+BAAT,CAAyCJ,OAAzC,EAAkD1D,MAAlD,EAA0D;AACtD,QAAMoE,eAAe,GAAG,IAAIC,GAAJ,EAAxB;;AADsD,+CAGpCrE,MAHoC;AAAA;;AAAA;AAAA;AAAA,YAG7CI,KAH6C;AAIlD,YAAMkE,oBAAoB,GAAGZ,OAAO,CAACa,MAAR,CAAe,UAAApG,MAAM;AAAA,iBAAIA,MAAM,CAACiC,KAAP,KAAiBA,KAArB;AAAA,SAArB,CAA7B;AACA,YAAMoE,YAAY,GAAGF,oBAAoB,CAACG,GAArB,CAAyB,UAAAtG,MAAM;AAAA,iBAAIA,MAAM,CAACwE,WAAX;AAAA,SAA/B,CAArB;AAEAyB,uBAAe,CAACM,GAAhB,CAAoBtE,KAApB,EAA2BoE,YAA3B;AAPkD;;AAGtD,0DAA0B;AAAA;AAKzB;AARqD;AAAA;AAAA;AAAA;AAAA;;AAUtD,WAAOJ,eAAP;AACH;;iBAEcvE,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MC1DM4B,I;AACjB,oBAAwB;AAAA;;AAAA,wCAATkD,OAAS;AAATA,eAAS;AAAA;;AACpB,WAAKC,QAAL,GAAgBC,KAAK,CAACC,IAAN,CAAWH,OAAX,CAAhB;AACH;;;;WAED,eAAc;AACV,eAAO,KAAKC,QAAZ;AACH;;;WAED,eAAkB;AACd,eAAO,KAAKA,QAAL,CAAc,CAAd,CAAP;AACH;;;WAED,eAAiB;AACb,eAAO,KAAKA,QAAL,CAAc,KAAKA,QAAL,CAAcG,MAAd,GAAuB,CAArC,CAAP;AACH;;;WAED,eAAc;AACV,eAAOtD,IAAI,CAACuD,SAAL,CAAe,IAAf,CAAP;AACH;;;WAED,eAAa;AACT,YAAMC,MAAM,GAAG,EAAf;;AAEA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKP,OAAL,CAAaI,MAAjC,EAAyCG,CAAC,IAAI,CAA9C,EAAiD;AAC7C,cAAMC,WAAW,GAAG,KAAKR,OAAL,CAAaO,CAAb,CAApB;AACA,cAAME,SAAS,GAAG,KAAKT,OAAL,CAAaO,CAAC,GAAG,CAAjB,CAAlB;AAEAD,gBAAM,CAAC7I,IAAP,CAAY+I,WAAW,CAACE,OAAZ,EAAZ,EAAmCF,WAAW,CAACG,MAAZ,CAAmBD,OAAnB,EAAnC,EAAiED,SAAS,CAACE,MAAV,CAAiBD,OAAjB,EAAjE,EAA6FD,SAAS,CAACC,OAAV,EAA7F;AACH;;AAED,eAAOJ,MAAP;AACH;;;aAED,gBAAOpJ,IAAP,EAAa;AACT,eAAO,KAAK0J,OAAL,KAAiB1J,IAAI,CAAC0J,OAA7B;AACH;;;aAED,mBAAUC,CAAV,EAAaC,CAAb,EAAgB;AACZ,YAAMC,MAAM,GAAG,IAAIC,kBAAJ,CAAWH,CAAX,EAAcC,CAAd,CAAf;AACA,aAAKd,OAAL,CAAavI,IAAb,CAAkBsJ,MAAlB;AACA,eAAOA,MAAP;AACH;;;aAED,oBAAW;AACP,eAAO,KAAKH,OAAZ;AACH;;;aAED,cAAsB;AAAA,2CAATZ,OAAS;AAATA,iBAAS;AAAA;;AAClB,0BAAWlD,IAAX,EAAmBkD,OAAnB;AACH;;;aAED,mBAAiBY,OAAjB,EAA0B;AACtB,YAAI;AACA,cAAMK,WAAW,GAAGL,OAAO,CAACM,IAAR,EAApB;;AADA,sCAEyBD,WAAW,CAACE,KAAZ,2BAAkB,2BAAlB;AAAA;AAAA;AAAA,cAAqDC,MAArD,CAA4D,CAAC,CAA7D,EAAgEtB,GAAhE,CAAoEuB,mBAApE,CAFzB;AAAA;AAAA,cAEOC,MAFP;AAAA,cAEeC,MAFf;;AAGA,cAAMC,OAAO,GAAGP,WAAW,CAACQ,OAAZ,CAAoB,SAApB,EAA+B,EAA/B,EAAmCA,OAAnC,CAA2C,KAA3C,EAAkD,EAAlD,EAAsDC,KAAtD,CAA4D,MAA5D,EAAoE5B,GAApE,CAAwEuB,mBAAxE,CAAhB;;AAEA,cAAIG,OAAO,CAACpB,MAAR,GAAiB,CAAjB,KAAuB,CAA3B,EAA8B;AAC1B,kBAAM,IAAIuB,KAAJ,CAAU,2CAAV,CAAN;AACH,WAFD,MAGK;AACD,gBAAM3B,OAAO,GAAG,EAAhB;AAEAA,mBAAO,CAAC,CAAD,CAAP,GAAagB,mBAAOY,iBAAP,CACTC,kBAAMC,EAAN,CAASR,MAAT,EAAiBC,MAAjB,CADS,EAETM,kBAAMC,EAAN,CAASN,OAAO,CAAC,CAAD,CAAhB,EAAqBA,OAAO,CAAC,CAAD,CAA5B,CAFS,CAAb;;AAKA,iBAAK,IAAIjB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiB,OAAO,CAACpB,MAAR,GAAiB,CAArC,EAAwCG,CAAC,IAAI,CAA7C,EAAgD;AAC5C,kBAAMwB,CAAC,GAAG,CAACxB,CAAC,GAAG,CAAL,IAAU,CAAV,GAAc,CAAxB;AAEAP,qBAAO,CAAC+B,CAAD,CAAP,GAAaf,mBAAOY,iBAAP,CACTC,kBAAMC,EAAN,CAASN,OAAO,CAACjB,CAAC,GAAG,CAAL,CAAhB,EAAyBiB,OAAO,CAACjB,CAAC,GAAG,CAAL,CAAhC,CADS,EAETsB,kBAAMC,EAAN,CAASN,OAAO,CAACjB,CAAD,CAAhB,EAAsBiB,OAAO,CAACjB,CAAC,GAAG,CAAL,CAA7B,CAFS,CAAb;AAKAP,qBAAO,CAAC+B,CAAC,GAAG,CAAL,CAAP,GAAiBf,mBAAOY,iBAAP,CACbC,kBAAMC,EAAN,CAASN,OAAO,CAACjB,CAAC,GAAG,CAAL,CAAhB,EAAyBiB,OAAO,CAACjB,CAAC,GAAG,CAAL,CAAhC,CADa,EAEbsB,kBAAMC,EAAN,CAASN,OAAO,CAACjB,CAAC,GAAG,CAAL,CAAhB,EAAyBiB,OAAO,CAACjB,CAAC,GAAG,CAAL,CAAhC,CAFa,CAAjB;AAIH;;AAED,gBAAMyB,UAAU,GAAGhB,mBAAOY,iBAAP,CACfC,kBAAMC,EAAN,6CAAYN,OAAO,CAACS,KAAR,CAAc,CAAC,CAAf,CAAZ,EADe,EAEfJ,kBAAMC,EAAN,CAASN,OAAO,CAACA,OAAO,CAACpB,MAAR,GAAiB,CAAlB,CAAhB,EAAsCoB,OAAO,CAACA,OAAO,CAACpB,MAAR,GAAiB,CAAlB,CAA7C,CAFe,CAAnB;;AAKAJ,mBAAO,CAACvI,IAAR,CAAauK,UAAb;AAEA,mBAAOlF,IAAI,CAACgF,EAAL,OAAAhF,IAAI,EAAOkD,OAAP,CAAX;AACH;AACJ,SAvCD,CAwCA,OAAOkC,CAAP,EAAU;AACN,gBAAM,IAAIC,mCAAJ,CAA4BD,CAA5B,CAAN;AACH;AACJ;;;aAED,mBAAiBhL,IAAjB,EAAuB;AACnB,YAAIkL,IAAI,eAAQlL,IAAI,CAACmL,WAAL,CAAiBxB,CAAzB,cAA8B3J,IAAI,CAACmL,WAAL,CAAiBvB,CAA/C,OAAR;;AAEA,aAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGrJ,IAAI,CAAC8I,OAAL,CAAaI,MAAjC,EAAyCG,CAAC,IAAI,CAA9C,EAAiD;AAC7C,cAAMC,WAAW,GAAGtJ,IAAI,CAAC8I,OAAL,CAAaO,CAAb,CAApB;AACA,cAAME,SAAS,GAAGvJ,IAAI,CAAC8I,OAAL,CAAaO,CAAC,GAAG,CAAjB,CAAlB;AAEA6B,cAAI,eAAQ5B,WAAW,CAACG,MAAZ,CAAmBE,CAA3B,cAAgCL,WAAW,CAACG,MAAZ,CAAmBG,CAAnD,cAAwDL,SAAS,CAACE,MAAV,CAAiBE,CAAzE,cAA8EJ,SAAS,CAACE,MAAV,CAAiBG,CAA/F,cAAoGL,SAAS,CAACI,CAA9G,cAAmHJ,SAAS,CAACK,CAA7H,CAAJ;AACH;;AAED,YAAMR,MAAM,GAAGpJ,IAAI,CAACoJ,MAApB;AACA,YAAMgC,WAAW,GAAGhC,MAAM,CAACiC,KAAP,EAApB;AACA,YAAIC,KAAK,eAAQF,WAAW,CAACzB,CAApB,cAAyByB,WAAW,CAACxB,CAArC,OAAT;;AAZmB,mDAcDR,MAdC;AAAA;;AAAA;AAcnB,8DAA0B;AAAA,gBAAjBmC,KAAiB;AACtBD,iBAAK,eAAQC,KAAK,CAAC5B,CAAd,cAAmB4B,KAAK,CAAC3B,CAAzB,CAAL;AACH;AAhBkB;AAAA;AAAA;AAAA;AAAA;;AAkBnB,eAAOsB,IAAP;AACH;;;;;;;;AAGL,WAASf,mBAAT,CAA6BqB,aAA7B,EAA4C;AACxC,QAAMC,UAAU,GAAGC,MAAM,CAACC,UAAP,CAAkBH,aAAlB,CAAnB;AACA,QAAIC,UAAU,KAAKG,GAAnB,EAAwB,MAAM,IAAInB,KAAJ,sCAAuCe,aAAvC,QAAN;AACxB,WAAOC,UAAP;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MC9HoB3B,M;;;;;AACjB,oBAAYH,CAAZ,EAAeC,CAAf,EAAkB;AAAA;;AAAA;;AACd,gCAAMD,CAAN,EAASC,CAAT;AACA,YAAKH,MAAL,GAAc,IAAIoC,kBAAJ,CAAWlC,CAAX,EAAcC,CAAd,CAAd;AAFc;AAGjB;;;;aAED,mBAAU;AACN,eAAOe,mBAAMC,EAAN,CAAS,KAAKjB,CAAd,EAAiB,KAAKC,CAAtB,CAAP;AACH;;;aAED,2BAAyBkC,eAAzB,EAA0CC,eAA1C,EAA2D;AACvD,YAAMlC,MAAM,GAAGC,MAAM,CAACkC,QAAP,CAAgBF,eAAhB,CAAf;AACAjC,cAAM,CAACJ,MAAP,CAAcwC,IAAd,CAAmBF,eAAnB;AACA,eAAOlC,MAAP;AACH;;;aAED,kBAAgBqC,SAAhB,EAA2B;AACvB,eAAOpC,MAAM,CAACc,EAAP,CAAUsB,SAAS,CAACvC,CAApB,EAAuBuC,SAAS,CAACtC,CAAjC,CAAP;AACH;;;aAED,YAAUD,CAAV,EAAaC,CAAb,EAAgB;AACZ,eAAO,IAAIE,MAAJ,CAAWH,CAAX,EAAcC,CAAd,CAAP;AACH;;;;IAtB+Be,kB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCDfkB,M;;;;;;;;;;;;;aACjB,mBAAU;AACN,eAAOlB,mBAAMC,EAAN,CAAS,KAAKjB,CAAd,EAAiB,KAAKC,CAAtB,CAAP;AACH;;;aAED,YAAUD,CAAV,EAAaC,CAAb,EAAgB;AACZ,eAAO,IAAIiC,MAAJ,CAAWlC,CAAX,EAAcC,CAAd,CAAP;AACH;;;;IAP+Be,kB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCFfA,K;AACjB,qBAA0B;AAAA,UAAdhB,CAAc,uEAAV,CAAU;AAAA,UAAPC,CAAO,uEAAH,CAAG;;AAAA;;AACtB,WAAKD,CAAL,GAASA,CAAT;AACA,WAAKC,CAAL,GAASA,CAAT;AACH;;;;aAED,cAAKsC,SAAL,EAAgB;AACZ,aAAKvC,CAAL,GAASuC,SAAS,CAACvC,CAAnB;AACA,aAAKC,CAAL,GAASsC,SAAS,CAACtC,CAAnB;AACH;;;aAED,YAAUD,CAAV,EAAaC,CAAb,EAAgB;AACZ,eAAO,IAAIe,KAAJ,CAAUhB,CAAV,EAAaC,CAAb,CAAP;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCbgBqB,uB;;;;;;;;;;;;mCAAgCR,K;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCI/CzE,U;AAIF,wBAAYmG,aAAZ,EAA0G;AAAA,UAA/E5H,KAA+E,uEAAvEyB,UAAU,CAACC,KAAX,CAAiBmG,SAAsD;AAAA,UAA3CtF,WAA2C,uEAA7Bd,UAAU,CAACG,WAAX,CAAuBC,IAAM;;AAAA;;AACtG,WAAKpG,IAAL,GAAYmM,aAAa,YAAYvG,gBAAzB,GAAgCuG,aAAhC,GAAgDvG,iBAAKyG,SAAL,CAAeF,aAAf,CAA5D;AACA,WAAK5H,KAAL,GAAaA,KAAb;AACA,WAAKuC,WAAL,GAAmBA,WAAnB;AACH;;;;aAED,iBAAQ;AACJ,eAAOd,UAAU,CAAC4E,EAAX,CAAc,KAAK5K,IAAL,CAAU0F,QAAV,EAAd,EAAoC,KAAKnB,KAAzC,EAAgD,KAAKuC,WAArD,CAAP;AACH;;;aAED,oBAAW;AACP,0BAAW,KAAK9G,IAAL,CAAU0F,QAAV,EAAX,eAAoC,KAAKnB,KAAzC,cAAkD,KAAKuC,WAAvD;AACH;;;aAED,gBAAOxE,MAAP,EAAe;AACX,eAAO,KAAKoD,QAAL,OAAoBpD,MAAM,CAACoD,QAAP,EAA3B;AACH;;;aAED,YAAUgE,OAAV,EAAkG;AAAA,YAA/EnF,KAA+E,uEAAvEyB,UAAU,CAACC,KAAX,CAAiBmG,SAAsD;AAAA,YAA3CtF,WAA2C,uEAA7Bd,UAAU,CAACG,WAAX,CAAuBC,IAAM;AAC9F,eAAO,IAAIJ,UAAJ,CAAe0D,OAAf,EAAwBnF,KAAxB,EAA+BuC,WAA/B,CAAP;AACH;;;;;;kBAxBCd,U,WACasG,iB;;kBADbtG,U,iBAEmBuG,uB;;iBA8BVvG,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCjCTwG,kB;AACF,gCAAYC,gBAAZ,EAA8B;AAAA;;AAC1B,WAAKC,iBAAL,GAAyBD,gBAAzB;AACA,WAAKE,WAAL,GAAmB,IAAnB;AACA,WAAKC,iBAAL,GAAyB,IAAzB;AACH;;;;aAED,mBAAUC,UAAV,EAAsB;AAClB,aAAKF,WAAL,GAAmBE,UAAnB;AACA,eAAO,IAAP;AACH;;;aAED,yBAAgB/F,WAAhB,EAA6B;AACzB,aAAK8F,iBAAL,GAAyB9F,WAAzB;AACA,eAAO,IAAP;AACH;;;aAED,gBAAO;AACH,YAAMxE,MAAM,GAAG,KAAKoK,iBAAL,EAAf;;AAEA,YAAI,KAAKC,WAAT,EAAsB;AAClBrK,gBAAM,CAACiC,KAAP,GAAe,KAAKoI,WAApB;AACH;;AAED,YAAI,KAAKC,iBAAT,EAA4B;AACxBtK,gBAAM,CAACwE,WAAP,GAAqB,KAAK8F,iBAA1B;AACH;;AAED,eAAOtK,MAAP;AACH;;;aAED,kBAAgBA,MAAhB,EAAwB;AACpB,eAAO,IAAIkK,kBAAJ,CAAuB;AAAA,iBAAMlK,MAAM,CAACgF,KAAP,EAAN;AAAA,SAAvB,CAAP;AACH;;;;;;iBAGUkF,kB;;;;;;;;;;;;;;;;;;;;;;;;;;;iBCvCAM,MAAM,CAACC,MAAP,CAAc;AACzBC,UAAM,EAAE,QADiB;AAEzBC,QAAI,EAAE,MAFmB;AAGzBC,QAAI,EAAE,MAHmB;AAIzBC,SAAK,EAAE,OAJkB;AAKzBC,SAAK,EAAE,OALkB;AAMzBC,SAAK,EAAE,OANkB;AAOzBC,QAAI,EAAE,MAPmB;AAQzBC,QAAI,EAAE,MARmB;AASzBC,QAAI,EAAE,MATmB;AAUzBC,WAAO,EAAE,SAVgB;AAWzBC,UAAM,EAAE,QAXiB;AAYzBxH,UAAM,EAAE,QAZiB;AAazBkG,aAAS,EAAE;AAbc,GAAd,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;iBCAAU,MAAM,CAACC,MAAP,CAAc;AACzBY,MAAE,EAAE,IADqB;AAEzBC,OAAG,EAAE,KAFoB;AAGzBC,UAAM,EAAE,OAHiB;AAIzBzH,QAAI,EAAE;AAJmB,GAAd,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACGf;AACA;AAEO,MAAM0H,MAAM,GAAGtB,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,qBAAd,EAAqC0B,kBAAMU,MAA3C,EAAmDT,wBAAYnG,IAA/D,CAA5B,CAAf;;;;AAEA,MAAM4H,MAAM,GAAGxB,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,2BAAd,EAA2C0B,kBAAMW,IAAjD,EAAuDV,wBAAYoB,EAAnE,CAA5B,CAAf;;;;AACA,MAAMM,OAAO,GAAGzB,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,2BAAd,EAA2C0B,kBAAMW,IAAjD,EAAuDV,wBAAYqB,GAAnE,CAA5B,CAAhB;;;;AACA,MAAMM,SAAS,GAAG1B,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,2BAAd,EAA2C0B,kBAAMW,IAAjD,EAAuDV,wBAAYsB,MAAnE,CAA5B,CAAlB;;;;AAEA,MAAMM,MAAM,GAAG3B,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,0BAAd,EAA0C0B,kBAAMY,IAAhD,EAAsDX,wBAAYoB,EAAlE,CAA5B,CAAf;;;;AACA,MAAMS,OAAO,GAAG5B,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,0BAAd,EAA0C0B,kBAAMY,IAAhD,EAAsDX,wBAAYqB,GAAlE,CAA5B,CAAhB;;;;AACA,MAAMS,SAAS,GAAG7B,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,2BAAd,EAA2C0B,kBAAMY,IAAjD,EAAuDX,wBAAYsB,MAAnE,CAA5B,CAAlB;;;;AAEA,MAAMS,OAAO,GAAG9B,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,2BAAd,EAA2C0B,kBAAMa,KAAjD,EAAwDZ,wBAAYoB,EAApE,CAA5B,CAAhB;;;;AACA,MAAMY,QAAQ,GAAG/B,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,2BAAd,EAA2C0B,kBAAMa,KAAjD,EAAwDZ,wBAAYqB,GAApE,CAA5B,CAAjB;;;;AACA,MAAMY,UAAU,GAAGhC,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,2BAAd,EAA2C0B,kBAAMa,KAAjD,EAAwDZ,wBAAYsB,MAApE,CAA5B,CAAnB;;;;AAEA,MAAMY,OAAO,GAAGjC,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,0BAAd,EAA0C0B,kBAAMc,KAAhD,EAAuDb,wBAAYoB,EAAnE,CAA5B,CAAhB;;;;AACA,MAAMe,QAAQ,GAAGlC,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,0BAAd,EAA0C0B,kBAAMc,KAAhD,EAAuDb,wBAAYqB,GAAnE,CAA5B,CAAjB;;;;AACA,MAAMe,UAAU,GAAGnC,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,2BAAd,EAA2C0B,kBAAMc,KAAjD,EAAwDb,wBAAYsB,MAApE,CAA5B,CAAnB;;;;AAEA,MAAMe,MAAM,GAAGpC,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,0BAAd,EAA0C0B,kBAAMgB,IAAhD,EAAsDf,wBAAYoB,EAAlE,CAA5B,CAAf;;;;AACA,MAAMkB,OAAO,GAAGrC,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,0BAAd,EAA0C0B,kBAAMgB,IAAhD,EAAsDf,wBAAYqB,GAAlE,CAA5B,CAAhB;;;;AACA,MAAMkB,SAAS,GAAGtC,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,2BAAd,EAA2C0B,kBAAMgB,IAAjD,EAAuDf,wBAAYsB,MAAnE,CAA5B,CAAlB;;;;AAEA,MAAMkB,MAAM,GAAGvC,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,2BAAd,EAA2C0B,kBAAMiB,IAAjD,EAAuDhB,wBAAYoB,EAAnE,CAA5B,CAAf;;;;AACA,MAAMqB,OAAO,GAAGxC,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,2BAAd,EAA2C0B,kBAAMiB,IAAjD,EAAuDhB,wBAAYqB,GAAnE,CAA5B,CAAhB;;;;AACA,MAAMqB,SAAS,GAAGzC,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,2BAAd,EAA2C0B,kBAAMiB,IAAjD,EAAuDhB,wBAAYsB,MAAnE,CAA5B,CAAlB;;;;AAEA,MAAMqB,MAAM,GAAG1C,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,+BAAd,EAA+C0B,kBAAMkB,IAArD,EAA2DjB,wBAAYoB,EAAvE,CAA5B,CAAf;;;;AACA,MAAMwB,OAAO,GAAG3C,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,8BAAd,EAA8C0B,kBAAMkB,IAApD,EAA0DjB,wBAAYqB,GAAtE,CAA5B,CAAhB;;;;AACA,MAAMwB,SAAS,GAAG5C,+BAAmBuB,QAAnB,CAA4B/H,uBAAW4E,EAAX,CAAc,gCAAd,EAAgD0B,kBAAMkB,IAAtD,EAA4DjB,wBAAYsB,MAAxE,CAA5B,CAAlB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MC5BD3J,O;;;;;AACF,qBAAYC,MAAZ,EAAoB;AAAA;;AAAA;;AAChB,gCAAMkL,eAAe,CAACC,eAAD,CAArB;AAEA,YAAKC,kBAAL,GAA0B,IAAIC,6BAAJ,CAAsB,MAAKC,QAA3B,EAAqCtL,MAArC,CAA1B;AACA,YAAKuL,mBAAL,GAA2B,IAA3B;;AAEA,YAAKH,kBAAL,CAAwB5K,EAAxB,CAA2BC,yBAAaC,qBAAxC,EAA+D;AAAA;;AAAA,0CAAI8K,IAAJ;AAAIA,cAAJ;AAAA;;AAAA,eAAa,iBAAKC,IAAL,gBAAUhL,yBAAaC,qBAAvB,SAAiD8K,IAAjD,EAAb;AAAA,OAA/D;;AACA,YAAKJ,kBAAL,CAAwB5K,EAAxB,CAA2BC,yBAAaG,2BAAxC,EAAqE;AAAA;;AAAA,2CAAI4K,IAAJ;AAAIA,cAAJ;AAAA;;AAAA,eAAa,iBAAKC,IAAL,gBAAUhL,yBAAaG,2BAAvB,SAAuD4K,IAAvD,EAAb;AAAA,OAArE;;AACA,YAAKJ,kBAAL,CAAwB5K,EAAxB,CAA2BC,yBAAaK,iBAAxC,EAA2D;AAAA;;AAAA,2CAAI0K,IAAJ;AAAIA,cAAJ;AAAA;;AAAA,eAAa,iBAAKC,IAAL,gBAAUhL,yBAAaK,iBAAvB,SAA6C0K,IAA7C,EAAb;AAAA,OAA3D;;AARgB;AASnB;;;;aAED,yBAAgBhH,YAAhB,EAA8B;AAC1B,aAAK4G,kBAAL,CAAwBlL,eAAxB,CAAwCsE,YAAxC;AACH;;;aAED,mBAAUrG,MAAV,EAAkB;AACd,aAAKiN,kBAAL,CAAwB/K,SAAxB,CAAkClC,MAAlC;;AAEA,YAAI,KAAKuN,aAAL,EAAJ,EAA0B;AACtB,eAAKH,mBAAL,CAAyB1P,IAAzB,GAAgCsC,MAAM,CAACtC,IAAvC;AACH;AACJ;;;aAED,oBAAW8P,WAAX,EAAwB;AAAA;;AACpB,YAAI,KAAKD,aAAL,EAAJ,EAA0B;;AAE1B,aAAKJ,QAAL,CAAcM,SAAd,CAAwB3M,MAAxB,CAA+B,aAA/B;;AACA,aAAKqM,QAAL,CAAcM,SAAd,CAAwBC,GAAxB,CAA4B,WAA5B;;AAEA,aAAKN,mBAAL,GAA2B,IAAIO,8BAAJ,CAAuB,KAAKR,QAA5B,CAA3B;;AACA,aAAKC,mBAAL,CAAyB/K,EAAzB,CAA4BC,yBAAaS,wBAAzC,EAAmE;AAAA,6CAAIsK,IAAJ;AAAIA,gBAAJ;AAAA;;AAAA,iBAAa,MAAI,CAACC,IAAL,aAAI,GAAMhL,yBAAaS,wBAAnB,SAAgDsK,IAAhD,EAAjB;AAAA,SAAnE;;AACA,aAAKD,mBAAL,CAAyB/K,EAAzB,CAA4BC,yBAAaW,yBAAzC,EAAoE;AAAA,6CAAIoK,IAAJ;AAAIA,gBAAJ;AAAA;;AAAA,iBAAa,MAAI,CAACC,IAAL,aAAI,GAAMhL,yBAAaW,yBAAnB,SAAiDoK,IAAjD,EAAjB;AAAA,SAApE;;AACA,aAAKD,mBAAL,CAAyB/K,EAAzB,CAA4BC,yBAAaO,aAAzC,EAAwD;AAAA,6CAAIwK,IAAJ;AAAIA,gBAAJ;AAAA;;AAAA,iBAAa,MAAI,CAACC,IAAL,aAAI,GAAMhL,yBAAaO,aAAnB,SAAqCwK,IAArC,EAAjB;AAAA,SAAxD;;AACA,aAAKD,mBAAL,CAAyB1P,IAAzB,GAAgC8P,WAAhC;AACH;;;aAED,uBAAc;AACV,YAAI,CAAC,KAAKD,aAAL,EAAL,EAA2B;;AAE3B,aAAKJ,QAAL,CAAcM,SAAd,CAAwB3M,MAAxB,CAA+B,WAA/B;;AACA,aAAKqM,QAAL,CAAcM,SAAd,CAAwBC,GAAxB,CAA4B,aAA5B;;AAEA,aAAKN,mBAAL,CAAyBQ,OAAzB;;AACA,aAAKR,mBAAL,GAA2B,IAA3B;AACH;;;aAED,0BAAiB;AACb,aAAKH,kBAAL,CAAwB7K,cAAxB;AACH;;;WAED,eAAiB;AACb,eAAO,KAAK+K,QAAZ;AACH;;;aAED,yBAAgB;AACZ,eAAO,CAAC,CAAC,KAAKC,mBAAd;AACH;;;;IAzDiBS,gC;;AA4DtB,WAASd,eAAT,CAAyBe,QAAzB,EAAmC;AAC/B,WAAQ,IAAIC,SAAJ,EAAD,CAAkBC,eAAlB,CAAkCF,QAAlC,EAA4C,WAA5C,EAAyDG,IAAzD,CAA8DC,UAArE;AACH;;iBAMctM,O;;;;;;;;;;;;;;;;;;;;;;;;;;;iBC1EA4I,MAAM,CAACC,MAAP,CAAc;AACzBlI,yBAAqB,EAAE,iCADE;AAEzBE,+BAA2B,EAAE,uCAFJ;AAGzBE,qBAAiB,EAAE,6BAHM;AAIzBE,iBAAa,EAAE,0BAJU;AAKzBE,4BAAwB,EAAE,mCALD;AAMzBE,6BAAyB,EAAE;AANF,GAAd,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCAM4K,mB;AACjB,iCAAYM,WAAZ,EAAyB;AAAA;;AACrB,WAAKhB,QAAL,GAAgBgB,WAAhB;AACH;;;;aAED,YAAGC,QAAH,EAAapK,QAAb,EAAuB;AACnB,aAAKmJ,QAAL,CAAckB,gBAAd,CAA+BD,QAA/B,EAAyC,UAAAE,KAAK;AAAA,iBAAItK,QAAQ,MAAR,4BAAYsK,KAAK,CAACC,MAAlB,EAAJ;AAAA,SAA9C;AACH;;;aAED,cAAKH,QAAL,EAAwB;AAAA,0CAANf,IAAM;AAANA,cAAM;AAAA;;AACpB,aAAKF,QAAL,CAAcqB,aAAd,CAA4B,IAAIC,WAAJ,CAAgBL,QAAhB,EAA0B;AAAEG,gBAAM,EAAElB;AAAV,SAA1B,CAA5B;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCNgBqB,qB;;;;;AACjB,mCAAYC,cAAZ,EAA4B9M,MAA5B,EAAoC;AAAA;;AAAA;;AAChC,gCAAM,8BAAc8M,cAAd,CAAN;;AADgC,iDAGb,MAAKC,eAAL,CAAqB/M,MAArB,CAHa;AAAA;;AAAA;AAGhC,4DAAiD;AAAA,cAAxCgN,MAAwC;;AAC7C,gBAAK1B,QAAL,CAAc2B,OAAd,CAAsBpB,GAAtB,CAA0BmB,MAA1B;AACH;AAL+B;AAAA;AAAA;AAAA;AAAA;;AAOhC,YAAK1B,QAAL,CAAc4B,QAAd,GAAyB;AAAA,eAAM,MAAKzB,IAAL,CAAUhL,yBAAaC,qBAAvB,EAA8C,MAAK4K,QAAL,CAAclN,KAA5D,CAAN;AAAA,OAAzB;;AAPgC;AAQnC;;;;WAED,aAAUgC,KAAV,EAAiB;AACb,aAAKkL,QAAL,CAAclN,KAAd,GAAsBgC,KAAtB;AACH;;;aAED,yBAAgBJ,MAAhB,EAAwB;AACpB,YAAMiN,OAAO,GAAGjN,MAAM,CAACyE,GAAP,CAAW,UAAArE,KAAK;AAAA,iBAAI,IAAI+M,MAAJ,CAAW/M,KAAX,EAAkBA,KAAlB,CAAJ;AAAA,SAAhB,CAAhB;AAEA,4CAAW6M,OAAX,IAAoB,KAAKG,wBAAL,EAApB;AACH;;;aAED,oCAA2B;AACvB,YAAMC,iBAAiB,GAAG,IAAIF,MAAJ,CAAWhF,kBAAMpG,MAAjB,EAAyBoG,kBAAMpG,MAA/B,CAA1B;AACAsL,yBAAiB,CAACC,YAAlB,CAA+B,QAA/B,EAAyC,IAAzC;AACA,eAAOD,iBAAP;AACH;;;;IAzB8CrB,gC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCC9BF,kB;;;;;AACjB,gCAAYgB,cAAZ,EAA4B;AAAA;;AAAA;;AACxB,gCAAM,6BAAaA,cAAb,CAAN;AAEA,YAAKS,OAAL,GAAe,IAAIC,sBAAJ,CAAe,MAAKlC,QAApB,CAAf;;AACA,YAAKA,QAAL,CAAckB,gBAAd,CAA+BiB,mCAAuBC,GAAtD,EAA2D;AAAA,eAAM,MAAKjC,IAAL,CAAUhL,sBAAaO,aAAvB,EAAsC,MAAKuM,OAAL,CAAa1R,IAAnD,CAAN;AAAA,OAA3D;;AAEA,YAAK8R,iBAAL,GAAyB,MAAKC,qBAAL,CAA2Bd,cAA3B,CAAzB;AACA,YAAKe,WAAL,GAAmB,MAAKC,eAAL,CAAqBhB,cAArB,EAAqC,MAAKa,iBAA1C,CAAnB;AACA,YAAKI,aAAL,GAAqB,MAAKC,iBAAL,CAAuBlB,cAAvB,CAArB;AACA,YAAKmB,cAAL,GAAsB,MAAKC,kBAAL,CAAwBpB,cAAxB,CAAtB;AATwB;AAU3B;;;;WAED,aAASjR,IAAT,EAAe;AACX,aAAK0R,OAAL,CAAa1R,IAAb,GAAoBA,IAApB;AACA,aAAK8R,iBAAL,CAAuBvP,KAAvB,GAA+BvC,IAAI,CAAC0F,QAAL,EAA/B;AACH;;;aAED,mBAAU;AACN;AACA,YAAM4M,MAAM,GAAG,KAAK7C,QAApB;AACA,YAAM8C,WAAW,GAAGD,MAAM,CAACE,SAAP,CAAiB,IAAjB,CAApB;AAEAF,cAAM,CAACG,UAAP,CAAkBC,YAAlB,CAA+BH,WAA/B,EAA4CD,MAA5C;AACH;;;aAED,+BAAsBrB,cAAtB,EAAsC;AAAA;;AAClC,YAAM0B,gBAAgB,GAAG,uCAAuB1B,cAAvB,CAAzB;;AAEA0B,wBAAgB,CAACC,OAAjB,GAA2B,UAAAhC,KAAK,EAAI;AAChC,cAAI;AACA,gBAAM5Q,IAAI,GAAG4F,iBAAKC,WAAL,CAAiB8M,gBAAgB,CAACpQ,KAAlC,CAAb;;AAEA,kBAAI,CAACmP,OAAL,CAAa1R,IAAb,GAAoBA,IAApB;;AACA,kBAAI,CAAC4P,IAAL,CAAUhL,sBAAaO,aAAvB,EAAsCnF,IAAtC;AACH,WALD,CAMA,OAAMgL,CAAN,EAAS;AACLxK,mBAAO,CAACC,IAAR,mCAAwCkS,gBAAgB,CAACpQ,KAAzD;AACH;AACJ,SAVD;;AAYA,eAAOoQ,gBAAP;AACH;;;aAED,yBAAgB1B,cAAhB,EAAgC4B,uBAAhC,EAAyD;AACrD,YAAMC,aAAa,GAAG,wCAAwB7B,cAAxB,CAAtB;;AAEA6B,qBAAa,CAACC,OAAd,GAAwB,YAAM;AAC1BF,iCAAuB,CAACG,MAAxB;AACAtQ,kBAAQ,CAACuQ,WAAT,CAAqB,MAArB;AACAzS,iBAAO,CAAC0S,IAAR,kBAAuBL,uBAAuB,CAACtQ,KAA/C;AACH,SAJD;;AAMA,eAAOuQ,aAAP;AACH;;;aAED,2BAAkB7B,cAAlB,EAAkC;AAAA;;AAC9B,YAAM6B,aAAa,GAAG,mCAAmB7B,cAAnB,CAAtB;;AAEA6B,qBAAa,CAACC,OAAd,GAAwB;AAAA,iBAAM,MAAI,CAACnD,IAAL,CAAUhL,sBAAaS,wBAAvB,EAAiD,MAAI,CAACqM,OAAL,CAAa1R,IAA9D,CAAN;AAAA,SAAxB;;AAEA,eAAO8S,aAAP;AACH;;;aAED,4BAAmB7B,cAAnB,EAAmC;AAAA;;AAC/B,YAAM6B,aAAa,GAAG,oCAAoB7B,cAApB,CAAtB;;AAEA6B,qBAAa,CAACC,OAAd,GAAwB;AAAA,iBAAM,MAAI,CAACnD,IAAL,CAAUhL,sBAAaW,yBAAvB,CAAN;AAAA,SAAxB;;AAEA,eAAOuN,aAAP;AACH;;;;IAtE2C3C,gC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCH3BgD,2B;;;;;AACjB,yCAAYlC,cAAZ,EAA4B;AAAA;;AAAA;;AACxB;AAEA,YAAKmC,kBAAL,GAA0B,kCAAkBnC,cAAlB,CAA1B;AACA,YAAKmC,kBAAL,CAAwBC,KAAxB,GAAgC,MAAKD,kBAAL,CAAwBE,MAAxB,GAAiC,EAAjE;AAEA,YAAKC,yBAAL,GAAiC,MAAKH,kBAAL,CAAwBI,UAAxB,CAAmC,IAAnC,CAAjC;AANwB;AAO3B;;;;aAED,iBAAQxT,IAAR,EAAc;AACV,YAAMyT,GAAG,GAAG,KAAKF,yBAAjB;AADU,oCAEgB,KAAKH,kBAFrB;AAAA,YAEFC,KAFE,yBAEFA,KAFE;AAAA,YAEKC,MAFL,yBAEKA,MAFL;AAIVG,WAAG,CAACC,WAAJ,GAAkBD,GAAG,CAACE,SAAJ,GAAgB,SAAlC;AACNF,WAAG,CAACG,SAAJ,GAAgB,CAAhB;AACMH,WAAG,CAACI,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoBR,KAApB,EAA2BC,MAA3B;AACAG,WAAG,CAACK,SAAJ;AACNL,WAAG,CAACM,MAAJ,CAAW/T,IAAI,CAACmL,WAAL,CAAiBxB,CAAjB,GAAqB0J,KAAhC,EAAuC,CAAC,IAAIrT,IAAI,CAACmL,WAAL,CAAiBvB,CAAtB,IAA2B0J,MAAlE;;AAEM,aAAK,IAAIjK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGrJ,IAAI,CAAC8I,OAAL,CAAaI,MAAjC,EAAyCG,CAAC,IAAI,CAA9C,EAAiD;AAC7C,cAAMC,WAAW,GAAGtJ,IAAI,CAAC8I,OAAL,CAAaO,CAAb,CAApB;AACA,cAAME,SAAS,GAAGvJ,IAAI,CAAC8I,OAAL,CAAaO,CAAC,GAAG,CAAjB,CAAlB;AAEAoK,aAAG,CAACO,aAAJ,CACI1K,WAAW,CAACG,MAAZ,CAAmBE,CAAnB,GAAuB0J,KAD3B,EACkC,CAAC,IAAI/J,WAAW,CAACG,MAAZ,CAAmBG,CAAxB,IAA6B0J,MAD/D,EAEI/J,SAAS,CAACE,MAAV,CAAiBE,CAAjB,GAAqB0J,KAFzB,EAEgC,CAAC,IAAI9J,SAAS,CAACE,MAAV,CAAiBG,CAAtB,IAA2B0J,MAF3D,EAGI/J,SAAS,CAACI,CAAV,GAAc0J,KAHlB,EAGyB,CAAC,IAAI9J,SAAS,CAACK,CAAf,IAAoB0J,MAH7C;AAIH;;AAEDG,WAAG,CAACQ,MAAJ,CAAWZ,KAAX,EAAkBC,MAAlB;AACAG,WAAG,CAACQ,MAAJ,CAAW,CAAX,EAAcX,MAAd;AACAG,WAAG,CAACS,MAAJ;AACAT,WAAG,CAACU,IAAJ;AACH;;;;IAlCoDhE,gC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCIpCX,iB;;;;;AACjB,+BAAYyB,cAAZ,EAA4B9M,MAA5B,EAAoC;AAAA;;AAAA;;AAChC,gCAAM,0BAAU8M,cAAV,CAAN;AAEA,YAAKmD,cAAL,GAAsB,IAAIpD,iCAAJ,CAA0BC,cAA1B,EAA0C9M,MAA1C,CAAtB;;AACA,YAAKiQ,cAAL,CAAoBzP,EAApB,CAAuBC,yBAAaC,qBAApC,EAA2D;AAAA;;AAAA,0CAAI8K,IAAJ;AAAIA,cAAJ;AAAA;;AAAA,eAAa,iBAAKC,IAAL,gBAAUhL,yBAAaC,qBAAvB,SAAiD8K,IAAjD,EAAb;AAAA,OAA3D;;AAEA,YAAK0E,oBAAL,GAA4B,IAAIC,uCAAJ,CAAgCrD,cAAhC,CAA5B;;AACA,YAAKoD,oBAAL,CAA0B1P,EAA1B,CAA6BC,yBAAaG,2BAA1C,EAAuE;AAAA;;AAAA,2CAAI4K,IAAJ;AAAIA,cAAJ;AAAA;;AAAA,eAAa,iBAAKC,IAAL,gBAAUhL,yBAAaG,2BAAvB,SAAuD4K,IAAvD,EAAb;AAAA,OAAvE;;AAEA,YAAK4E,WAAL,GAAmB,IAAIpB,uCAAJ,CAAgClC,cAAhC,CAAnB;AAEA,YAAKuD,kBAAL,GAA0B,2BAAWvD,cAAX,CAA1B;AACA,YAAKuD,kBAAL,CAAwBC,KAAxB,CAA8BC,OAA9B,GAAwC,MAAxC;;AACA,YAAKF,kBAAL,CAAwB7D,gBAAxB,CAAyC,OAAzC,EAAkD;AAAA,eAAM,MAAKf,IAAL,CAAUhL,yBAAaK,iBAAvB,CAAN;AAAA,OAAlD;;AAbgC;AAcnC;;;;aAED,yBAAgB0D,YAAhB,EAA8B;AAC1B,aAAK0L,oBAAL,CAA0BM,MAA1B,GAAmChM,YAAnC;AACH;;;aAED,mBAAUrG,MAAV,EAAkB;AACd,aAAK8R,cAAL,CAAoB7R,KAApB,GAA4BD,MAAM,CAACiC,KAAnC;AACA,aAAK8P,oBAAL,CAA0B9R,KAA1B,GAAkCD,MAAM,CAACwE,WAAzC;;AACA,aAAKyN,WAAL,CAAiBK,OAAjB,CAAyBtS,MAAM,CAACtC,IAAhC;AACH;;;aAED,0BAAiB;AACb,aAAKwU,kBAAL,CAAwBC,KAAxB,CAA8BC,OAA9B,GAAwC,IAAxC;AACH;;;;IA7B0CvE,gC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCH1BmE,2B;;;;;AACjB,yCAAYrD,cAAZ,EAA4B;AAAA;;AAAA;;AACxB,gCAAM,oCAAoBA,cAApB,CAAN;;AAEA,YAAKxB,QAAL,CAAc4B,QAAd,GAAyB;AAAA,eAAM,MAAKzB,IAAL,CAAUhL,yBAAaG,2BAAvB,EAAoD,MAAK0K,QAAL,CAAclN,KAAlE,CAAN;AAAA,OAAzB;;AAHwB;AAI3B;;;;WAED,aAAWoG,YAAX,EAAyB;AACrB,aAAK8G,QAAL,CAAc2B,OAAd,CAAsBlI,MAAtB,GAA+B,CAA/B;;AAEA,YAAIP,YAAY,CAACO,MAAb,GAAsB,CAA1B,EAA6B;AAAA,qDACDP,YADC;AAAA;;AAAA;AACzB,gEAAsC;AAAA,kBAA7B7B,WAA6B;;AAClC,mBAAK2I,QAAL,CAAc2B,OAAd,CAAsBpB,GAAtB,CAA0B,IAAIsB,MAAJ,CAAWxK,WAAX,EAAwBA,WAAxB,CAA1B;AACH;AAHwB;AAAA;AAAA;AAAA;AAAA;;AAIzB,eAAK2I,QAAL,CAAcoF,eAAd,CAA8B,UAA9B;AACH,SALD,MAMK;AACD,eAAKpF,QAAL,CAAcgC,YAAd,CAA2B,UAA3B,EAAuC,IAAvC;AACH;AACJ;;;WAED,aAAU3K,WAAV,EAAuB;AACnB,aAAK2I,QAAL,CAAclN,KAAd,GAAsBuE,WAAtB;AACH;;;;IAvBoDqJ,gC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJlD,WAAS2E,SAAT,CAAmB7D,cAAnB,EAAmC;AACtC,WAAOA,cAAc,CAAChO,aAAf,CAA6B,gBAA7B,CAAP;AACH;;AAEM,WAAS8R,aAAT,CAAuB9D,cAAvB,EAAuC;AAC1C,WAAOA,cAAc,CAAChO,aAAf,CAA6B,iBAA7B,CAAP;AACH;;AAEM,WAAS+R,mBAAT,CAA6B/D,cAA7B,EAA6C;AAChD,WAAOA,cAAc,CAAChO,aAAf,CAA6B,uBAA7B,CAAP;AACH;;AAEM,WAASgS,iBAAT,CAA2BhE,cAA3B,EAA2C;AAC9C,WAAOA,cAAc,CAAChO,aAAf,CAA6B,qBAA7B,CAAP;AACH;;AAEM,WAASiS,UAAT,CAAoBjE,cAApB,EAAoC;AACvC,WAAOA,cAAc,CAAChO,aAAf,CAA6B,cAA7B,CAAP;AACH;;AAEM,WAASkS,YAAT,CAAsBlE,cAAtB,EAAsC;AACzC,WAAOA,cAAc,CAAChO,aAAf,CAA6B,eAA7B,CAAP;AACH;;AAEM,WAASmS,sBAAT,CAAgCnE,cAAhC,EAAgD;AACnD,WAAOA,cAAc,CAAChO,aAAf,CAA6B,gBAA7B,CAAP;AACH;;AAEM,WAASoS,uBAAT,CAAiCpE,cAAjC,EAAiD;AACpD,WAAOA,cAAc,CAAChO,aAAf,CAA6B,cAA7B,CAAP;AACH;;AAEM,WAASqS,kBAAT,CAA4BrE,cAA5B,EAA4C;AAC/C,WAAOA,cAAc,CAAChO,aAAf,CAA6B,gBAA7B,CAAP;AACH;;AAEM,WAASsS,mBAAT,CAA6BtE,cAA7B,EAA6C;AAChD,WAAOA,cAAc,CAAChO,aAAf,CAA6B,iBAA7B,CAAP;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCjCoB0O,U;AACnB,wBAAYW,MAAZ,EAAoB;AAAA;;AAClB,WAAKkD,OAAL,GAAelD,MAAf;AACA,WAAKmD,IAAL,GAAY,KAAKC,eAAL,CAAqBpD,MAArB,CAAZ;AACA,WAAKqD,MAAL,GAAc,KAAKC,sBAAL,CAA4B,KAAKH,IAAjC,CAAd;;AACA,WAAKI,gBAAL,CAAsB,KAAKF,MAA3B,EAAmCrD,MAAnC;AACD;;;;WAqCD,eAAW;AACT,YAAMtS,IAAI,GAAG,IAAI4F,gBAAJ,EAAb;AADS,2BAEkB,KAAK+P,MAFvB;AAAA,YAEDG,EAFC,gBAEDA,EAFC;AAAA,YAEGC,EAFH,gBAEGA,EAFH;AAAA,YAEO3M,MAFP,gBAEOA,MAFP;;AAIT,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAAM,CAACF,MAAP,GAAgB,CAApC,EAAuCG,CAAC,EAAxC,EAA4C;AAC1C,cAAM2M,UAAU,GAAG5M,MAAM,CAACC,CAAD,CAAzB;AACA,cAAMC,WAAW,GAAGtJ,IAAI,CAACiW,SAAL,CAAe,KAAKC,YAAL,CAAkBF,UAAU,CAACG,QAAX,CAAoBxM,CAAtC,CAAf,EAAyD,KAAKyM,YAAL,CAAkBJ,UAAU,CAACG,QAAX,CAAoBvM,CAAtC,CAAzD,CAApB;AACAN,qBAAW,CAACG,MAAZ,CAAmBE,CAAnB,GAAuB,KAAKuM,YAAL,CAAkBF,UAAU,CAACK,GAAX,CAAe1M,CAAjC,CAAvB;AACAL,qBAAW,CAACG,MAAZ,CAAmBG,CAAnB,GAAuB,KAAKwM,YAAL,CAAkBJ,UAAU,CAACK,GAAX,CAAezM,CAAjC,CAAvB;AAEA,cAAM0M,QAAQ,GAAGlN,MAAM,CAACC,CAAC,GAAG,CAAL,CAAvB;AACA,cAAME,SAAS,GAAGvJ,IAAI,CAACiW,SAAL,CAAe,KAAKC,YAAL,CAAkBI,QAAQ,CAACH,QAAT,CAAkBxM,CAApC,CAAf,EAAuD,KAAKyM,YAAL,CAAkBE,QAAQ,CAACH,QAAT,CAAkBvM,CAApC,CAAvD,CAAlB;AACAL,mBAAS,CAACE,MAAV,CAAiBE,CAAjB,GAAqB,KAAKuM,YAAL,CAAkBI,QAAQ,CAACC,GAAT,CAAa5M,CAA/B,CAArB;AACAJ,mBAAS,CAACE,MAAV,CAAiBG,CAAjB,GAAqB,KAAKwM,YAAL,CAAkBE,QAAQ,CAACC,GAAT,CAAa3M,CAA/B,CAArB;AACD;;AAED,eAAO5J,IAAP;AACD,O;WApDD,aAASA,IAAT,EAAe;AAAA,4BACqC,KAAK2V,MAD1C;AAAA,YACLvM,MADK,iBACLA,MADK;AAAA,YACGoN,UADH,iBACGA,UADH;AAAA,YACeC,SADf,iBACeA,SADf;AAAA,YAC0BC,MAD1B,iBAC0BA,MAD1B;AAAA,YAEL5N,OAFK,GAEgC9I,IAFhC,CAEL8I,OAFK;AAAA,YAEIqC,WAFJ,GAEgCnL,IAFhC,CAEImL,WAFJ;AAAA,YAEiBL,UAFjB,GAEgC9K,IAFhC,CAEiB8K,UAFjB;AAGb1B,cAAM,CAACF,MAAP,GAAgB,CAAhB;AAEA,YAAMyN,UAAU,GAAG,IAAIC,uBAAJ,CAAgB,KAAKC,UAAL,CAAgB1L,WAAW,CAACxB,CAA5B,CAAhB,EAAgD,KAAKmN,UAAL,CAAgB3L,WAAW,CAACvB,CAA5B,CAAhD,EAAgF,KAAK6L,IAArF,EAA2Fe,UAA3F,EAAuGC,SAAvG,EAAkHC,MAAlH,CAAnB;AACAC,kBAAU,CAACN,GAAX,CAAe1M,CAAf,GAAmB,KAAKkN,UAAL,CAAgB1L,WAAW,CAAC1B,MAAZ,CAAmBE,CAAnC,CAAnB;AACAgN,kBAAU,CAACN,GAAX,CAAezM,CAAf,GAAmB,KAAKkN,UAAL,CAAgB3L,WAAW,CAAC1B,MAAZ,CAAmBG,CAAnC,CAAnB;AACA+M,kBAAU,CAACJ,GAAX,CAAe5M,CAAf,GAAmB,CAACgN,UAAU,CAACN,GAAX,CAAe1M,CAAnC;AACAgN,kBAAU,CAACJ,GAAX,CAAe3M,CAAf,GAAmB,CAAC+M,UAAU,CAACN,GAAX,CAAezM,CAAnC;AACAR,cAAM,CAAC7I,IAAP,CAAYoW,UAAZ;;AAEA,aAAK,IAAItN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,OAAO,CAACI,MAAR,GAAiB,CAArC,EAAwCG,CAAC,IAAI,CAA7C,EAAgD;AAC9C,cAAM0N,uBAAuB,GAAGjO,OAAO,CAACO,CAAD,CAAvC;AACA,cAAM2N,yBAAyB,GAAGlO,OAAO,CAACO,CAAC,GAAG,CAAL,CAAzC;AACA,cAAMkC,KAAK,GAAG,IAAIqL,uBAAJ,CAAgB,KAAKC,UAAL,CAAgBE,uBAAuB,CAACpN,CAAxC,CAAhB,EAA4D,KAAKmN,UAAL,CAAgBC,uBAAuB,CAACnN,CAAxC,CAA5D,EAAwG,KAAK6L,IAA7G,EAAmHe,UAAnH,EAA+HC,SAA/H,EAA0IC,MAA1I,CAAd;AAEAnL,eAAK,CAACgL,GAAN,CAAU5M,CAAV,GAAc,KAAKkN,UAAL,CAAgBE,uBAAuB,CAACtN,MAAxB,CAA+BE,CAA/C,CAAd;AACA4B,eAAK,CAACgL,GAAN,CAAU3M,CAAV,GAAc,KAAKkN,UAAL,CAAgBC,uBAAuB,CAACtN,MAAxB,CAA+BG,CAA/C,CAAd;AACA2B,eAAK,CAAC8K,GAAN,CAAU1M,CAAV,GAAc,KAAKkN,UAAL,CAAgBG,yBAAyB,CAACvN,MAA1B,CAAiCE,CAAjD,CAAd;AACA4B,eAAK,CAAC8K,GAAN,CAAUzM,CAAV,GAAc,KAAKkN,UAAL,CAAgBE,yBAAyB,CAACvN,MAA1B,CAAiCG,CAAjD,CAAd;AAEAR,gBAAM,CAAC7I,IAAP,CAAYgL,KAAZ;AACD;;AAED,YAAM0L,SAAS,GAAG,IAAIL,uBAAJ,CAAgB,KAAKC,UAAL,CAAgB/L,UAAU,CAACnB,CAA3B,CAAhB,EAA+C,KAAKmN,UAAL,CAAgBhM,UAAU,CAAClB,CAA3B,CAA/C,EAA8E,KAAK6L,IAAnF,EAAyFe,UAAzF,EAAqGC,SAArG,EAAgHC,MAAhH,CAAlB;AACAO,iBAAS,CAACV,GAAV,CAAc5M,CAAd,GAAkB,KAAKkN,UAAL,CAAgB/L,UAAU,CAACrB,MAAX,CAAkBE,CAAlC,CAAlB;AACAsN,iBAAS,CAACV,GAAV,CAAc3M,CAAd,GAAkB,KAAKkN,UAAL,CAAgBhM,UAAU,CAACrB,MAAX,CAAkBG,CAAlC,CAAlB;AACAqN,iBAAS,CAACZ,GAAV,CAAc1M,CAAd,GAAkB,CAACsN,SAAS,CAACV,GAAV,CAAc5M,CAAjC;AACAsN,iBAAS,CAACZ,GAAV,CAAczM,CAAd,GAAkB,CAACqN,SAAS,CAACV,GAAV,CAAc3M,CAAjC;AACAR,cAAM,CAAC7I,IAAP,CAAY0W,SAAZ;;AAEA,aAAKtB,MAAL,CAAYuB,IAAZ;AACD;;;aAqBD,yBAAgB5E,MAAhB,EAAwB;AACtB,YAAMmB,GAAG,GAAGnB,MAAM,CAACkB,UAAP,CAAkB,IAAlB,CAAZ;AACAC,WAAG,CAACnB,MAAJ,CAAWe,KAAX,GAAmBf,MAAM,CAAC6E,WAA1B;AACA1D,WAAG,CAACnB,MAAJ,CAAWgB,MAAX,GAAoBhB,MAAM,CAAC8E,YAA3B;AACA,eAAO3D,GAAP;AACD;;;aAED,gCAAuBA,GAAvB,EAA4B;AAC1B,YAAMlP,KAAK,GAAG,IAAI8S,iBAAJ,CAAY5D,GAAZ,CAAd;AAEAlP,aAAK,CAAC+S,aAAN,CAAoB,SAApB,EAA+B,CAA/B;AACA/S,aAAK,CAACgT,YAAN,CAAmB,SAAnB,EAA8B,CAA9B;AAEA,eAAOhT,KAAP;AACD;;;aAED,0BAAiBA,KAAjB,EAAwB+N,MAAxB,EAAgC;AAC9B/N,aAAK,CAACI,EAAN,CAAS,MAAT,EAAiB;AAAA,iBAAM2N,MAAM,CAACxB,aAAP,CAAqB,IAAIc,8BAAJ,EAArB,CAAN;AAAA,SAAjB;AACArN,aAAK,CAACI,EAAN,CAAS,UAAT,EAAqB;AAAA,iBAAM2N,MAAM,CAACxB,aAAP,CAAqB,IAAIc,8BAAJ,EAArB,CAAN;AAAA,SAArB;AACArN,aAAK,CAACI,EAAN,CAAS,aAAT,EAAwB;AAAA,iBAAM2N,MAAM,CAACxB,aAAP,CAAqB,IAAIc,8BAAJ,EAArB,CAAN;AAAA,SAAxB;AACD;;;aAED,oBAAWjI,CAAX,EAAc;AACZ,eAAOA,CAAC,GAAG,KAAKgM,MAAL,CAAYG,EAAvB;AACD;;;aAED,oBAAWlM,CAAX,EAAc;AACZ,eAAO,CAAC,IAAIA,CAAL,IAAU,KAAK+L,MAAL,CAAYI,EAA7B;AACD;;;aAED,sBAAapM,CAAb,EAAgB;AACd,eAAO,KAAK6N,MAAL,CAAY7N,CAAC,GAAG,KAAKgM,MAAL,CAAYG,EAA5B,CAAP;AACD;;;aAED,sBAAalM,CAAb,EAAgB;AACd,eAAO,KAAK4N,MAAL,CAAY,IAAI5N,CAAC,GAAG,KAAK+L,MAAL,CAAYI,EAAhC,CAAP;AACD;;;aAED,gBAAO0B,KAAP,EAAuC;AAAA,YAAzBC,mBAAyB,uEAAH,CAAG;AACrC,YAAMC,KAAK,GAAGC,IAAI,CAACC,GAAL,CAAS,EAAT,EAAaH,mBAAb,CAAd;AACA,eAAOE,IAAI,CAACE,KAAL,CAAWL,KAAK,GAAGE,KAAnB,IAA4BA,KAAnC;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MC5GkB/F,sB;;;;;AACjB,sCAAc;AAAA;;AAAA,+BACJA,sBAAsB,CAACC,GADnB;AAEb;;;mCAH+Cd,W;;;;kBAA/Ba,sB,SAKJ,wB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCHIgF,W;AAEpB,yBAAYjN,CAAZ,EAAeC,CAAf,EAAkBmO,OAAlB,EAA2BC,KAA3B,EAAkCC,IAAlC,EAAwCvB,MAAxC,EAAgD;AAAA;;AAE/C,WAAKA,MAAL,GAAcA,MAAd;AAEA,WAAKsB,KAAL,GAAaA,KAAb;AACA,WAAKC,IAAL,GAAYA,IAAZ;AAEA,WAAK9B,QAAL,GAAgB,IAAIxL,iBAAJ,CAAUhB,CAAV,EAAaC,CAAb,EAAgB,KAAKoO,KAArB,EAA4B,KAAKC,IAAjC,EAAuCF,OAAvC,CAAhB;AACA,WAAKxB,GAAL,GAAW,IAAI5L,iBAAJ,CAAUhB,CAAC,GAAC,KAAK+M,MAAjB,EAAyB9M,CAAzB,EAA4B,KAAKoO,KAAjC,EAAwC,KAAKC,IAA7C,EAAmDF,OAAnD,CAAX;AACA,WAAK1B,GAAL,GAAW,IAAI1L,iBAAJ,CAAUhB,CAAC,GAAC,KAAK+M,MAAjB,EAAyB9M,CAAzB,EAA4B,KAAKoO,KAAjC,EAAwC,KAAKC,IAA7C,EAAmDF,OAAnD,CAAX;AAEA,WAAKtE,GAAL,GAAWsE,OAAX;AACA,WAAKG,CAAL,GAAS,CAAT;AAEA,WAAKC,SAAL,GAAiB,KAAjB;AAEA;;;;aAED,oBAAW;AAEV,YAAI,CAAC,KAAKA,SAAV,EAAqB;AACpB,eAAKA,SAAL,GAAiB,IAAjB;AACA,eAAK5B,GAAL,CAAS5M,CAAT,GAAa,KAAK0M,GAAL,CAAS1M,CAAT,GAAa,KAAKwM,QAAL,CAAcxM,CAAxC;AACA,eAAK4M,GAAL,CAAS3M,CAAT,GAAa,KAAKyM,GAAL,CAASzM,CAAT,GAAa,KAAKuM,QAAL,CAAcvM,CAAxC;AACA,SAJD,MAIO;AACN,eAAKuO,SAAL,GAAiB,KAAjB;AACA,eAAK5B,GAAL,CAAS5M,CAAT,GAAa,KAAKwM,QAAL,CAAcxM,CAAd,GAAkB,KAAK+M,MAApC;AACA,eAAKL,GAAL,CAAS1M,CAAT,GAAa,KAAKwM,QAAL,CAAcxM,CAAd,GAAkB,KAAK+M,MAApC;AACA;AAED;;;aAED,gBAAO;AAEN,YAAI,CAAC,KAAKyB,SAAV,EAAqB;AACpB,eAAKC,GAAL,GAAW,KAAK7B,GAAL,CAAS5M,CAAT,GAAa,KAAKwM,QAAL,CAAcxM,CAAtC;AACA,eAAK0O,GAAL,GAAW,KAAK9B,GAAL,CAAS3M,CAAT,GAAa,KAAKuM,QAAL,CAAcvM,CAAtC;AACA,eAAK0O,GAAL,GAAW,KAAKjC,GAAL,CAAS1M,CAAT,GAAa,KAAKwM,QAAL,CAAcxM,CAAtC;AACA,eAAK4O,GAAL,GAAW,KAAKlC,GAAL,CAASzM,CAAT,GAAa,KAAKuM,QAAL,CAAcvM,CAAtC;AACA,SALD,MAKO;AACN,eAAKwO,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKC,GAAL,GAAW,CAA5C;AACA;AAED;;;aAED,uBAAcP,KAAd,EAAqBC,IAArB,EAA2B;AAE1B,aAAK9B,QAAL,CAAc6B,KAAd,GAAsBA,KAAtB;AACA,aAAKzB,GAAL,CAASyB,KAAT,GAAiBA,KAAjB;AACA,aAAK3B,GAAL,CAAS2B,KAAT,GAAiBA,KAAjB;AACA,aAAK7B,QAAL,CAAc+B,CAAd,GAAkBD,IAAI,GAAC,CAAvB;AACA,aAAK1B,GAAL,CAAS2B,CAAT,GAAaD,IAAI,GAAC,CAAlB;AACA,aAAK5B,GAAL,CAAS6B,CAAT,GAAaD,IAAI,GAAC,CAAlB;AACA;;;aAED,gBAAO;AAEN,aAAKxE,GAAL,CAASG,SAAT,GAAqB,GAArB;AAEA,aAAKH,GAAL,CAASK,SAAT;AACA,aAAKL,GAAL,CAASM,MAAT,CAAgB,KAAKoC,QAAL,CAAcxM,CAA9B,EAAiC,KAAKwM,QAAL,CAAcvM,CAA/C;AACA,aAAK6J,GAAL,CAASQ,MAAT,CAAgB,KAAKsC,GAAL,CAAS5M,CAAzB,EAA4B,KAAK4M,GAAL,CAAS3M,CAArC;AACA,aAAK6J,GAAL,CAASS,MAAT;AAEA,aAAKT,GAAL,CAASK,SAAT;AACA,aAAKL,GAAL,CAASM,MAAT,CAAgB,KAAKoC,QAAL,CAAcxM,CAA9B,EAAiC,KAAKwM,QAAL,CAAcvM,CAA/C;AACA,aAAK6J,GAAL,CAASQ,MAAT,CAAgB,KAAKoC,GAAL,CAAS1M,CAAzB,EAA4B,KAAK0M,GAAL,CAASzM,CAArC;AACA,aAAK6J,GAAL,CAASS,MAAT;AAEA,aAAKiC,QAAL,CAAce,IAAd;AACA,aAAKX,GAAL,CAASW,IAAT;AACA,aAAKb,GAAL,CAASa,IAAT;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCnDmB5K,K;AAEpB,mBAAYyL,OAAZ,EAAqBS,QAArB,EAA+B9B,MAA/B,EAAuC;AAAA;;AAEtC,WAAKE,WAAL,GAAmBA,uBAAnB;AAEA,WAAKF,MAAL,GAAcA,MAAM,GAAGA,MAAH,GAAYqB,OAAO,CAACzF,MAAR,CAAee,KAAf,GAAuB,GAAvD;AAEA,WAAKmD,UAAL,GAAkB,MAAlB;AACA,WAAKC,SAAL,GAAiB,CAAjB;AAEA,WAAKgC,SAAL,GAAiB,MAAjB;AACA,WAAK7E,SAAL,GAAiB,CAAjB;AAEA,WAAKxK,MAAL,GAAc,CACb,IAAIwN,uBAAJ,CAAgB,CAAhB,EAAmBmB,OAAO,CAACzF,MAAR,CAAegB,MAAlC,EAA0CyE,OAA1C,EAAmD,KAAKvB,UAAxD,EAAoE,KAAKC,SAAzE,EAAoF,KAAKC,MAAzF,CADa,EAEb,IAAIE,uBAAJ,CAAgBmB,OAAO,CAACzF,MAAR,CAAee,KAA/B,EAAsC,CAAtC,EAAyC0E,OAAzC,EAAkD,KAAKvB,UAAvD,EAAmE,KAAKC,SAAxE,EAAmF,KAAKC,MAAxF,CAFa,CAAd;AAKA,WAAKjD,GAAL,GAAWsE,OAAX;AACA,WAAKjC,EAAL,GAAUiC,OAAO,CAACzF,MAAR,CAAee,KAAzB;AACA,WAAK0C,EAAL,GAAUgC,OAAO,CAACzF,MAAR,CAAegB,MAAzB;AAEA,WAAKoF,MAAL,GAAc,CAAd;AACA,WAAKC,MAAL,GAAc,CAAd;AAEA,WAAKC,MAAL,GAAc,EAAd;AAEA,WAAKJ,QAAL,GAAgBA,QAAhB;AAEA,WAAKK,YAAL;AACA,WAAKC,SAAL;AACA,WAAK5B,IAAL;AAEA;;;;aAED,eAAM6B,KAAN,EAAa;AAEZ,YAAIC,SAAS,GAAG,MAAhB;AAEA,YAAIC,IAAI,GAAG,CAAX;AACA,YAAIC,IAAI,GAAG,IAAX;AACA,YAAIC,GAAG,GAAG,CAACF,IAAI,GAACC,IAAN,IAAY,CAAtB;AAEA,YAAIE,OAAO,GAAGL,KAAK,GAAC,KAAKP,QAAzB;AACA,YAAIa,QAAQ,GAAG,KAAKC,OAAL,CAAaH,GAAb,CAAf;AAEA,YAAI9P,CAAC,GAAG,CAAR;;AAEA,eAAOuO,IAAI,CAAC2B,GAAL,CAASH,OAAO,GAACC,QAAjB,IAA6BL,SAApC,EAA8C;AAC7C3P,WAAC;;AAED,cAAIgQ,QAAQ,GAAGD,OAAf,EAAwB;AACvBF,gBAAI,GAAGC,GAAP;AACA,WAFD,MAEO,IAAIE,QAAQ,GAAGD,OAAf,EAAwB;AAC9BH,gBAAI,GAAGE,GAAP;AACA;;AACDA,aAAG,GAAGvB,IAAI,CAACE,KAAL,CAAW,CAACmB,IAAI,GAACC,IAAN,IAAY,CAAvB,CAAN;AACAG,kBAAQ,GAAG,KAAKC,OAAL,CAAaH,GAAb,CAAX;;AAEA,cAAI9P,CAAC,GAAG,EAAR,EAAY;AACX;AACA;AACD;;AAED,eAAO,KAAKmQ,OAAL,CAAaL,GAAb,CAAP;AAEA;;;aAED,qBAAY;AAEX,aAAKG,OAAL,GAAe,EAAf;AACA,aAAKE,OAAL,GAAe,EAAf,CAHW,CAKX;;AACA,aAAK,IAAInQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKD,MAAL,CAAYF,MAAhC,EAAwCG,CAAC,EAAzC,EAA6C;AAC5C,cAAIoQ,EAAE,GAAG,KAAKrQ,MAAL,CAAYC,CAAC,GAAC,CAAd,CAAT;AACA,cAAIqQ,EAAE,GAAG,KAAKtQ,MAAL,CAAYC,CAAZ,CAAT;AACA,cAAIsQ,GAAG,GAAID,EAAE,CAACvD,QAAH,CAAYxM,CAAZ,GAAc,KAAKmM,EAApB,GAA2B2D,EAAE,CAACtD,QAAH,CAAYxM,CAAZ,GAAc,KAAKmM,EAAxD;;AACA,eAAK,IAAI8D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,IAAE,KAAG,OAAKD,GAAR,CAA1B,EAAwC;AACvC,gBAAIhQ,CAAC,GAAIiO,IAAI,CAACC,GAAL,CAAU,IAAE+B,CAAZ,EAAe,CAAf,IAAkBH,EAAE,CAACtD,QAAH,CAAYxM,CAA/B,GAAqC,IAAEiO,IAAI,CAACC,GAAL,CAAU,IAAE+B,CAAZ,EAAe,CAAf,CAAF,GAAoBA,CAApB,GAAsBH,EAAE,CAACpD,GAAH,CAAO1M,CAAlE,GAAwE,KAAG,IAAEiQ,CAAL,IAAQhC,IAAI,CAACC,GAAL,CAAS+B,CAAT,EAAW,CAAX,CAAR,GAAsBF,EAAE,CAACnD,GAAH,CAAO5M,CAArG,GAA2GiO,IAAI,CAACC,GAAL,CAAS+B,CAAT,EAAW,CAAX,IAAcF,EAAE,CAACvD,QAAH,CAAYxM,CAA7I;AACA,gBAAIC,CAAC,GAAIgO,IAAI,CAACC,GAAL,CAAU,IAAE+B,CAAZ,EAAe,CAAf,IAAkBH,EAAE,CAACtD,QAAH,CAAYvM,CAA/B,GAAqC,IAAEgO,IAAI,CAACC,GAAL,CAAU,IAAE+B,CAAZ,EAAe,CAAf,CAAF,GAAoBA,CAApB,GAAsBH,EAAE,CAACpD,GAAH,CAAOzM,CAAlE,GAAwE,KAAG,IAAEgQ,CAAL,IAAQhC,IAAI,CAACC,GAAL,CAAS+B,CAAT,EAAW,CAAX,CAAR,GAAsBF,EAAE,CAACnD,GAAH,CAAO3M,CAArG,GAA2GgO,IAAI,CAACC,GAAL,CAAS+B,CAAT,EAAW,CAAX,IAAcF,EAAE,CAACvD,QAAH,CAAYvM,CAA7I;AACA,iBAAK0P,OAAL,CAAa/Y,IAAb,CAAkBoJ,CAAC,GAAC,KAAKmM,EAAzB;AACA,iBAAK0D,OAAL,CAAajZ,IAAb,CAAkB,CAACqJ,CAAD,GAAG,KAAKmM,EAAR,GAAW,CAA7B;AACA;AACD;AAED;;;aAED,YAAGnF,KAAH,EAAUiJ,IAAV,EAAgB;AACf,aAAKjB,MAAL,CAAY,OAAKhI,KAAjB,IAA0BiJ,IAAI,CAACrW,IAAL,CAAU,IAAV,CAA1B;AACA;;;aAED,wBAAe;AAEd,YAAImG,CAAJ,EACCC,CADD,EAECkQ,IAFD,EAGCC,SAHD,EAICC,MAJD,EAKCC,OALD;;AAOA,YAAIC,KAAK,GAAG,IAAZ;;AAEA,aAAKzG,GAAL,CAASnB,MAAT,CAAgB3B,gBAAhB,CAAiC,WAAjC,EAA8C,UAASwJ,GAAT,EAAa;AAE1D,cAAIC,IAAI,GAAG,KAAKC,qBAAL,EAAX;AAEA1Q,WAAC,GAAGwQ,GAAG,CAACG,OAAJ,GAAcF,IAAI,CAACG,IAAvB;AACA3Q,WAAC,GAAGuQ,GAAG,CAACK,OAAJ,GAAcJ,IAAI,CAACK,GAAvB;AAEAP,eAAK,CAACxB,MAAN,GAAe/O,CAAf;AACAuQ,eAAK,CAACvB,MAAN,GAAe/O,CAAf;;AAEA,eAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6Q,KAAK,CAAC9Q,MAAN,CAAaF,MAAjC,EAAyCG,CAAC,EAA1C,EAA8C;AAC7C,gBAAIqR,CAAC,GAAGR,KAAK,CAAC9Q,MAAN,CAAaC,CAAb,CAAR;;AAEA,gBAAI,CAAC4Q,OAAL,EAAc;AAEbH,kBAAI,GAAGlC,IAAI,CAAC+C,IAAL,CAAU,CAAChR,CAAC,GAAC+Q,CAAC,CAACvE,QAAF,CAAWxM,CAAd,KAAkBA,CAAC,GAAC+Q,CAAC,CAACvE,QAAF,CAAWxM,CAA/B,IAAoC,CAACC,CAAC,GAAC8Q,CAAC,CAACvE,QAAF,CAAWvM,CAAd,KAAkBA,CAAC,GAAC8Q,CAAC,CAACvE,QAAF,CAAWvM,CAA/B,CAA9C,CAAP;;AACA,kBAAIkQ,IAAI,IAAII,KAAK,CAACzD,SAAN,GAAgB,CAAhB,GAAkB,CAA9B,EAAiC;AAChC,qBAAKhC,KAAL,CAAWmG,MAAX,GAAoB,SAApB;AACAb,yBAAS,GAAG1Q,CAAZ;AACA;AACA,eAJD,MAIO;AACNyQ,oBAAI,GAAGlC,IAAI,CAAC+C,IAAL,CAAU,CAAChR,CAAC,GAAC+Q,CAAC,CAACnE,GAAF,CAAM5M,CAAT,KAAaA,CAAC,GAAC+Q,CAAC,CAACnE,GAAF,CAAM5M,CAArB,IAA0B,CAACC,CAAC,GAAC8Q,CAAC,CAACnE,GAAF,CAAM3M,CAAT,KAAaA,CAAC,GAAC8Q,CAAC,CAACnE,GAAF,CAAM3M,CAArB,CAApC,CAAP;;AACA,oBAAIkQ,IAAI,IAAII,KAAK,CAACzD,SAAN,GAAgB,CAAhB,GAAkB,CAA9B,EAAiC;AAChC,uBAAKhC,KAAL,CAAWmG,MAAX,GAAoB,SAApB;AACAb,2BAAS,GAAG1Q,CAAZ;AACA2Q,wBAAM,GAAG,KAAT;AACA;AACA,iBALD,MAKO;AACNF,sBAAI,GAAGlC,IAAI,CAAC+C,IAAL,CAAU,CAAChR,CAAC,GAAC+Q,CAAC,CAACrE,GAAF,CAAM1M,CAAT,KAAaA,CAAC,GAAC+Q,CAAC,CAACrE,GAAF,CAAM1M,CAArB,IAA0B,CAACC,CAAC,GAAC8Q,CAAC,CAACrE,GAAF,CAAMzM,CAAT,KAAaA,CAAC,GAAC8Q,CAAC,CAACrE,GAAF,CAAMzM,CAArB,CAApC,CAAP;;AACA,sBAAIkQ,IAAI,IAAII,KAAK,CAACzD,SAAN,GAAgB,CAAhB,GAAkB,CAA9B,EAAiC;AAChC,yBAAKhC,KAAL,CAAWmG,MAAX,GAAoB,SAApB;AACAb,6BAAS,GAAG1Q,CAAZ;AACA2Q,0BAAM,GAAG,KAAT;AACA;AACA,mBALD,MAKO;AACN,yBAAKvF,KAAL,CAAWmG,MAAX,GAAoB,SAApB;AACAb,6BAAS,GAAG,KAAZ;AACAC,0BAAM,GAAG,KAAT;AACA;AACD;AACD;AAED;AAED;;AAED,cAAIa,IAAI,CAAC,EAAD,CAAR,EAAc;AACb,gBAAIC,MAAM,GAAGZ,KAAK,CAACpE,EAAN,GAAW,EAAxB;AACA,gBAAIiF,MAAM,GAAGb,KAAK,CAACnE,EAAN,GAAU,EAAvB;AAEA,gBAAIiF,IAAI,GAAGpD,IAAI,CAACqD,KAAL,CAAW,CAACtR,CAAC,GAACmR,MAAM,GAAC,CAAV,IAAeA,MAA1B,CAAX;AACA,gBAAII,IAAI,GAAGtD,IAAI,CAACqD,KAAL,CAAW,CAACrR,CAAC,GAACmR,MAAM,GAAC,CAAV,IAAeA,MAA1B,CAAX;AAEApR,aAAC,GAAGmR,MAAM,GAAGE,IAAb;AACApR,aAAC,GAAGmR,MAAM,GAAGG,IAAb;AACA;;AAED,cAAIjB,OAAJ,EAAa;AACZ,gBAAID,MAAM,IAAI,KAAd,EAAqB;AACpBE,mBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B5M,CAA5B,GAAgCA,CAAhC;AACAuQ,mBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B3M,CAA5B,GAAgCA,CAAhC;;AAEAsQ,mBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBoB,IAAxB;;AAEA,kBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,qBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4B1M,CAA5B,GAAgCA,CAAC,GAAGuQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB3B,GAAxB,GAA4B,CAAhE;AACA8B,qBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4BzM,CAA5B,GAAgCA,CAAC,GAAGsQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1B,GAAxB,GAA4B,CAAhE;AACA;AACD,aAVD,MAUO,IAAI2B,MAAM,IAAI,KAAd,EAAqB;AAE3BE,mBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4B1M,CAA5B,GAAgCA,CAAhC;AACAuQ,mBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4BzM,CAA5B,GAAgCA,CAAhC;;AAEAsQ,mBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBoB,IAAxB;;AAEA,kBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,qBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B5M,CAA5B,GAAgCA,CAAC,GAAGuQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBzB,GAAxB,GAA4B,CAAhE;AACA4B,qBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B3M,CAA5B,GAAgCA,CAAC,GAAGsQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxB,GAAxB,GAA4B,CAAhE;AACA;AACD,aAXM,MAWA;AACN2B,mBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBoB,IAAxB;;AAEAjB,mBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB5D,QAAxB,CAAiCxM,CAAjC,GAAqCA,CAArC;AACAuQ,mBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB5D,QAAxB,CAAiCvM,CAAjC,GAAqCA,CAArC;;AAEA,kBAAImQ,SAAS,KAAK,CAAlB,EAAqB;AACpBG,qBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB5D,QAAxB,CAAiCxM,CAAjC,GAAqC,CAArC;AACA;;AACD,kBAAIoQ,SAAS,IAAIG,KAAK,CAAC9Q,MAAN,CAAaF,MAAb,GAAoB,CAArC,EAAwC;AACvCgR,qBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB5D,QAAxB,CAAiCxM,CAAjC,GAAqCuQ,KAAK,CAACpE,EAA3C;AACA;;AAEDoE,mBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B5M,CAA5B,GAAgCuQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB5D,QAAxB,CAAiCxM,CAAjC,GAAqCuQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB3B,GAA7F;AACA8B,mBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B3M,CAA5B,GAAgCsQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB5D,QAAxB,CAAiCvM,CAAjC,GAAqCsQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1B,GAA7F;AACA6B,mBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4B1M,CAA5B,GAAgCuQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB5D,QAAxB,CAAiCxM,CAAjC,GAAqCuQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBzB,GAA7F;AACA4B,mBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4BzM,CAA5B,GAAgCsQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB5D,QAAxB,CAAiCvM,CAAjC,GAAqCsQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxB,GAA7F;AAEA,kBAAI6C,IAAJ;;AAEA,kBAAIlB,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAS,GAAC,CAAvB,KAA6BG,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAS,GAAC,CAAvB,CAAjC,EAA4D;AAC3D,oBAAIG,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB5D,QAAxB,CAAiCxM,CAAjC,GAAqCuQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAS,GAAC,CAAvB,EAA0B5D,QAA1B,CAAmCxM,CAA5E,EAA+E;AAC9EyR,sBAAI,GAAGlB,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,CAAP;AACAG,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,IAA0BG,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAS,GAAC,CAAvB,CAA1B;AACAG,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAS,GAAC,CAAvB,IAA4BqB,IAA5B;AACArB,2BAAS;AACT;;AACD,oBAAIG,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAS,GAAC,CAAvB,EAA0B5D,QAA1B,CAAmCxM,CAAnC,GAAuCuQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB5D,QAAxB,CAAiCxM,CAA5E,EAA+E;AAC9EyR,sBAAI,GAAGlB,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,CAAP;AACAG,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,IAA0BG,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAS,GAAC,CAAvB,CAA1B;AACAG,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAS,GAAC,CAAvB,IAA4BqB,IAA5B;AACArB,2BAAS;AACT;AACD;AAED;;AACDG,iBAAK,CAACtB,MAAN,CAAayC,MAAb,GAAsBnB,KAAK,CAACtB,MAAN,CAAayC,MAAb,EAAtB,GAA8C,IAA9C;;AACAnB,iBAAK,CAAChD,IAAN;AACA;;AAEDgD,eAAK,CAACtB,MAAN,CAAa0C,WAAb,GAA2BpB,KAAK,CAACtB,MAAN,CAAa0C,WAAb,EAA3B,GAAwD,IAAxD;AAEA,SAzHD;AA0HA,aAAK7H,GAAL,CAASnB,MAAT,CAAgB3B,gBAAhB,CAAiC,WAAjC,EAA8C,UAASwJ,GAAT,EAAa;AAC1DA,aAAG,CAACoB,cAAJ;;AAEA,cAAIxB,SAAS,IAAIA,SAAS,KAAK,CAA/B,EAAkC;AACjCE,mBAAO,GAAG,IAAV;AACA,WAFD,MAEO;AACN,gBAAIH,IAAI,GAAG,CAAX,EAAc;AACbC,uBAAS,GAAGG,KAAK,CAACsB,QAAN,CAAe7R,CAAf,EAAkBC,CAAlB,CAAZ;AACAqQ,qBAAO,GAAG,IAAV;AACA,mBAAKxF,KAAL,CAAWmG,MAAX,GAAoB,SAApB;;AACAV,mBAAK,CAAChD,IAAN;;AACAgD,mBAAK,CAACtB,MAAN,CAAa6C,UAAb,GAA0BvB,KAAK,CAACtB,MAAN,CAAa6C,UAAb,EAA1B,GAAsD,IAAtD;AACA;AACD;AAED,SAfD;AAgBA,aAAKhI,GAAL,CAASnB,MAAT,CAAgB3B,gBAAhB,CAAiC,SAAjC,EAA4C,UAASwJ,GAAT,EAAa;AAExDF,iBAAO,GAAG,KAAV;;AACA,cAAIH,IAAI,GAAG,CAAX,EAAc;AACbC,qBAAS,GAAGC,MAAM,GAAG,KAArB;AACA;;AAED,eAAK,IAAI3Q,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6Q,KAAK,CAAC9Q,MAAN,CAAaF,MAAjC,EAAyCG,CAAC,EAA1C,EAA8C;AAC7C,gBAAIqR,CAAC,GAAGR,KAAK,CAAC9Q,MAAN,CAAaC,CAAb,CAAR;AACAyQ,gBAAI,GAAGlC,IAAI,CAAC+C,IAAL,CAAU,CAAChR,CAAC,GAAC+Q,CAAC,CAACvE,QAAF,CAAWxM,CAAd,KAAkBA,CAAC,GAAC+Q,CAAC,CAACvE,QAAF,CAAWxM,CAA/B,IAAoC,CAACC,CAAC,GAAC8Q,CAAC,CAACvE,QAAF,CAAWvM,CAAd,KAAkBA,CAAC,GAAC8Q,CAAC,CAACvE,QAAF,CAAWvM,CAA/B,CAA9C,CAAP;;AACA,gBAAIkQ,IAAI,IAAII,KAAK,CAACzD,SAAN,GAAgB,CAAhB,GAAkB,CAA9B,EAAiC;AAChC,mBAAKhC,KAAL,CAAWmG,MAAX,GAAoB,SAApB;AACAb,uBAAS,GAAG1Q,CAAZ;AACA;AACA;AACD;;AAED6Q,eAAK,CAACpB,SAAN;AAEA,SAnBD;AAoBA,aAAKrF,GAAL,CAASnB,MAAT,CAAgB3B,gBAAhB,CAAiC,YAAjC,EAA+C,UAASwJ,GAAT,EAAa;AAE3D,cAAIF,OAAJ,EAAa;AACZ,gBAAIE,GAAG,CAACuB,OAAJ,GAAc,CAAd,IAAmBvB,GAAG,CAACuB,OAAJ,GAAcxB,KAAK,CAACpE,EAA3C,EAA+C;AAC9C,kBAAIqE,GAAG,CAACuB,OAAJ,GAAc,CAAlB,EAAqB;AACpB,oBAAI1B,MAAM,IAAI,KAAd,EAAqB;AACpBE,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B5M,CAA5B,GAAgC,CAAhC;;AAEAuQ,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBoB,IAAxB;;AAEA,sBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,yBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4B1M,CAA5B,GAAgC,IAAIuQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB3B,GAAxB,GAA4B,CAAhE;AACA8B,yBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4BzM,CAA5B,GAAgCA,CAAC,GAAGsQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1B,GAAxB,GAA4B,CAAhE;AACA;AACD,iBATD,MASO,IAAI2B,MAAM,IAAI,KAAd,EAAqB;AAC3BE,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4B1M,CAA5B,GAAgC,CAAhC;;AAEAuQ,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBoB,IAAxB;;AAEA,sBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,yBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B5M,CAA5B,GAAgC,IAAIuQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBzB,GAAxB,GAA4B,CAAhE;AACA4B,yBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B3M,CAA5B,GAAgCA,CAAC,GAAGsQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxB,GAAxB,GAA4B,CAAhE;AACA;AACD,iBATM,MASA;AACN2B,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB5D,QAAxB,CAAiCxM,CAAjC,GAAqC,CAArC;AACAuQ,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B5M,CAA5B,GAAgC,IAAIuQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB3B,GAA5D;AACA8B,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4B1M,CAA5B,GAAgC,IAAIuQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBzB,GAA5D;AACA;AACD,eAxBD,MAwBO;AACN,oBAAI0B,MAAM,IAAI,KAAd,EAAqB;AACpBE,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B5M,CAA5B,GAAgCuQ,KAAK,CAACpE,EAAtC;;AAEAoE,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBoB,IAAxB;;AAEA,sBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,yBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4B1M,CAA5B,GAAgCuQ,KAAK,CAACpE,EAAN,GAAWoE,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB3B,GAAxB,GAA4B,CAAvE;AACA8B,yBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4BzM,CAA5B,GAAgCA,CAAC,GAAGsQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1B,GAAxB,GAA4B,CAAhE;AACA;AACD,iBATD,MASO,IAAI2B,MAAM,IAAI,KAAd,EAAqB;AAC3BE,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4B1M,CAA5B,GAAgCuQ,KAAK,CAACpE,EAAtC;;AAEAoE,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBoB,IAAxB;;AAEA,sBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,yBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B5M,CAA5B,GAAgCuQ,KAAK,CAACpE,EAAN,GAAWoE,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBzB,GAAxB,GAA4B,CAAvE;AACA4B,yBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B3M,CAA5B,GAAgCA,CAAC,GAAGsQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxB,GAAxB,GAA4B,CAAhE;AACA;AACD,iBATM,MASA;AACN2B,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB5D,QAAxB,CAAiCxM,CAAjC,GAAqCuQ,KAAK,CAACpE,EAA3C;AACAoE,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B5M,CAA5B,GAAgCuQ,KAAK,CAACpE,EAAN,GAAWoE,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB3B,GAAnE;AACA8B,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4B1M,CAA5B,GAAgCuQ,KAAK,CAACpE,EAAN,GAAWoE,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBzB,GAAnE;AACA;AACD;AACD,aAlDD,MAkDO,IAAI6B,GAAG,CAACwB,OAAJ,GAAc,CAAd,IAAmBxB,GAAG,CAACwB,OAAJ,GAAczB,KAAK,CAACnE,EAA3C,EAA+C;AACrD,kBAAIoE,GAAG,CAACwB,OAAJ,GAAc,CAAlB,EAAqB;AACpB,oBAAI3B,MAAM,IAAI,KAAd,EAAqB;AACpBE,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B3M,CAA5B,GAAgC,CAAhC;;AAEAsQ,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBoB,IAAxB;;AAEA,sBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,yBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4B1M,CAA5B,GAAgCA,CAAC,GAAGuQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB3B,GAAxB,GAA4B,CAAhE;AACA8B,yBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4BzM,CAA5B,GAAgC,IAAIsQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1B,GAAxB,GAA4B,CAAhE;AACA;AACD,iBATD,MASO,IAAI2B,MAAM,IAAI,KAAd,EAAqB;AAC3BE,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4BzM,CAA5B,GAAgC,CAAhC;;AAEAsQ,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBoB,IAAxB;;AAEA,sBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,yBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B5M,CAA5B,GAAgCA,CAAC,GAAGuQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBzB,GAAxB,GAA4B,CAAhE;AACA4B,yBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B3M,CAA5B,GAAgC,IAAIsQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxB,GAAxB,GAA4B,CAAhE;AACA;AACD,iBATM,MASA;AACN2B,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB5D,QAAxB,CAAiCvM,CAAjC,GAAqC,CAArC;AACAsQ,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B3M,CAA5B,GAAgC,IAAIsQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1B,GAA5D;AACA6B,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4BzM,CAA5B,GAAgC,IAAIsQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxB,GAA5D;AACA;AACD,eAxBD,MAwBO;AACN,oBAAIyB,MAAM,IAAI,KAAd,EAAqB;AACpBE,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B3M,CAA5B,GAAgCsQ,KAAK,CAACnE,EAAtC;;AAEAmE,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBoB,IAAxB;;AACA,sBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,yBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4B1M,CAA5B,GAAgCA,CAAC,GAAGuQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB3B,GAAxB,GAA4B,CAAhE;AACA8B,yBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4BzM,CAA5B,GAAgCsQ,KAAK,CAACnE,EAAN,GAAWmE,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1B,GAAxB,GAA4B,CAAvE;AACA;AACD,iBARD,MAQO,IAAI2B,MAAM,IAAI,KAAd,EAAqB;AAC3BE,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4BzM,CAA5B,GAAgCsQ,KAAK,CAACnE,EAAtC;;AAEAmE,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBoB,IAAxB;;AAEA,sBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,yBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B5M,CAA5B,GAAgCA,CAAC,GAAGuQ,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBzB,GAAxB,GAA4B,CAAhE;AACA4B,yBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B3M,CAA5B,GAAgCsQ,KAAK,CAACnE,EAAN,GAAWmE,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxB,GAAxB,GAA4B,CAAvE;AACA;AACD,iBATM,MASA;AACN2B,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB5D,QAAxB,CAAiCvM,CAAjC,GAAqCsQ,KAAK,CAACnE,EAA3C;AACAmE,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxD,GAAxB,CAA4B3M,CAA5B,GAAgCsQ,KAAK,CAACnE,EAAN,GAAWmE,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1B,GAAnE;AACA6B,uBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB1D,GAAxB,CAA4BzM,CAA5B,GAAgCsQ,KAAK,CAACnE,EAAN,GAAWmE,KAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwBxB,GAAnE;AACA;AACD;AACD;AACD;;AAED2B,eAAK,CAAChD,IAAN;;AACAgD,eAAK,CAACpB,SAAN;;AAEAmB,iBAAO,GAAGF,SAAS,GAAGC,MAAM,GAAG,KAA/B;AAEA,SA9GD;AA+GA,aAAKvG,GAAL,CAASnB,MAAT,CAAgB3B,gBAAhB,CAAiC,OAAjC,EAA0C,UAASwJ,GAAT,EAAa;AACtD,cAAIU,IAAI,CAAC,EAAD,CAAJ,IAAY,CAACb,MAAjB,EAAyB;AACxBE,iBAAK,CAAC9Q,MAAN,CAAa2Q,SAAb,EAAwB6B,QAAxB;;AACA1B,iBAAK,CAAChD,IAAN;;AACAgD,iBAAK,CAACpB,SAAN;;AACAoB,iBAAK,CAACtB,MAAN,CAAaiD,eAAb,GAA+B3B,KAAK,CAACtB,MAAN,CAAaiD,eAAb,EAA/B,GAAgE,IAAhE;AACA;AACD,SAPD;AAQA,aAAKpI,GAAL,CAASnB,MAAT,CAAgB3B,gBAAhB,CAAiC,UAAjC,EAA6C,UAASwJ,GAAT,EAAa;AACzDD,eAAK,CAAC9Q,MAAN,CAAac,MAAb,CAAoB6P,SAApB,EAA+B,CAA/B;;AACAE,iBAAO,GAAGF,SAAS,GAAGC,MAAM,GAAG,KAA/B;AACAF,cAAI,GAAG,IAAP;AACA,eAAKrF,KAAL,CAAWmG,MAAX,GAAoB,SAApB;;AACAV,eAAK,CAAChD,IAAN;;AACAgD,eAAK,CAACpB,SAAN;;AACAoB,eAAK,CAACtB,MAAN,CAAakD,aAAb,GAA6B5B,KAAK,CAACtB,MAAN,CAAakD,aAAb,EAA7B,GAA4D,IAA5D;AACA,SARD;AAUA;;;aAED,kBAASnS,CAAT,EAAYC,CAAZ,EAAe;AAEd,aAAKR,MAAL,CAAY7I,IAAZ,CAAiB,IAAIqW,uBAAJ,CAAgBjN,CAAhB,EAAmBC,CAAnB,EAAsB,KAAK6J,GAA3B,EAAgC,KAAK+C,UAArC,EAAiD,KAAKC,SAAtD,EAAiE,KAAKC,MAAtE,CAAjB;AAEA,aAAKtN,MAAL,CAAY2S,IAAZ,CAAiB,UAASlR,CAAT,EAAYmR,CAAZ,EAAc;AAC9B,iBAAOnR,CAAC,CAACsL,QAAF,CAAWxM,CAAX,GAAeqS,CAAC,CAAC7F,QAAF,CAAWxM,CAAjC;AACA,SAFD;;AAIA,aAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKD,MAAL,CAAYF,MAAhC,EAAwCG,CAAC,EAAzC,EAA6C;AAC5C,cAAIqR,CAAC,GAAG,KAAKtR,MAAL,CAAYC,CAAZ,CAAR;;AACA,cAAIM,CAAC,IAAI+Q,CAAC,CAACvE,QAAF,CAAWxM,CAAhB,IAAqBC,CAAC,IAAI8Q,CAAC,CAACvE,QAAF,CAAWvM,CAAzC,EAA4C;AAC3C,mBAAOP,CAAP;AACA;AACD;AAED;;;aAED,uBAAc2O,KAAd,EAAqBC,IAArB,EAA2B;AAE1B,aAAK,IAAI5O,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKD,MAAL,CAAYF,MAAhC,EAAwCG,CAAC,EAAzC,EAA6C;AAC5C,eAAKD,MAAL,CAAYC,CAAZ,EAAeiO,aAAf,CAA6BU,KAA7B,EAAoCC,IAApC;AACA,eAAKzB,UAAL,GAAkBwB,KAAlB;AACA,eAAKvB,SAAL,GAAiBwB,IAAjB;AACA;;AACD,aAAKf,IAAL;AAEA;;;aAED,sBAAac,KAAb,EAAoB3E,KAApB,EAA2B;AAE1B,aAAKoF,SAAL,GAAiBT,KAAjB;AACA,aAAKpE,SAAL,GAAiBP,KAAjB;AACA,aAAK6D,IAAL;AAEA;;;aAED,gBAAO;AAEN,aAAKzD,GAAL,CAASI,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,KAAKiC,EAA9B,EAAkC,KAAKC,EAAvC;AAEA,aAAKtC,GAAL,CAASC,WAAT,GAAuB,MAAvB;AACA,aAAKD,GAAL,CAASG,SAAT,GAAqB,CAArB;;AAEA,aAAK,IAAIvK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC5B,eAAKoK,GAAL,CAASK,SAAT;AACA,eAAKL,GAAL,CAASM,MAAT,CAAiB,KAAK+B,EAAL,GAAQ,EAAT,GAAazM,CAAb,GAAe,GAA/B,EAAoC,CAApC;AACA,eAAKoK,GAAL,CAASQ,MAAT,CAAiB,KAAK6B,EAAL,GAAQ,EAAT,GAAazM,CAAb,GAAe,GAA/B,EAAoC,KAAK0M,EAAzC;AACA,eAAKtC,GAAL,CAASS,MAAT;AACA;;AACD,aAAK,IAAI7K,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG,CAApB,EAAuBA,EAAC,EAAxB,EAA4B;AAC3B,eAAKoK,GAAL,CAASK,SAAT;AACA,eAAKL,GAAL,CAASM,MAAT,CAAgB,CAAhB,EAAoB,KAAKgC,EAAL,GAAQ,CAAT,GAAY1M,EAAZ,GAAc,GAAjC;AACA,eAAKoK,GAAL,CAASQ,MAAT,CAAgB,KAAK6B,EAArB,EAA0B,KAAKC,EAAL,GAAQ,CAAT,GAAY1M,EAAZ,GAAc,GAAvC;AACA,eAAKoK,GAAL,CAASS,MAAT;AACA;;AAED,aAAKT,GAAL,CAASG,SAAT,GAAqB,GAArB;;AACA,aAAK,IAAIvK,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG,EAApB,EAAwBA,GAAC,EAAzB,EAA6B;AAC5B,eAAKoK,GAAL,CAASK,SAAT;AACA,eAAKL,GAAL,CAASM,MAAT,CAAiB,KAAK+B,EAAL,GAAQ,EAAT,GAAazM,GAAb,GAAe,GAA/B,EAAoC,CAApC;AACA,eAAKoK,GAAL,CAASQ,MAAT,CAAiB,KAAK6B,EAAL,GAAQ,EAAT,GAAazM,GAAb,GAAe,GAA/B,EAAoC,KAAK0M,EAAzC;AACA,eAAKtC,GAAL,CAASS,MAAT;AACA;;AACD,aAAK,IAAI7K,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG,EAApB,EAAwBA,GAAC,EAAzB,EAA6B;AAC5B,eAAKoK,GAAL,CAASK,SAAT;AACA,eAAKL,GAAL,CAASM,MAAT,CAAgB,CAAhB,EAAoB,KAAKgC,EAAL,GAAQ,EAAT,GAAa1M,GAAb,GAAe,GAAlC;AACA,eAAKoK,GAAL,CAASQ,MAAT,CAAgB,KAAK6B,EAArB,EAA0B,KAAKC,EAAL,GAAQ,EAAT,GAAa1M,GAAb,GAAe,GAAxC;AACA,eAAKoK,GAAL,CAASS,MAAT;AACA;;AAED,aAAKT,GAAL,CAASC,WAAT,GAAuB,KAAK+E,SAA5B;AACA,aAAKhF,GAAL,CAASG,SAAT,GAAqB,KAAKA,SAA1B;AAEA,aAAKH,GAAL,CAASK,SAAT;AACA,aAAKL,GAAL,CAASM,MAAT,CAAgB,KAAK3K,MAAL,CAAY,CAAZ,EAAe+M,QAAf,CAAwBxM,CAAxC,EAA2C,KAAKP,MAAL,CAAY,CAAZ,EAAe+M,QAAf,CAAwBvM,CAAnE;;AACA,aAAK,IAAIP,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG,KAAKD,MAAL,CAAYF,MAAhC,EAAwCG,GAAC,EAAzC,EAA6C;AAC5C,cAAIqR,CAAC,GAAG,KAAKtR,MAAL,CAAYC,GAAZ,CAAR;AACA,cAAI4S,EAAE,GAAG,KAAK7S,MAAL,CAAYC,GAAC,GAAC,CAAd,CAAT;AACA,eAAKoK,GAAL,CAASO,aAAT,CAAuBiI,EAAE,CAAC5F,GAAH,CAAO1M,CAA9B,EAAiCsS,EAAE,CAAC5F,GAAH,CAAOzM,CAAxC,EAA2C8Q,CAAC,CAACnE,GAAF,CAAM5M,CAAjD,EAAoD+Q,CAAC,CAACnE,GAAF,CAAM3M,CAA1D,EAA6D8Q,CAAC,CAACvE,QAAF,CAAWxM,CAAxE,EAA2E+Q,CAAC,CAACvE,QAAF,CAAWvM,CAAtF;AACA;;AACD,aAAK6J,GAAL,CAASS,MAAT;;AAEA,aAAK,IAAI7K,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG,KAAKD,MAAL,CAAYF,MAAhC,EAAwCG,GAAC,EAAzC,EAA6C;AAC5C,eAAKD,MAAL,CAAYC,GAAZ,EAAe6N,IAAf;AACA;AAED;;;;;;;AAIF,MAAM2D,IAAI,GAAG,EAAb;AACAqB,QAAM,CAACvL,gBAAP,CAAwB,SAAxB,EAAmC,UAAS3F,CAAT,EAAW;AAC7C6P,QAAI,CAAC7P,CAAC,CAACmR,OAAH,CAAJ,GAAkB,IAAlB;AACA,GAFD;AAGAD,QAAM,CAACvL,gBAAP,CAAwB,OAAxB,EAAiC,UAAS3F,CAAT,EAAW;AAC3C,WAAO6P,IAAI,CAAC7P,CAAC,CAACmR,OAAH,CAAX;AACA,GAFD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCjgBqBxR,K;AAEpB,mBAAYhB,CAAZ,EAAeC,CAAf,EAAkBoO,KAAlB,EAAyBC,IAAzB,EAA+BF,OAA/B,EAAwC;AAAA;;AAEvC,WAAKpO,CAAL,GAASA,CAAT;AACA,WAAKC,CAAL,GAASA,CAAT;AACA,WAAKsO,CAAL,GAASD,IAAI,GAAC,CAAd;AACA,WAAKD,KAAL,GAAaA,KAAb;AACA,WAAKvE,GAAL,GAAWsE,OAAX;AAEA;;;;aAED,gBAAO;AAEN,aAAKtE,GAAL,CAASE,SAAT,GAAqB,KAAKqE,KAA1B;AACA,aAAKvE,GAAL,CAASK,SAAT;AACA,aAAKL,GAAL,CAAS2I,GAAT,CAAa,KAAKzS,CAAlB,EAAqB,KAAKC,CAA1B,EAA6B,KAAKsO,CAAlC,EAAqC,CAArC,EAAwCN,IAAI,CAACyE,EAAL,GAAQ,CAAhD,EAAmD,KAAnD;AACA,aAAK5I,GAAL,CAAS6I,SAAT;AACA,aAAK7I,GAAL,CAASU,IAAT;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZF,MAAMoI,WAAW,GAAG,IAAIzc,uBAAJ,EAApB;;;AAEA,WAAS0c,OAAT,CAAiB3b,MAAjB,EAAyBC,QAAzB,EAAmC;AAC/B,QAAMd,IAAI,GAAGa,MAAM,CAACC,QAAD,CAAnB;;AAEA,QAAIyb,WAAW,CAACE,uBAAZ,CAAoCzc,IAApC,CAAJ,EAA+C;AAC3C,aAAOY,uBAAW6F,IAAX,CAAgB,IAAhB,EAAsB5F,MAAtB,EAA8BC,QAA9B,EAAwCyb,WAAW,CAACG,uBAAZ,CAAoC1c,IAApC,CAAxC,CAAP;AACH,KAFD,MAGK;AACDQ,aAAO,CAACC,IAAR,CAAa,iCAAb;AACH;AACJ;;AAEM,WAASkc,MAAT,CAAgBhc,GAAhB,EAAqB;AACxBA,OAAG,CAACe,GAAJ,CAAQ1B,IAAR,GAAeuc,WAAf;AAEA,QAAMvM,GAAG,GAAGrP,GAAG,CAACic,GAAJ,CAAQC,SAAR,CAAkB7M,GAA9B;;AACA,aAAS8M,WAAT,CAAqBjc,MAArB,EAA6BC,QAA7B,EAAuC;AACnC,UAAMyB,KAAK,GAAG1B,MAAM,CAACC,QAAD,CAAN,IAAoBD,MAAlC;;AAEA,UAAI0b,WAAW,CAACE,uBAAZ,CAAoCla,KAApC,CAAJ,EAAgD;AAC5C,eAAOia,OAAO,CAAC/V,IAAR,OAAA+V,OAAO,GAAM,IAAN,oCAAe5Y,SAAf,GAAd;AACH,OAFD,MAGK;AACD,eAAOoM,GAAG,CAACvJ,IAAJ,OAAAuJ,GAAG,GAAM,IAAN,oCAAepM,SAAf,GAAV;AACH;AACJ;;AAEDjD,OAAG,CAACic,GAAJ,CAAQC,SAAR,CAAkB7M,GAAlB,GAAwB8M,WAAxB;AACAnc,OAAG,CAACe,GAAJ,CAAQkb,GAAR,CAAYC,SAAZ,CAAsB7M,GAAtB,GAA4B8M,WAA5B;AAEAnc,OAAG,CAACic,GAAJ,CAAQC,SAAR,CAAkBL,OAAlB,GAA4BA,OAA5B;AACA7b,OAAG,CAACe,GAAJ,CAAQkb,GAAR,CAAYC,SAAZ,CAAsBL,OAAtB,GAAgCA,OAAhC;AAEA,WAAOD,WAAP;AACH;;iBAcc;AACXI,UAAM,EAANA;AADW,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCtDTtc,U;AACF,wBAAY2C,IAAZ,EAAoC;AAAA,UAAlB+Z,WAAkB,uEAAJ,EAAI;;AAAA;;AAChC,WAAKC,KAAL,GAAaha,IAAb;AACA,WAAKia,YAAL,GAAoBF,WAApB;AACH;;;;WAED,eAAkB;AACd,eAAO,KAAKE,YAAZ;AACH;;;WAED,eAAc;AACV,eAAO,KAAKA,YAAL,CAAkBvU,MAAlB,CAAyB,UAAAwU,SAAS;AAAA,iBAAIA,SAAS,YAAYC,2BAAzB;AAAA,SAAlC,EAA4EvU,GAA5E,CAAgF,UAAAwU,KAAK;AAAA,iBAAIA,KAAK,CAAC9a,MAAV;AAAA,SAArF,CAAP;AACH;;;aAED,gBAAO+a,cAAP,EAAuBC,gBAAvB,EAAyC;AACrC,aAAKP,WAAL,CAAiBxc,IAAjB,CAAsB4c,4BAAgBvS,EAAhB,CAAmByS,cAAnB,EAAmCC,gBAAnC,CAAtB;AACA,eAAO,IAAP;AACH;;;aAED,cAAKC,iBAAL,EAAwB;AACpB,YAAMrd,UAAU,GAAG,IAAnB;AAEA,eAAO;AACHsd,mBADG,qBACOC,sBADP,EAC+BC,sBAD/B,EACuD;AACtDxd,sBAAU,CAAC6c,WAAX,CAAuBxc,IAAvB,CAA4Bod,+BAAmB/S,EAAnB,CAAsB2S,iBAAtB,EAAyCE,sBAAzC,EAAiEC,sBAAjE,CAA5B;AACA,mBAAOxd,UAAP;AACH;AAJE,SAAP;AAMH;;;aAED,mBAAUud,sBAAV,EAAkCC,sBAAlC,EAA0D;AACtD,aAAKX,WAAL,CAAiBxc,IAAjB,CAAsBod,+BAAmB/S,EAAnB,CAAsB6S,sBAAtB,EAA8CC,sBAA9C,CAAtB;AACA,eAAO,IAAP;AACH;;;aAED,8BAAqB;AACjB,eAAO,KAAKX,WAAL,CAAiB9c,IAAjB,CAAsB,UAAAid,SAAS;AAAA,iBAAIA,SAAS,YAAYS,8BAAzB;AAAA,SAA/B,CAAP;AACH;;;aAED,2BAAkBN,cAAlB,EAAkC;AAC9B,eAAO,KAAKN,WAAL,CAAiB9c,IAAjB,CAAsB,UAAAid,SAAS;AAAA,iBAAIA,SAAS,CAACU,kBAAV,CAA6BP,cAA7B,CAAJ;AAAA,SAA/B,CAAP;AACH;;;aAED,iBAAOA,cAAP,EAAuB;AACnB,YAAMH,SAAS,GAAG,KAAKD,YAAL,CAAkB7c,IAAlB,CAAuB,UAAA8c,SAAS;AAAA,iBAAIA,SAAS,CAACU,kBAAV,CAA6BP,cAA7B,CAAJ;AAAA,SAAhC,CAAlB;;AAEA,YAAIH,SAAJ,EAAe;AACX,iBAAOA,SAAS,CAACW,UAAV,CAAqBR,cAArB,CAAP;AACH,SAFD,MAGK;AACD7c,iBAAO,CAACC,IAAR,sDAA2D4c,cAAc,CAAC3X,QAAf,EAA3D;AACH;AACJ;;;aAED,iBAAOoY,UAAP,EAAmB;AACf,YAAMZ,SAAS,GAAG,KAAKD,YAAL,CAAkB7c,IAAlB,CAAuB,UAAA8c,SAAS;AAAA,iBAAIA,SAAS,CAACa,mBAAV,CAA8BD,UAA9B,CAAJ;AAAA,SAAhC,CAAlB;;AAEA,YAAIZ,SAAJ,EAAe;AACX,iBAAOA,SAAS,CAACc,WAAV,CAAsBF,UAAtB,CAAP;AACH,SAFD,MAGK;AACDtd,iBAAO,CAACC,IAAR,uDAA4Dqd,UAAU,CAACpY,QAAX,EAA5D;AACH;AACJ;;;aAED,oBAAW;AACP,2CAA4B,KAAKsX,KAAjC;AACH;;;aAED,wBAAsBiB,YAAtB,EAAoC;AAChC,eAAO,0CAA0CC,IAA1C,CAA+CD,YAAY,CAACvY,QAAb,EAA/C,CAAP;AACH;;;;;;AAGE,WAASxF,UAAT,CAAoB8C,IAApB,EAA0B;AAC7B,WAAO,IAAI3C,UAAJ,CAAe2C,IAAf,CAAP;AACH;;iBAEc3C,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCjFM8d,S;;;;;;;aACjB,4BAAmBd,cAAnB,EAAmC;AAC/B,YAAI;AACA,iBAAO,CAAC,CAAC,KAAKQ,UAAL,CAAgBR,cAAhB,CAAT;AACH,SAFD,CAGA,OAAOrS,CAAP,EAAU;AACN,iBAAO,KAAP;AACH;AACJ;;;aAED,6BAAoBsS,gBAApB,EAAsC;AAClC,YAAI;AACA,iBAAO,CAAC,CAAC,KAAKU,WAAL,CAAiBV,gBAAjB,CAAT;AACH,SAFD,CAGA,OAAOtS,CAAP,EAAU;AACN,iBAAO,KAAP;AACH;AACJ;;;aAED,oBAAWqS,cAAX,EAA2B;AACvB,cAAM,IAAI5S,KAAJ,CAAU,yBAAV,CAAN;AACH;;;aAED,qBAAY6S,gBAAZ,EAA8B;AAC1B,cAAM,IAAI7S,KAAJ,CAAU,yBAAV,CAAN;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCrBC0S,e;;;;;AACF,6BAAYE,cAAZ,EAA4Be,gCAA5B,EAA8D;AAAA;;AAAA;;AAC1D;AAEA,YAAKf,cAAL,GAAsBA,cAAtB;AACA,YAAKC,gBAAL,GAAwB,MAAKe,kBAAL,CAAwBD,gCAAxB,CAAxB;AAJ0D;AAK7D;;;;WAED,eAAa;AACT,eAAO,KAAKd,gBAAZ;AACH;;;aAED,4BAAmBD,cAAnB,EAAmC;AAC/B,eAAO,KAAKA,cAAL,KAAwBA,cAAxB,IAA0C,CAAC,CAAC,KAAKC,gBAAxD;AACH;;;aAED,6BAAoBA,gBAApB,EAAsC;AAClC,eAAO,KAAKA,gBAAL,CAAsBjV,MAAtB,CAA6BiV,gBAA7B,KAAkD,CAAC,CAAC,KAAKD,cAAhE;AACH;;;aAED,oBAAWA,cAAX,EAA2B;AACvB,eAAO,KAAKC,gBAAZ;AACH;;;aAED,qBAAYA,gBAAZ,EAA8B;AAC1B,eAAO,KAAKD,cAAZ;AACH;;;aAMD,4BAAmBiB,eAAnB,EAAoC;AAChC,YAAIA,eAAe,YAAY9R,8BAA/B,EAAmD;AAC/C,iBAAO8R,eAAe,CAACC,IAAhB,EAAP;AACH,SAFD,MAGK,IAAID,eAAe,YAAYtY,sBAA/B,EAA2C;AAC5C,iBAAOsY,eAAe,CAAChX,KAAhB,EAAP;AACH,SAFI,MAGA;AACD9G,iBAAO,CAACC,IAAR,4DAAwE6d,eAAxE;AACH;AACJ;;;aAdD,YAAUjB,cAAV,EAA0Be,gCAA1B,EAA4D;AACxD,eAAO,IAAIjB,eAAJ,CAAoBE,cAApB,EAAoCe,gCAApC,CAAP;AACH;;;;IA9ByBD,sB;;iBA6CfhB,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MC9CTQ,kB;;;;;AACF,gCAAYa,iBAAZ,EAA+Bf,sBAA/B,EAAuDC,sBAAvD,EAA+E;AAAA;;AAAA;;AAC3E;AAEA,YAAKe,kBAAL,GAA0BD,iBAA1B;AACA,YAAKE,gCAAL,GAAwCjB,sBAAxC;AACA,YAAKkB,gCAAL,GAAwCjB,sBAAxC;AAL2E;AAM9E;;;;aAED,4BAAmBL,cAAnB,EAAmC;AAC/B,eAAO,KAAKoB,kBAAL,CAAwBpB,cAAxB,CAAP;AACH;;;aAED,oBAAWA,cAAX,EAA2B;AACvB,eAAO,IAAIrX,sBAAJ,CAAe,KAAK0Y,gCAAL,CAAsCrB,cAAtC,CAAf,EAAsE/Q,kBAAMpG,MAA5E,CAAP;AACH;;;aAED,qBAAYoX,gBAAZ,EAA8B;AAC1B,eAAO,KAAKqB,gCAAL,CAAsCrB,gBAAgB,CAACtd,IAAvD,CAAP;AACH;;;aAED,YAAUwe,iBAAV,EAA6Bf,sBAA7B,EAAqDC,sBAArD,EAA6E;AACzE,0BAAWC,kBAAX,6BAAiC/Z,SAAjC;AACH;;;;IAvB4Bua,sB;;iBA0BlBR,kB;;;;;;;;;;;;;;;;;AC7Bf;AACA,03DAA03D;AAC13D;AACA,iEAAe,IAAI,E;;;;;;;;;;;;ACHnB;;;;;;;;;;;;ACAA,qD;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;;UCNA;UACA;UACA;UACA","file":"dat.gui.ease.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"dat.gui\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"dat.gui\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"datGuiEase\"] = factory(require(\"dat.gui\"));\n\telse\n\t\troot[\"datGuiEase\"] = factory(root[\"dat\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE_dat_gui__) {\nreturn ","import Middleware from \"./middleware/Middleware\";\n\nexport default class EaseManager {\n    constructor() {\n        this._middlewares = [];\n    }\n\n    /**\n     * Checks whether a compatible middleware for ease was provided\n     * @param {Ease} ease - Ease instance of animation library of your choice\n     * @return {boolean}\n     */\n    hasCompatibleMiddleware(ease) {\n        return this._middlewares.some(middleware => middleware.isFormatSupported(ease));\n    }\n\n    /**\n     * Returns a compatible middleware for ease\n     * @param {Ease} ease - Ease instance of animation library of your choice\n     * @return {Middleware | null}\n     */\n    getCompatibleMiddleware(ease) {\n        return this._middlewares.find(middleware => middleware.isFormatSupported(ease)) || null;\n    }\n\n     /**\n     * Register middleware to handle Ease objects of animation library of your choice\n     * @param {Middleware} middleware - Middleware instance\n     * @return {this} self reference for chaining.\n     */\n    use(middleware) {\n        if (middleware && Middleware.checkSignature(middleware)) {\n            this._middlewares.push(middleware);\n        }\n        else {\n            console.warn(\"Middleware instance expected\");\n        }\n    }\n}","import * as dat from \"dat.gui\";\nimport GUIController from \"./controller/GUIController\";\nconst dom = dat.dom.dom;\n\nexport default function addEaseGUI(object, property, middleware) {\n    const controller = new GUIController(object, property, middleware);\n\n    // Partial copy of add() method\n    // https://github.com/dataarts/dat.gui/blob/40f4fc193e25ee51e7e57dfbbfc3118b3927169f/src/dat/gui/GUI.js#L1152\n    _recallSavedValue(this, controller);\n\n    const li = _addRow(this);\n    dom.addClass(li, \"cr\");\n    dom.addClass(li, 'ease');\n    li.appendChild(controller.domElement);\n\n    _augmentController(this, li, controller);\n\n    this.__controllers.push(controller);\n\n    return controller;\n}\n\n\nconst DEFAULT_PRESET_NAME = 'Default';\n// Copy of recallSavedValue() method\n// https://github.com/dataarts/dat.gui/blob/40f4fc193e25ee51e7e57dfbbfc3118b3927169f/src/dat/gui/GUI.js#L1080\nfunction _recallSavedValue(gui, controller) {\n    const root = gui.getRoot();\n    const matchedIndex = root.__rememberedObjects.indexOf(controller.object);\n\n    if (matchedIndex !== -1) {\n        let controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];\n\n        if (controllerMap === undefined) {\n            controllerMap = {};\n            root.__rememberedObjectIndecesToControllers[matchedIndex] = controllerMap;\n        }\n\n        controllerMap[controller.property] = controller;\n\n        if (root.load && root.load.remembered) {\n            const presetMap = root.load.remembered;\n\n            let preset;\n\n            if (presetMap[gui.preset]) {\n                preset = presetMap[gui.preset];\n            } else if (presetMap[DEFAULT_PRESET_NAME]) {\n                preset = presetMap[DEFAULT_PRESET_NAME];\n            } else {\n                return;\n            }\n\n            if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {\n                const value = preset[matchedIndex][controller.property];\n\n                controller.initialValue = value;\n                controller.setValue(value);\n            }\n        }\n    }\n}\n\n// Partial copy of addRow() method\n// https://github.com/dataarts/dat.gui/blob/40f4fc193e25ee51e7e57dfbbfc3118b3927169f/src/dat/gui/GUI.js#L889\nfunction _addRow(gui) {\n    const li = document.createElement('li');\n    gui.__ul.appendChild(li);\n    gui.onResize();\n    return li;\n}\n\n// Partial copy of augmentController() method\n// https://github.com/dataarts/dat.gui/blob/40f4fc193e25ee51e7e57dfbbfc3118b3927169f/src/dat/gui/GUI.js#L922\nfunction _augmentController(gui, li, controller) {\n    controller.__li = li;\n    controller.__gui = this;\n\n    controller.name = function (name) {\n        this.__li.querySelector(\".property-name\").innerHTML = name;\n        return this;\n    };\n\n    controller.listen = function () {\n        this.__gui.listen(this);\n        return this;\n    };\n\n    controller.remove = function () {\n        this.__gui.remove(this);\n        return this;\n    };\n\n    if (gui.getRoot().__preset_select) {\n        controller.onValueModified = _markPresetModified.bind(null, gui, true);\n    }\n}\n\n// Copy of markPresetModified() method\n// https://github.com/dataarts/dat.gui/blob/40f4fc193e25ee51e7e57dfbbfc3118b3927169f/src/dat/gui/GUI.js#L912\nfunction _markPresetModified(gui, modified) {\n    const opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n  \n    if (modified) {\n      opt.innerHTML = opt.value + '*';\n    } else {\n      opt.innerHTML = opt.value;\n    }\n}","import * as dat from \"dat.gui\";\nimport Ease from '../model/ease/Ease';\nimport EasePreset from \"../model/preset/EasePreset\";\nimport GUIView, { GUIViewEvent } from \"../view/GUIView\";\nimport GUIModel from \"../model/GUIModel\";\n\nexport default class GUIController extends dat.controllers.Controller {\n    constructor(object, property, middleware) {\n        super(...arguments);\n        \n        const rawEase = object[property];\n        const preset = middleware.import(rawEase);\n\n        this._middleware = middleware;\n        this._model = new GUIModel(middleware);\n        this._view = new GUIView(this._model.curves);\n\n        this._model.activePreset = preset;\n\n        this._view.setOrientations(this._model.getCurveOrientations(preset.curve));\n        this._view.setPreset(preset);\n        \n        if (this._middleware.isEditingSupported()) {\n            this._view.showEditButton();\n        }\n\n        this._view.on(GUIViewEvent.CURVE_PRESET_SELECTED, this._onCurvePresetSelected.bind(this));\n        this._view.on(GUIViewEvent.ORIENTATION_PRESET_SELECTED, this._onOrientationPresetSelected.bind(this));\n        this._view.on(GUIViewEvent.EDIT_EASE_CLICKED, this._onEditEaseClicked.bind(this));\n        this._view.on(GUIViewEvent.EASE_MODIFIED, this._onEaseModified.bind(this));\n        this._view.on(GUIViewEvent.ACCEPT_EASE_EDIT_CLICKED, this._onAcceptEaseEditClicked.bind(this));\n        this._view.on(GUIViewEvent.DISCARD_EASE_EDIT_CLICKED, this._onDiscardEaseEditClicked.bind(this));\n\n        this.domElement = this._view.domElement;\n        this._onValueModified = null;\n    }\n\n    // Called from dat.GUI to store serialized value in revertable preset\n    // (part of dat.GUi.prototype.remember() functionality)\n    getValue() {\n        return this._model.activePreset.ease.toString();\n    }\n\n    // Called from dat.GUI upon initializing with remembered value\n    // or once preset is reverted\n    setValue(easeSvgPath) {\n        const ease = Ease.fromSVGPath(easeSvgPath);\n        const matchingPreset = this._model.getPresetMatchingEase(ease);\n        \n        if (matchingPreset) {\n            this._model.activePreset = matchingPreset;\n        }\n        else {\n            this._model.activePreset = new EasePreset(ease, EasePreset.CURVE.CUSTOM, EasePreset.ORIENTATION.NONE);\n        }\n        \n        this._view.setOrientations(this._model.getCurveOrientations(this._model.activePreset.curve));\n        this._view.setPreset(this._model.activePreset);\n\n        this._applyRevertedValue(this._model.activePreset);\n    }\n\n    set onValueModified(callback) {\n        this._onValueModified = callback;\n    }\n\n    _applyValue(preset) {\n        this._applyRevertedValue(preset);\n\n        if (this._onValueModified) {\n            this._onValueModified();\n        }\n    }\n\n    _applyRevertedValue(preset) {\n        const externalEase = this._middleware.export(preset);\n        this.object[this.property] = externalEase;\n        \n        if (this.__onChange) {\n            this.__onChange.call(this, externalEase);\n        }\n        if (this.__onFinishChange) {\n            this.__onFinishChange.call(this, externalEase);\n        }\n\n        this.updateDisplay();\n    }\n\n    _onCurvePresetSelected(nextCurve) {\n        const { orientation: currentOrientation } = this._model.activePreset;\n        const nextOrientations = this._model.getCurveOrientations(nextCurve);\n        const nextOrientation = nextOrientations.includes(currentOrientation) ? currentOrientation : nextOrientations[0];\n        const nextPreset = this._model.getMatchingPreset(nextCurve, nextOrientation);\n\n        this._model.activePreset = nextPreset;\n\n        this._view.setOrientations(nextOrientations);\n        this._view.setPreset(nextPreset);\n\n        this._applyValue(nextPreset);\n    }\n\n    _onOrientationPresetSelected(nextOrientation) {\n        const nextPreset = this._model.getMatchingPreset(this._model.activePreset.curve, nextOrientation);\n\n        this._model.activePreset = nextPreset;\n        this._view.setPreset(nextPreset);\n\n        this._applyValue(nextPreset);\n    }\n\n    _onEditEaseClicked() {\n        this._model.preEditPreset = this._model.activePreset.clone();\n\n        this._view.openEditor(this._model.activePreset.ease);\n    }\n\n    _onEaseModified(modifiedEase) {\n        const matchingPreset = this._model.getPresetMatchingEase(modifiedEase);\n\n        if (matchingPreset) {\n            this._model.activePreset = matchingPreset;\n        }\n        else {\n            this._model.activePreset = new EasePreset(modifiedEase, EasePreset.CURVE.CUSTOM, EasePreset.ORIENTATION.NONE);\n        }\n\n        this._view.setPreset(this._model.activePreset);\n        this._applyValue(this._model.activePreset);\n    }\n\n    _onAcceptEaseEditClicked() {\n        this._view.closeEditor();\n        this._view.setPreset(this._model.activePreset);\n        this._applyValue(this._model.activePreset);\n    }\n\n    _onDiscardEaseEditClicked() {\n        this._model.activePreset = this._model.preEditPreset;\n        this._view.closeEditor();\n        this._view.setPreset(this._model.activePreset);\n        this._applyValue(this._model.activePreset);\n    }\n};","class GUIModel {\n    constructor(middleware) {\n        this._presets = middleware.presets;\n        this._curves = _extractCurves(this._presets);\n        this._orientationsMap = _extractOrientationsPerCurveMap(this._presets, this._curves);\n        this._activePreset = null;\n        this._preEditPreset = null;\n    }\n\n    get presets() {\n        return this._presets;\n    }\n\n    get curves() {\n        return this._curves;\n    }\n\n    get activePreset() {\n        return this._activePreset;\n    }\n\n    set activePreset(preset) {\n        this._activePreset = preset;\n    }\n\n    get preEditPreset() {\n        return this._preEditPreset;\n    }\n\n    set preEditPreset(preset) {\n        this._preEditPreset = preset;\n    }\n\n    getCurveOrientations(curve) {\n        return this._orientationsMap.get(curve) || [];\n    }\n\n    getMatchingPreset(curve, orientation) {\n        return this._presets.find(preset => preset.curve === curve && preset.orientation === orientation);\n    }\n\n    getPresetMatchingEase(ease) {\n        return this._presets.find(preset => preset.ease.equals(ease));\n    }\n}\n\nfunction _extractCurves(presets) {\n    return presets.reduce((curves, preset) => curves.includes(preset.curve) ? curves : [...curves, preset.curve], []);\n}\n\nfunction _extractOrientationsPerCurveMap(presets, curves) {\n    const orientationsMap = new Map();\n\n    for (let curve of curves) {\n        const curveMatchingPresets = presets.filter(preset => preset.curve === curve);\n        const orientations = curveMatchingPresets.map(preset => preset.orientation);\n\n        orientationsMap.set(curve, orientations);\n    }\n\n    return orientationsMap;\n}\n\nexport default GUIModel;","import Anchor from \"./composites/Anchor\";\nimport Handle from \"./composites/Handle\";\nimport Point from \"./composites/Point\";\nimport InvalidSVGPathException from \"./exceptions/InvalidSVGPathException\";\n\nexport default class Ease {\n    constructor(...anchors) {\n        this._anchors = Array.from(anchors);\n    }\n\n    get anchors() {\n        return this._anchors;\n    }\n\n    get firstAnchor() {\n        return this._anchors[0];\n    }\n\n    get lastAnchor() {\n        return this._anchors[this._anchors.length - 1];\n    }\n\n    get svgPath() {\n        return Ease.toSVGPath(this);\n    }\n\n    get points() {\n        const points = [];\n\n        for (let i = 0; i < this.anchors.length; i += 2) {\n            const startAnchor = this.anchors[i];\n            const endAnchor = this.anchors[i + 1];\n            \n            points.push(startAnchor.toPoint(), startAnchor.handle.toPoint(), endAnchor.handle.toPoint(), endAnchor.toPoint());\n        }\n\n        return points;\n    }\n\n    equals(ease) {\n        return this.svgPath === ease.svgPath;\n    }\n    \n    addAnchor(x, y) {\n        const anchor = new Anchor(x, y);\n        this.anchors.push(anchor);\n        return anchor;\n    }\n\n    toString() {\n        return this.svgPath;\n    }\n\n    static of(...anchors) {\n        return new Ease(...anchors);\n    }\n\n    static ofSVGPath(svgPath) {\n        try {\n            const trimmedPath = svgPath.trim();\n            const [startX, startY] = trimmedPath.match(/^M *(?<x>[\\d\\.]+),(?<y>[\\d\\.]+)/).splice(-2).map(safeParseCoordinate);\n            const cCoords = trimmedPath.replace(/^M.*C */, \"\").replace(/ *$/, \"\").split(/[ ,]/).map(safeParseCoordinate);\n\n            if (cCoords.length % 6 !== 0) {\n                throw new Error(\"Irregular number of coordinates provided.\")\n            }\n            else {\n                const anchors = [];\n\n                anchors[0] = Anchor.ofOriginAndHandle(\n                    Point.of(startX, startY),\n                    Point.of(cCoords[0], cCoords[1])\n                );\n        \n                for (let i = 2; i < cCoords.length - 4; i += 6) {\n                    const a = (i - 2) / 3 + 1;\n                    \n                    anchors[a] = Anchor.ofOriginAndHandle(\n                        Point.of(cCoords[i + 2], cCoords[i + 3]),\n                        Point.of(cCoords[i],  cCoords[i + 1])\n                    );\n    \n                    anchors[a + 1] = Anchor.ofOriginAndHandle(\n                        Point.of(cCoords[i + 2], cCoords[i + 3]),\n                        Point.of(cCoords[i + 4], cCoords[i + 5])\n                    );\n                }\n    \n                const lastAnchor = Anchor.ofOriginAndHandle(\n                    Point.of(...cCoords.slice(-2)),\n                    Point.of(cCoords[cCoords.length - 4], cCoords[cCoords.length - 3])\n                );\n    \n                anchors.push(lastAnchor);\n                \n                return Ease.of(...anchors);\n            }\n        }\n        catch (e) {\n            throw new InvalidSVGPathException(e);\n        }\n    }\n\n    static toSVGPath(ease) {\n        let path = `M ${ease.firstAnchor.x},${ease.firstAnchor.y} C`;\n\n        for (let i = 0; i < ease.anchors.length; i += 2) {\n            const startAnchor = ease.anchors[i];\n            const endAnchor = ease.anchors[i + 1];\n            \n            path += ` ${startAnchor.handle.x},${startAnchor.handle.y} ${endAnchor.handle.x},${endAnchor.handle.y} ${endAnchor.x},${endAnchor.y}`;\n        }\n\n        const points = ease.points;\n        const originPoint = points.shift();\n        let path2 = `M ${originPoint.x},${originPoint.y} C`;\n\n        for (let point of points) {\n            path2 += ` ${point.x},${point.y}`;\n        }\n\n        return path;\n    }\n}\n\nfunction safeParseCoordinate(rawCoordinate) {\n    const coordinate = Number.parseFloat(rawCoordinate);\n    if (coordinate === NaN) throw new Error(`Error parsing coordinate \"${rawCoordinate}\"`);\n    return coordinate;\n}\n\nexport {\n    Anchor,\n    Handle,\n    Point,\n    InvalidSVGPathException\n}","import Handle from \"./Handle\";\nimport Point from \"./Point\";\n\nexport default class Anchor extends Point {\n    constructor(x, y) {\n        super(x, y);\n        this.handle = new Handle(x, y);\n    }\n\n    toPoint() {\n        return Point.of(this.x, this.y);\n    }\n\n    static ofOriginAndHandle(originPointLike, handlePointLike) {\n        const anchor = Anchor.ofOrigin(originPointLike);\n        anchor.handle.copy(handlePointLike);\n        return anchor;\n    }\n\n    static ofOrigin(pointLike) {\n        return Anchor.of(pointLike.x, pointLike.y)\n    }\n\n    static of(x, y) {\n        return new Anchor(x, y);\n    }\n}","import Point from \"./Point\";\n\nexport default class Handle extends Point {\n    toPoint() {\n        return Point.of(this.x, this.y);\n    }\n    \n    static of(x, y) {\n        return new Handle(x, y);\n    }\n}","export default class Point {\n    constructor(x = 0, y = 0) {\n        this.x = x;\n        this.y = y;\n    }\n\n    copy(pointLike) {\n        this.x = pointLike.x;\n        this.y = pointLike.y;\n    }\n\n    static of(x, y) {\n        return new Point(x, y);\n    }\n}","export default class InvalidSVGPathException extends Error {}","import Ease from \"../ease/Ease\";\nimport Curve from \"./enum/Curve\";\nimport Orientation from \"./enum/Orientation\";\n\nclass EasePreset {\n    static CURVE = Curve;\n    static ORIENTATION = Orientation;\n\n    constructor(easeOrSvgPath, curve = EasePreset.CURVE.UNDEFINED, orientation = EasePreset.ORIENTATION.NONE) {\n        this.ease = easeOrSvgPath instanceof Ease ? easeOrSvgPath : Ease.ofSVGPath(easeOrSvgPath);\n        this.curve = curve;\n        this.orientation = orientation;\n    }\n\n    clone() {\n        return EasePreset.of(this.ease.toString(), this.curve, this.orientation);\n    }\n\n    toString() {\n        return `[${this.ease.toString()}][${this.curve}.${this.orientation}]`;\n    }\n\n    equals(preset) {\n        return this.toString() === preset.toString();\n    }\n\n    static of(svgPath, curve = EasePreset.CURVE.UNDEFINED, orientation = EasePreset.ORIENTATION.NONE) {\n        return new EasePreset(svgPath, curve, orientation);\n    }\n}\n\nexport {\n    Curve,\n    Orientation\n}\n\nexport default EasePreset;","import { Orientation } from \"./EasePreset\";\nimport Curve from \"./enum/Curve\";\n\nclass EasePresetProvider {\n    constructor(providerFunction) {\n        this._providerFunction = providerFunction;\n        this._curveAlias = null;\n        this._orientationAlias = null;\n    }\n\n    withAlias(curveAlias) {\n        this._curveAlias = curveAlias;\n        return this;\n    }\n\n    withOrientation(orientation) {\n        this._orientationAlias = orientation;\n        return this;\n    }\n\n    next() {\n        const preset = this._providerFunction();\n        \n        if (this._curveAlias) {\n            preset.curve = this._curveAlias;\n        }\n\n        if (this._orientationAlias) {\n            preset.orientation = this._orientationAlias;\n        }\n\n        return preset;\n    }\n\n    static ofSample(preset) {\n        return new EasePresetProvider(() => preset.clone());\n    }\n}\n\nexport default EasePresetProvider;","export default Object.freeze({\n    LINEAR: \"Linear\",\n    SINE: \"Sine\",\n    QUAD: \"Quad\",\n    CUBIC: \"Cubic\",\n    QUART: \"Quart\",\n    QUINT: \"Quint\",\n    EXPO: \"Expo\",\n    CIRC: \"Circ\",\n    BACK: \"Back\",\n    ELASTIC: \"Elastic\",\n    BOUNCE: \"Bounce\",\n    CUSTOM: \"Custom\",\n    UNDEFINED: \"Undefined\"\n});\n","export default Object.freeze({\n    IN: \"in\",\n    OUT: \"out\",\n    IN_OUT: \"inOut\",\n    NONE: \"none\"\n});","import EasePreset, { Curve, Orientation } from \"./EasePreset\";\nimport EasePresetProvider from \"./EasePresetProvider\";\n\n// Predefined list of easings commonly used across various animation engines\n// https://easings.net/\n\nexport const Linear = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0,0 1,1 1,1\", Curve.LINEAR, Orientation.NONE));\n\nexport const SineIn = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.12,0 0.39,0 1,1\", Curve.SINE, Orientation.IN));\nexport const SineOut = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.61,1 0.88,1 1,1\", Curve.SINE, Orientation.OUT));\nexport const SineInOut = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.37,0 0.63,1 1,1\", Curve.SINE, Orientation.IN_OUT));\n\nexport const QuadIn = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.11,0 0.5,0 1,1\", Curve.QUAD, Orientation.IN));\nexport const QuadOut = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.5,1 0.89,1 1,1\", Curve.QUAD, Orientation.OUT));\nexport const QuadInOut = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.45,0 0.55,1 1,1\", Curve.QUAD, Orientation.IN_OUT));\n\nexport const CubicIn = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.32,0 0.67,0 1,1\", Curve.CUBIC, Orientation.IN));\nexport const CubicOut = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.33,1 0.68,1 1,1\", Curve.CUBIC, Orientation.OUT));\nexport const CubicInOut = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.65,0 0.35,1 1,1\", Curve.CUBIC, Orientation.IN_OUT));\n\nexport const QuartIn = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.5,0 0.75,0 1,1\", Curve.QUART, Orientation.IN));\nexport const QuartOut = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.25,1 0.5,1 1,1\", Curve.QUART, Orientation.OUT));\nexport const QuartInOut = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.76,0 0.24,1 1,1\", Curve.QUART, Orientation.IN_OUT));\n\nexport const ExpoIn = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.7,0 0.84,0 1,1\", Curve.EXPO, Orientation.IN));\nexport const ExpoOut = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.16,1 0.3,1 1,1\", Curve.EXPO, Orientation.OUT));\nexport const ExpoInOut = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.87,0 0.13,1 1,1\", Curve.EXPO, Orientation.IN_OUT));\n\nexport const CircIn = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.55,0 1,0.45 1,1\", Curve.CIRC, Orientation.IN));\nexport const CircOut = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0,0.55 0.45,1 1,1\", Curve.CIRC, Orientation.OUT));\nexport const CircInOut = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.85,0 0.15,1 1,1\", Curve.CIRC, Orientation.IN_OUT));\n\nexport const BackIn = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.36,0 0.66,-0.56 1,1\", Curve.BACK, Orientation.IN));\nexport const BackOut = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.34,1.56 0.64,1 1,1\", Curve.BACK, Orientation.OUT));\nexport const BackInOut = EasePresetProvider.ofSample(EasePreset.of(\"M 0,0 C 0.68,-0.6 0.32,1.6 1,1\", Curve.BACK, Orientation.IN_OUT));","import domTemplate from \"./dom/gui.html\";\nimport GUIViewEvent from \"./GUIViewEvent\";\nimport EasePanelDirector from \"./dom/directors/EasePanelDirector\";\nimport HTMLElementDirector from \"./HTMLElementDirector\";\nimport EaseEditorDirector from \"./dom/directors/EaseEditorDirector\";\n\nclass GUIView extends HTMLElementDirector {\n    constructor(curves) {\n        super(_renderTemplate(domTemplate));\n\n        this._easePanelDirector = new EasePanelDirector(this._element, curves);\n        this._easeEditorDirector = null;\n\n        this._easePanelDirector.on(GUIViewEvent.CURVE_PRESET_SELECTED, (...args) => this.emit(GUIViewEvent.CURVE_PRESET_SELECTED, ...args));\n        this._easePanelDirector.on(GUIViewEvent.ORIENTATION_PRESET_SELECTED, (...args) => this.emit(GUIViewEvent.ORIENTATION_PRESET_SELECTED, ...args));\n        this._easePanelDirector.on(GUIViewEvent.EDIT_EASE_CLICKED, (...args) => this.emit(GUIViewEvent.EDIT_EASE_CLICKED, ...args));\n    }\n\n    setOrientations(orientations) {\n        this._easePanelDirector.setOrientations(orientations);\n    }\n\n    setPreset(preset) {\n        this._easePanelDirector.setPreset(preset);\n        \n        if (this._isEditorOpen()) {\n            this._easeEditorDirector.ease = preset.ease;\n        }\n    }\n\n    openEditor(initialEase) {\n        if (this._isEditorOpen()) return;\n\n        this._element.classList.remove(\"mode-select\");\n        this._element.classList.add(\"mode-edit\");\n\n        this._easeEditorDirector = new EaseEditorDirector(this._element);\n        this._easeEditorDirector.on(GUIViewEvent.ACCEPT_EASE_EDIT_CLICKED, (...args) => this.emit(GUIViewEvent.ACCEPT_EASE_EDIT_CLICKED, ...args));\n        this._easeEditorDirector.on(GUIViewEvent.DISCARD_EASE_EDIT_CLICKED, (...args) => this.emit(GUIViewEvent.DISCARD_EASE_EDIT_CLICKED, ...args));\n        this._easeEditorDirector.on(GUIViewEvent.EASE_MODIFIED, (...args) => this.emit(GUIViewEvent.EASE_MODIFIED, ...args));\n        this._easeEditorDirector.ease = initialEase;\n    }\n\n    closeEditor() {\n        if (!this._isEditorOpen()) return;\n\n        this._element.classList.remove(\"mode-edit\");\n        this._element.classList.add(\"mode-select\");\n\n        this._easeEditorDirector.cleanUp();\n        this._easeEditorDirector = null;\n    }\n\n    showEditButton() {\n        this._easePanelDirector.showEditButton();\n    }\n\n    get domElement() {\n        return this._element;\n    }\n\n    _isEditorOpen() {\n        return !!this._easeEditorDirector;\n    }\n}\n\nfunction _renderTemplate(template) {\n    return (new DOMParser()).parseFromString(template, \"text/html\").body.firstChild;\n}\n\nexport {\n    GUIViewEvent\n};\n\nexport default GUIView;","export default Object.freeze({\n    CURVE_PRESET_SELECTED: \"CurvePresetSelectedGUIViewEvent\",\n    ORIENTATION_PRESET_SELECTED: \"OrientationPresetSelectedGUIViewEvent\",\n    EDIT_EASE_CLICKED: \"EditEaseClickedGUIViewEvent\",\n    EASE_MODIFIED: \"EaseModifiedGUIViewEvent\",\n    ACCEPT_EASE_EDIT_CLICKED: \"AcceptEaseEditClickedGUIViewEvent\",\n    DISCARD_EASE_EDIT_CLICKED: \"DiscardEaseEditClickedGUIViewEvent\"\n});","export default class HTMLElementDirector {\n    constructor(htmlElement) {\n        this._element = htmlElement;\n    }\n\n    on(eventKey, callback) {\n        this._element.addEventListener(eventKey, event => callback(...event.detail));\n    }\n\n    emit(eventKey, ...args) {\n        this._element.dispatchEvent(new CustomEvent(eventKey, { detail: args }));\n    }\n}","import HTMLElementDirector from \"../../HTMLElementDirector\";\nimport { curveSelector } from \"../selectors\";\nimport { Curve } from \"../../../model/preset/EasePreset\";\nimport GUIViewEvent from  \"../../GUIViewEvent\";\n\nexport default class CurveSelectorDirector extends HTMLElementDirector {\n    constructor(rootDomElement, curves) {\n        super(curveSelector(rootDomElement));\n\n        for (let option of this._composeOptions(curves)) {\n            this._element.options.add(option);\n        }\n\n        this._element.onchange = () => this.emit(GUIViewEvent.CURVE_PRESET_SELECTED, this._element.value);\n    }\n\n    set value(curve) {\n        this._element.value = curve;\n    }\n\n    _composeOptions(curves) {\n        const options = curves.map(curve => new Option(curve, curve));\n\n        return [...options, this._createCustomCurveOption()];\n    }\n    \n    _createCustomCurveOption() {\n        const customCurveOption = new Option(Curve.CUSTOM, Curve.CUSTOM);\n        customCurveOption.setAttribute(\"hidden\", true);\n        return customCurveOption;\n    }\n}","import Ease from \"../../../model/ease/Ease\";\nimport EaseEditor, { EditorCurveChangeEvent } from \"../../editor/EaseEditor\";\nimport { GUIViewEvent } from \"../../GUIView\";\nimport HTMLElementDirector from \"../../HTMLElementDirector\";\nimport { editorAcceptButton, editorCanvas, editorDeclineButton, editorSvgPathCopyButton, editorSvgPathInspector } from \"../selectors\";\n\nexport default class EaseEditorDirector extends HTMLElementDirector {\n    constructor(rootDomElement) {\n        super(editorCanvas(rootDomElement));\n        \n        this._editor = new EaseEditor(this._element);\n        this._element.addEventListener(EditorCurveChangeEvent.KEY, () => this.emit(GUIViewEvent.EASE_MODIFIED, this._editor.ease));\n\n        this._svgPathInspector = this._initSvgPathInspector(rootDomElement);\n        this._copyButton = this._initCopyButton(rootDomElement, this._svgPathInspector);\n        this._acceptButton = this._initAcceptButton(rootDomElement);\n        this._discardButton = this._initDiscardButton(rootDomElement);\n    }\n\n    set ease(ease) {\n        this._editor.ease = ease;\n        this._svgPathInspector.value = ease.toString();\n    }\n    \n    cleanUp() {\n        // Hack to reset event listeners assigned to original canvas by CurveJS & external listeners\n        const canvas = this._element\n        const canvasClone = canvas.cloneNode(true);\n\n        canvas.parentNode.replaceChild(canvasClone, canvas);\n    }\n\n    _initSvgPathInspector(rootDomElement) {\n        const inspectorElement = editorSvgPathInspector(rootDomElement);\n\n        inspectorElement.oninput = event => {\n            try {\n                const ease = Ease.fromSVGPath(inspectorElement.value);\n\n                this._editor.ease = ease;\n                this.emit(GUIViewEvent.EASE_MODIFIED, ease);\n            }\n            catch(e) {\n                console.warn(`Couldn't parse SVG path ${inspectorElement.value}`);\n            }\n        }\n\n        return inspectorElement;\n    }\n\n    _initCopyButton(rootDomElement, svgPathInspectorElement) {\n        const buttonElement = editorSvgPathCopyButton(rootDomElement);\n\n        buttonElement.onclick = () => {\n            svgPathInspectorElement.select();\n            document.execCommand(\"copy\");\n            console.info(`Copied ${svgPathInspectorElement.value}`);\n        };\n\n        return buttonElement;\n    }\n\n    _initAcceptButton(rootDomElement) {\n        const buttonElement = editorAcceptButton(rootDomElement);\n\n        buttonElement.onclick = () => this.emit(GUIViewEvent.ACCEPT_EASE_EDIT_CLICKED, this._editor.ease);\n\n        return buttonElement;\n    }\n\n    _initDiscardButton(rootDomElement) {\n        const buttonElement = editorDeclineButton(rootDomElement);\n\n        buttonElement.onclick = () => this.emit(GUIViewEvent.DISCARD_EASE_EDIT_CLICKED);\n\n        return buttonElement;\n    }\n}","import HTMLElementDirector from \"../../HTMLElementDirector\";\nimport { cornerCurveCanvas } from \"../selectors\";\n\nexport default class EasePanelBackgroundDirector extends HTMLElementDirector {\n    constructor(rootDomElement) {\n        super();\n\n        this._cornerCurveCanvas = cornerCurveCanvas(rootDomElement);\n        this._cornerCurveCanvas.width = this._cornerCurveCanvas.height = 60;\n\n        this._cornerCurveCanvasContext = this._cornerCurveCanvas.getContext(\"2d\");\n    }\n\n    refresh(ease) {\n        const ctx = this._cornerCurveCanvasContext;\n        const { width, height } = this._cornerCurveCanvas;\n\n        ctx.strokeStyle = ctx.fillStyle = \"#88CE02\";\n\t\tctx.lineWidth = 1;\n        ctx.clearRect(0, 0, width, height);\n        ctx.beginPath();\n\t\tctx.moveTo(ease.firstAnchor.x * width, (1 - ease.firstAnchor.y) * height);\n        \n        for (let i = 0; i < ease.anchors.length; i += 2) {\n            const startAnchor = ease.anchors[i];\n            const endAnchor = ease.anchors[i + 1];\n\n            ctx.bezierCurveTo(\n                startAnchor.handle.x * width, (1 - startAnchor.handle.y) * height, \n                endAnchor.handle.x * width, (1 - endAnchor.handle.y) * height, \n                endAnchor.x * width, (1 - endAnchor.y) * height);\n        }\n\n        ctx.lineTo(width, height);\n        ctx.lineTo(0, height);\n        ctx.stroke();\n        ctx.fill();\n    }\n}","import HTMLElementDirector from \"../../HTMLElementDirector\";\nimport { easePanel, editButton } from \"../selectors\";\nimport CurveSelectorDirector from \"./CurveSelectorDirector\";\nimport OrientationSelectorDirector from \"./OrientationSelectorDirector\";\nimport GUIViewEvent from \"../../GUIViewEvent\";\nimport EasePanelBackgroundDirector from \"./EasePanelBackgroundDirector\";\n\nexport default class EasePanelDirector extends HTMLElementDirector {\n    constructor(rootDomElement, curves) {\n        super(easePanel(rootDomElement));\n\n        this._curveSelector = new CurveSelectorDirector(rootDomElement, curves);\n        this._curveSelector.on(GUIViewEvent.CURVE_PRESET_SELECTED, (...args) => this.emit(GUIViewEvent.CURVE_PRESET_SELECTED, ...args));\n\n        this._orientationSelector = new OrientationSelectorDirector(rootDomElement);\n        this._orientationSelector.on(GUIViewEvent.ORIENTATION_PRESET_SELECTED, (...args) => this.emit(GUIViewEvent.ORIENTATION_PRESET_SELECTED, ...args));\n\n        this._background = new EasePanelBackgroundDirector(rootDomElement);\n\n        this._editButtonElement = editButton(rootDomElement);\n        this._editButtonElement.style.display = \"none\"\n        this._editButtonElement.addEventListener(\"click\", () => this.emit(GUIViewEvent.EDIT_EASE_CLICKED));\n    }\n\n    setOrientations(orientations) {\n        this._orientationSelector.values = orientations;\n    }\n\n    setPreset(preset) {\n        this._curveSelector.value = preset.curve;\n        this._orientationSelector.value = preset.orientation;\n        this._background.refresh(preset.ease);\n    }\n\n    showEditButton() {\n        this._editButtonElement.style.display = null;\n    }\n}","import HTMLElementDirector from \"../../HTMLElementDirector\";\nimport { orientationSelector } from \"../selectors\";\nimport GUIViewEvent from  \"../../GUIViewEvent\";\n\nexport default class OrientationSelectorDirector extends HTMLElementDirector {\n    constructor(rootDomElement) {\n        super(orientationSelector(rootDomElement));\n\n        this._element.onchange = () => this.emit(GUIViewEvent.ORIENTATION_PRESET_SELECTED, this._element.value);\n    }\n    \n    set values(orientations) {\n        this._element.options.length = 0;\n        \n        if (orientations.length > 0) {\n            for (let orientation of orientations) {\n                this._element.options.add(new Option(orientation, orientation));\n            }\n            this._element.removeAttribute(\"disabled\");\n        }\n        else {\n            this._element.setAttribute(\"disabled\", true);\n        }\n    }\n\n    set value(orientation) {\n        this._element.value = orientation;\n    }\n}","export function easePanel(rootDomElement) {\n    return rootDomElement.querySelector(\".ease-selector\");\n}\n\nexport function curveSelector(rootDomElement) {\n    return rootDomElement.querySelector(\".curve-selector\");\n}\n\nexport function orientationSelector(rootDomElement) {\n    return rootDomElement.querySelector(\".orientation-selector\");\n}\n\nexport function cornerCurveCanvas(rootDomElement) {\n    return rootDomElement.querySelector(\"canvas.corner-curve\");\n}\n\nexport function editButton(rootDomElement) {\n    return rootDomElement.querySelector(\".edit-button\");\n}\n\nexport function editorCanvas(rootDomElement) {\n    return rootDomElement.querySelector(\"canvas.editor\");\n}\n\nexport function editorSvgPathInspector(rootDomElement) {\n    return rootDomElement.querySelector(\".path-selector\");\n}\n\nexport function editorSvgPathCopyButton(rootDomElement) {\n    return rootDomElement.querySelector(\".copy-button\");\n}\n\nexport function editorAcceptButton(rootDomElement) {\n    return rootDomElement.querySelector(\".accept-button\");\n}\n\nexport function editorDeclineButton(rootDomElement) {\n    return rootDomElement.querySelector(\".decline-button\");\n}","import CurveJS from \"./lib/curvesjs/Curve\";\nimport BezierPoint from \"./lib/curvesjs/BezierPoint\";\nimport { EditorCurveChangeEvent } from \"./events\";\nimport Ease from \"../../model/ease/Ease\";\n\nexport default class EaseEditor {\n  constructor(canvas) {\n    this._canvas = canvas;\n    this._ctx = this._prepareContext(canvas);\n    this._curve = this._createCurveJSInstance(this._ctx);\n    this._propagateEvents(this._curve, canvas);\n  }\n\n  set ease(ease) {\n    const { points, pointColor, pointSize, cpDist } = this._curve;\n    const { anchors, firstAnchor, lastAnchor } = ease;\n    points.length = 0;\n\n    const firstPoint = new BezierPoint(this._toCanvasX(firstAnchor.x), this._toCanvasY(firstAnchor.y), this._ctx, pointColor, pointSize, cpDist);\n    firstPoint.cp2.x = this._toCanvasX(firstAnchor.handle.x);\n    firstPoint.cp2.y = this._toCanvasY(firstAnchor.handle.y);\n    firstPoint.cp1.x = -firstPoint.cp2.x;\n    firstPoint.cp1.y = -firstPoint.cp2.y;\n    points.push(firstPoint);\n\n    for (let i = 1; i < anchors.length - 1; i += 2) {\n      const precedingCurveEndAnchor = anchors[i];\n      const followingCurveStartAnchor = anchors[i + 1];\n      const point = new BezierPoint(this._toCanvasX(precedingCurveEndAnchor.x), this._toCanvasY(precedingCurveEndAnchor.y), this._ctx, pointColor, pointSize, cpDist);\n\n      point.cp1.x = this._toCanvasX(precedingCurveEndAnchor.handle.x);\n      point.cp1.y = this._toCanvasY(precedingCurveEndAnchor.handle.y);\n      point.cp2.x = this._toCanvasX(followingCurveStartAnchor.handle.x);\n      point.cp2.y = this._toCanvasY(followingCurveStartAnchor.handle.y);\n\n      points.push(point);\n    }\n\n    const lastPoint = new BezierPoint(this._toCanvasX(lastAnchor.x), this._toCanvasY(lastAnchor.y), this._ctx, pointColor, pointSize, cpDist);\n    lastPoint.cp1.x = this._toCanvasX(lastAnchor.handle.x);\n    lastPoint.cp1.y = this._toCanvasY(lastAnchor.handle.y);\n    lastPoint.cp2.x = -lastPoint.cp1.x;\n    lastPoint.cp2.y = -lastPoint.cp1.y;\n    points.push(lastPoint);\n\n    this._curve.draw();\n  }\n\n  get ease() {\n    const ease = new Ease();\n    const { cw, ch, points } = this._curve;\n\n    for (let i = 0; i < points.length - 1; i++) {\n      const startPoint = points[i];\n      const startAnchor = ease.addAnchor(this._fromCanvasX(startPoint.position.x), this._fromCanvasY(startPoint.position.y));\n      startAnchor.handle.x = this._fromCanvasX(startPoint.cp2.x);\n      startAnchor.handle.y = this._fromCanvasY(startPoint.cp2.y);\n\n      const endPoint = points[i + 1];\n      const endAnchor = ease.addAnchor(this._fromCanvasX(endPoint.position.x), this._fromCanvasY(endPoint.position.y));\n      endAnchor.handle.x = this._fromCanvasX(endPoint.cp1.x);\n      endAnchor.handle.y = this._fromCanvasY(endPoint.cp1.y);\n    }\n\n    return ease;\n  }\n\n  _prepareContext(canvas) {\n    const ctx = canvas.getContext(\"2d\");\n    ctx.canvas.width = canvas.clientWidth;\n    ctx.canvas.height = canvas.clientHeight;\n    return ctx;\n  }\n\n  _createCurveJSInstance(ctx) {\n    const curve = new CurveJS(ctx);\n\n    curve.setPointStyle('#ffffff', 8);\n    curve.setLineStyle('#ace247', 2);\n\n    return curve;\n  }\n\n  _propagateEvents(curve, canvas) {\n    curve.on('drag', () => canvas.dispatchEvent(new EditorCurveChangeEvent()));\n    curve.on('newpoint', () => canvas.dispatchEvent(new EditorCurveChangeEvent()));\n    curve.on('removepoint', () => canvas.dispatchEvent(new EditorCurveChangeEvent()));\n  }\n\n  _toCanvasX(x) {\n    return x * this._curve.cw;\n  }\n\n  _toCanvasY(y) {\n    return (1 - y) * this._curve.ch;\n  }\n\n  _fromCanvasX(x) {\n    return this._round(x / this._curve.cw);\n  }\n\n  _fromCanvasY(y) {\n    return this._round(1 - y / this._curve.ch);\n  }\n\n  _round(coord, numberOfFloatDigits = 3) {\n    const power = Math.pow(10, numberOfFloatDigits);\n    return Math.round(coord * power) / power;\n  }\n}\n\nexport {\n  EditorCurveChangeEvent\n}","export default class EditorCurveChangeEvent extends CustomEvent {\n    constructor() {\n        super(EditorCurveChangeEvent.KEY);\n    }\n\n    static KEY = \"editorCurveChangeEvent\";\n}","import Point from \"./Point\"\n\nexport default class BezierPoint {\n\n\tconstructor(x, y, context, color, size, cpDist) {\n\n\t\tthis.cpDist = cpDist;\n\n\t\tthis.color = color;\n\t\tthis.size = size;\n\n\t\tthis.position = new Point(x, y, this.color, this.size, context);\n\t\tthis.cp1 = new Point(x-this.cpDist, y, this.color, this.size, context);\n\t\tthis.cp2 = new Point(x+this.cpDist, y, this.color, this.size, context);\n\n\t\tthis.ctx = context;\n\t\tthis.r = 2;\n\n\t\tthis.collapsed = false;\n\n\t}\n\n\tcollapse() {\n\t\n\t\tif (!this.collapsed) {\n\t\t\tthis.collapsed = true;\n\t\t\tthis.cp1.x = this.cp2.x = this.position.x;\n\t\t\tthis.cp1.y = this.cp2.y = this.position.y;\n\t\t} else {\n\t\t\tthis.collapsed = false;\n\t\t\tthis.cp1.x = this.position.x - this.cpDist;\n\t\t\tthis.cp2.x = this.position.x + this.cpDist;\n\t\t}\n\n\t}\n\n\tmove() {\n\n\t\tif (!this.collapsed) {\n\t\t\tthis.v1x = this.cp1.x - this.position.x;\n\t\t\tthis.v1y = this.cp1.y - this.position.y;\n\t\t\tthis.v2x = this.cp2.x - this.position.x;\n\t\t\tthis.v2y = this.cp2.y - this.position.y;\n\t\t} else {\n\t\t\tthis.v1x = this.v1y = this.v2x = this.v2y = 0;\n\t\t}\n\n\t}\n\n\tsetPointStyle(color, size) {\n\n\t\tthis.position.color = color;\n\t\tthis.cp1.color = color;\n\t\tthis.cp2.color = color;\n\t\tthis.position.r = size/2;\n\t\tthis.cp1.r = size/2;\n\t\tthis.cp2.r = size/2;\n\t}\n\n\tdraw() {\n\n\t\tthis.ctx.lineWidth = 0.2;\n\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.moveTo(this.position.x, this.position.y);\n\t\tthis.ctx.lineTo(this.cp1.x, this.cp1.y);\n\t\tthis.ctx.stroke();\n\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.moveTo(this.position.x, this.position.y);\n\t\tthis.ctx.lineTo(this.cp2.x, this.cp2.y);\n\t\tthis.ctx.stroke();\n\n\t\tthis.position.draw();\n\t\tthis.cp1.draw();\n\t\tthis.cp2.draw();\n\n\t}\n}","/*\nThe MIT License (MIT)\n\nCopyright (c) 2015 Sidney Douw\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n\nimport BezierPoint from \"./BezierPoint\";\n\nexport default class Curve {\n\n\tconstructor(context, interval, cpDist) {\n\n\t\tthis.BezierPoint = BezierPoint;\n\n\t\tthis.cpDist = cpDist ? cpDist : context.canvas.width * 0.2;\n\n\t\tthis.pointColor = '#f00';\n\t\tthis.pointSize = 4;\n\n\t\tthis.lineColor = '#fff';\n\t\tthis.lineWidth = 1;\n\n\t\tthis.points = [\n\t\t\tnew BezierPoint(0, context.canvas.height, context, this.pointColor, this.pointSize, this.cpDist),\n\t\t\tnew BezierPoint(context.canvas.width, 0, context, this.pointColor, this.pointSize, this.cpDist)\n\t\t];\n\n\t\tthis.ctx = context;\n\t\tthis.cw = context.canvas.width;\n\t\tthis.ch = context.canvas.height;\n\n\t\tthis.mouseX = 0;\n\t\tthis.mouseY = 0;\n\n\t\tthis.events = {};\n\n\t\tthis.interval = interval;\n\n\t\tthis.canvasEvents();\n\t\tthis.createLUT();\n\t\tthis.draw();\n\n\t}\n\n\txGetY(frame) {\n\n\t\tlet tolerance = 0.0001;\n\t\t\n\t\tlet iMin = 0;\n\t\tlet iMax = 5000;\n\t\tlet key = (iMin+iMax)/2;\n\n\t\tlet xTarget = frame/this.interval;\n\t\tlet xCurrent = this.lookupX[key];\n\n\t\tlet i = 0;\n\n\t\twhile (Math.abs(xTarget-xCurrent) > tolerance){\n\t\t\ti++;\n\t\t\t\n\t\t\tif (xCurrent > xTarget) {\n\t\t\t\tiMax = key;\n\t\t\t} else if (xCurrent < xTarget) {\n\t\t\t\tiMin = key;\n\t\t\t}\n\t\t\tkey = Math.round((iMin+iMax)/2);\n\t\t\txCurrent = this.lookupX[key];\n\n\t\t\tif (i > 20) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn this.lookupY[key];\n\n\t}\n\n\tcreateLUT() {\n\t\t\n\t\tthis.lookupX = [];\n\t\tthis.lookupY = [];\n\n\t\t//Percent Based Tesselation\n\t\tfor (let i = 1; i < this.points.length; i++) {\n\t\t\tlet p1 = this.points[i-1];\n\t\t\tlet p2 = this.points[i];\n\t\t\tlet pct = (p2.position.x/this.cw) - (p1.position.x/this.cw);\n\t\t\tfor (let t = 0; t < 1; t+=1/(5000*pct)) {\n\t\t\t\tlet x = (Math.pow((1-t),3)*p1.position.x) + (3*Math.pow((1-t),2)*t*p1.cp2.x) + (3*(1-t)*Math.pow(t,2)*p2.cp1.x) + (Math.pow(t,3)*p2.position.x);\n\t\t\t\tlet y = (Math.pow((1-t),3)*p1.position.y) + (3*Math.pow((1-t),2)*t*p1.cp2.y) + (3*(1-t)*Math.pow(t,2)*p2.cp1.y) + (Math.pow(t,3)*p2.position.y);\n\t\t\t\tthis.lookupX.push(x/this.cw);\n\t\t\t\tthis.lookupY.push(-y/this.ch+1);\n\t\t\t}\n\t\t}\n\n\t}\n\n\ton(event, func) {\n\t\tthis.events['on'+event] = func.bind(this);\n\t}\n\n\tcanvasEvents() {\n\n\t\tlet x,\n\t\t\ty,\n\t\t\tdist,\n\t\t\tdragReady,\n\t\t\tdragCP,\n\t\t\tdraging;\n\n\t\tlet _this = this;\n\t\t\n\t\tthis.ctx.canvas.addEventListener('mousemove', function(evt){\n\n\t\t\tlet bbox = this.getBoundingClientRect();\n\n\t\t\tx = evt.clientX - bbox.left;\n\t\t\ty = evt.clientY - bbox.top;\n\n\t\t\t_this.mouseX = x;\n\t\t\t_this.mouseY = y;\n\n\t\t\tfor (let i = 0; i < _this.points.length; i++) {\n\t\t\t\tlet p = _this.points[i];\n\n\t\t\t\tif (!draging) {\n\n\t\t\t\t\tdist = Math.sqrt((x-p.position.x)*(x-p.position.x) + (y-p.position.y)*(y-p.position.y));\n\t\t\t\t\tif (dist <= _this.pointSize/2+2) {\n\t\t\t\t\t\tthis.style.cursor = 'pointer';\n\t\t\t\t\t\tdragReady = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdist = Math.sqrt((x-p.cp1.x)*(x-p.cp1.x) + (y-p.cp1.y)*(y-p.cp1.y));\n\t\t\t\t\t\tif (dist <= _this.pointSize/2+2) {\n\t\t\t\t\t\t\tthis.style.cursor = 'pointer';\n\t\t\t\t\t\t\tdragReady = i;\n\t\t\t\t\t\t\tdragCP = 'cp1';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdist = Math.sqrt((x-p.cp2.x)*(x-p.cp2.x) + (y-p.cp2.y)*(y-p.cp2.y));\n\t\t\t\t\t\t\tif (dist <= _this.pointSize/2+2) {\n\t\t\t\t\t\t\t\tthis.style.cursor = 'pointer';\n\t\t\t\t\t\t\t\tdragReady = i;\n\t\t\t\t\t\t\t\tdragCP = 'cp2';\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.style.cursor = 'initial';\n\t\t\t\t\t\t\t\tdragReady = false;\n\t\t\t\t\t\t\t\tdragCP = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif (keys[18]) {\n\t\t\t\tlet deltaW = _this.cw / 20;\n\t\t\t\tlet deltaH = _this.ch/ 10;\n\n\t\t\t\tlet posX = Math.floor((x+deltaW/2) / deltaW);\n\t\t\t\tlet posY = Math.floor((y+deltaH/2) / deltaH);\n\n\t\t\t\tx = deltaW * posX;\n\t\t\t\ty = deltaH * posY;\n\t\t\t}\n\n\t\t\tif (draging) {\n\t\t\t\tif (dragCP == 'cp1') {\n\t\t\t\t\t_this.points[dragReady].cp1.x = x;\n\t\t\t\t\t_this.points[dragReady].cp1.y = y;\n\n\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t_this.points[dragReady].cp2.x = x - _this.points[dragReady].v1x*2;\n\t\t\t\t\t\t_this.points[dragReady].cp2.y = y - _this.points[dragReady].v1y*2;\n\t\t\t\t\t}\n\t\t\t\t} else if (dragCP == 'cp2') {\n\n\t\t\t\t\t_this.points[dragReady].cp2.x = x;\n\t\t\t\t\t_this.points[dragReady].cp2.y = y;\n\n\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t_this.points[dragReady].cp1.x = x - _this.points[dragReady].v2x*2;\n\t\t\t\t\t\t_this.points[dragReady].cp1.y = y - _this.points[dragReady].v2y*2;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t_this.points[dragReady].position.x = x;\n\t\t\t\t\t_this.points[dragReady].position.y = y;\n\n\t\t\t\t\tif (dragReady === 0) {\n\t\t\t\t\t\t_this.points[dragReady].position.x = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (dragReady == _this.points.length-1) {\n\t\t\t\t\t\t_this.points[dragReady].position.x = _this.cw;\n\t\t\t\t\t}\n\n\t\t\t\t\t_this.points[dragReady].cp1.x = _this.points[dragReady].position.x + _this.points[dragReady].v1x;\n\t\t\t\t\t_this.points[dragReady].cp1.y = _this.points[dragReady].position.y + _this.points[dragReady].v1y;\n\t\t\t\t\t_this.points[dragReady].cp2.x = _this.points[dragReady].position.x + _this.points[dragReady].v2x;\n\t\t\t\t\t_this.points[dragReady].cp2.y = _this.points[dragReady].position.y + _this.points[dragReady].v2y;\n\n\t\t\t\t\tlet temp;\n\n\t\t\t\t\tif (_this.points[dragReady-1] && _this.points[dragReady+1]) {\n\t\t\t\t\t\tif (_this.points[dragReady].position.x > _this.points[dragReady+1].position.x) {\n\t\t\t\t\t\t\ttemp = _this.points[dragReady];\n\t\t\t\t\t\t\t_this.points[dragReady] = _this.points[dragReady+1];\n\t\t\t\t\t\t\t_this.points[dragReady+1] = temp;\n\t\t\t\t\t\t\tdragReady++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (_this.points[dragReady-1].position.x > _this.points[dragReady].position.x) {\n\t\t\t\t\t\t\ttemp = _this.points[dragReady];\n\t\t\t\t\t\t\t_this.points[dragReady] = _this.points[dragReady-1];\n\t\t\t\t\t\t\t_this.points[dragReady-1] = temp;\n\t\t\t\t\t\t\tdragReady--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\t_this.events.ondrag ? _this.events.ondrag() : null;\n\t\t\t\t_this.draw();\n\t\t\t}\n\n\t\t\t_this.events.onmousemove ? _this.events.onmousemove() : null;\n\n\t\t});\n\t\tthis.ctx.canvas.addEventListener('mousedown', function(evt){\n\t\t\tevt.preventDefault();\n\n\t\t\tif (dragReady || dragReady === 0) {\n\t\t\t\tdraging = true;\n\t\t\t} else {\n\t\t\t\tif (dist > 5) {\n\t\t\t\t\tdragReady = _this.addPoint(x, y);\n\t\t\t\t\tdraging = true;\n\t\t\t\t\tthis.style.cursor = 'pointer';\n\t\t\t\t\t_this.draw();\n\t\t\t\t\t_this.events.onnewpoint ? _this.events.onnewpoint() : null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\t\tthis.ctx.canvas.addEventListener('mouseup', function(evt){\n\n\t\t\tdraging = false;\n\t\t\tif (dist > 5) {\n\t\t\t\tdragReady = dragCP = false;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < _this.points.length; i++) {\n\t\t\t\tlet p = _this.points[i];\n\t\t\t\tdist = Math.sqrt((x-p.position.x)*(x-p.position.x) + (y-p.position.y)*(y-p.position.y));\n\t\t\t\tif (dist <= _this.pointSize/2+2) {\n\t\t\t\t\tthis.style.cursor = 'pointer';\n\t\t\t\t\tdragReady = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_this.createLUT();\n\n\t\t});\n\t\tthis.ctx.canvas.addEventListener('mouseleave', function(evt){\n\n\t\t\tif (draging) {\n\t\t\t\tif (evt.offsetX < 0 || evt.offsetX > _this.cw) {\n\t\t\t\t\tif (evt.offsetX < 0) {\n\t\t\t\t\t\tif (dragCP == 'cp1') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = 0;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = 0 - _this.points[dragReady].v1x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = y - _this.points[dragReady].v1y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (dragCP == 'cp2') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = 0;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = 0 - _this.points[dragReady].v2x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = y - _this.points[dragReady].v2y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.points[dragReady].position.x = 0;\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = 0 + _this.points[dragReady].v1x;\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = 0 + _this.points[dragReady].v2x;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (dragCP == 'cp1') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = _this.cw;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = _this.cw - _this.points[dragReady].v1x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = y - _this.points[dragReady].v1y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (dragCP == 'cp2') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = _this.cw;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = _this.cw - _this.points[dragReady].v2x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = y - _this.points[dragReady].v2y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.points[dragReady].position.x = _this.cw;\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = _this.cw + _this.points[dragReady].v1x;\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = _this.cw + _this.points[dragReady].v2x;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (evt.offsetY < 0 || evt.offsetY > _this.ch) {\n\t\t\t\t\tif (evt.offsetY < 0) {\n\t\t\t\t\t\tif (dragCP == 'cp1') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = 0;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = x - _this.points[dragReady].v1x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = 0 - _this.points[dragReady].v1y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (dragCP == 'cp2') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = 0;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = x - _this.points[dragReady].v2x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = 0 - _this.points[dragReady].v2y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.points[dragReady].position.y = 0;\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = 0 + _this.points[dragReady].v1y;\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = 0 + _this.points[dragReady].v2y;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (dragCP == 'cp1') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = _this.ch;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = x - _this.points[dragReady].v1x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = _this.ch - _this.points[dragReady].v1y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (dragCP == 'cp2') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = _this.ch;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = x - _this.points[dragReady].v2x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = _this.ch - _this.points[dragReady].v2y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.points[dragReady].position.y = _this.ch;\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = _this.ch + _this.points[dragReady].v1y;\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = _this.ch + _this.points[dragReady].v2y;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_this.draw();\n\t\t\t_this.createLUT();\n\n\t\t\tdraging = dragReady = dragCP = false;\n\n\t\t});\n\t\tthis.ctx.canvas.addEventListener('click', function(evt){\n\t\t\tif (keys[16] && !dragCP) {\n\t\t\t\t_this.points[dragReady].collapse();\n\t\t\t\t_this.draw();\n\t\t\t\t_this.createLUT();\n\t\t\t\t_this.events.ontogglecontrol ? _this.events.ontogglecontrol() : null;\n\t\t\t}\n\t\t});\n\t\tthis.ctx.canvas.addEventListener('dblclick', function(evt){\n\t\t\t_this.points.splice(dragReady, 1);\n\t\t\tdraging = dragReady = dragCP = false;\n\t\t\tdist = 1000;\n\t\t\tthis.style.cursor = 'initial';\n\t\t\t_this.draw();\n\t\t\t_this.createLUT();\n\t\t\t_this.events.onremovepoint ? _this.events.onremovepoint() : null;\n\t\t});\n\n\t}\n\n\taddPoint(x, y) {\n\t\t\n\t\tthis.points.push(new BezierPoint(x, y, this.ctx, this.pointColor, this.pointSize, this.cpDist));\n\n\t\tthis.points.sort(function(a, b){\n\t\t\treturn a.position.x - b.position.x;\n\t\t});\n\n\t\tfor (let i = 0; i < this.points.length; i++) {\n\t\t\tlet p = this.points[i];\n\t\t\tif (x == p.position.x && y == p.position.y) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tsetPointStyle(color, size) {\n\t\t\n\t\tfor (let i = 0; i < this.points.length; i++) {\n\t\t\tthis.points[i].setPointStyle(color, size);\n\t\t\tthis.pointColor = color;\n\t\t\tthis.pointSize = size;\n\t\t}\n\t\tthis.draw();\n\n\t}\n\n\tsetLineStyle(color, width) {\n\t\t\n\t\tthis.lineColor = color;\n\t\tthis.lineWidth = width;\n\t\tthis.draw();\n\n\t}\n\n\tdraw() {\n\t\t\n\t\tthis.ctx.clearRect(0, 0, this.cw, this.ch);\n\t\t\n\t\tthis.ctx.strokeStyle = '#444';\n\t\tthis.ctx.lineWidth = 1;\n\n\t\tfor (let i = 1; i < 10; i++) {\n\t\t\tthis.ctx.beginPath();\n\t\t\tthis.ctx.moveTo((this.cw/10)*i-0.5, 0);\n\t\t\tthis.ctx.lineTo((this.cw/10)*i-0.5, this.ch);\n\t\t\tthis.ctx.stroke();\n\t\t}\n\t\tfor (let i = 1; i < 5; i++) {\n\t\t\tthis.ctx.beginPath();\n\t\t\tthis.ctx.moveTo(0, (this.ch/5)*i-0.5);\n\t\t\tthis.ctx.lineTo(this.cw, (this.ch/5)*i-0.5);\n\t\t\tthis.ctx.stroke();\n\t\t}\n\n\t\tthis.ctx.lineWidth = 0.5;\n\t\tfor (let i = 1; i < 20; i++) {\n\t\t\tthis.ctx.beginPath();\n\t\t\tthis.ctx.moveTo((this.cw/20)*i-0.5, 0);\n\t\t\tthis.ctx.lineTo((this.cw/20)*i-0.5, this.ch);\n\t\t\tthis.ctx.stroke();\n\t\t}\n\t\tfor (let i = 1; i < 10; i++) {\n\t\t\tthis.ctx.beginPath();\n\t\t\tthis.ctx.moveTo(0, (this.ch/10)*i-0.5);\n\t\t\tthis.ctx.lineTo(this.cw, (this.ch/10)*i-0.5);\n\t\t\tthis.ctx.stroke();\n\t\t}\n\n\t\tthis.ctx.strokeStyle = this.lineColor;\n\t\tthis.ctx.lineWidth = this.lineWidth;\n\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.moveTo(this.points[0].position.x, this.points[0].position.y);\n\t\tfor (let i = 1; i < this.points.length; i++) {\n\t\t\tlet p = this.points[i];\n\t\t\tlet pP = this.points[i-1];\n\t\t\tthis.ctx.bezierCurveTo(pP.cp2.x, pP.cp2.y, p.cp1.x, p.cp1.y, p.position.x, p.position.y);\n\t\t}\n\t\tthis.ctx.stroke();\n\n\t\tfor (let i = 0; i < this.points.length; i++) {\n\t\t\tthis.points[i].draw();\n\t\t}\n\n\t}\n}\n\n\nconst keys = [];\nwindow.addEventListener('keydown', function(e){\n\tkeys[e.keyCode] = true;\n});\nwindow.addEventListener('keyup', function(e){\n\tdelete keys[e.keyCode];\n});","export default class Point {\n\n\tconstructor(x, y, color, size, context) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.r = size/2;\n\t\tthis.color = color;\n\t\tthis.ctx = context;\n\n\t}\n\n\tdraw() {\n\n\t\tthis.ctx.fillStyle = this.color;\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.arc(this.x, this.y, this.r, 0, Math.PI*2, false);\n\t\tthis.ctx.closePath();\n\t\tthis.ctx.fill();\n\n\t}\n}\n","import \"./index.scss\";\nimport EaseManager from \"./EaseManager\";\nimport addEaseGUI from \"./gui/addEaseGUI\";\nimport Middleware, { middleware } from \"./middleware/Middleware\";\nimport Ease, { Handle, Anchor, Point } from \"./gui/model/ease/Ease\";\nimport EasePreset from \"./gui/model/preset/EasePreset\";\nimport * as presets from \"./gui/model/preset/presets\";\n\nconst easeManager = new EaseManager();\n\nfunction addEase(object, property) {\n    const ease = object[property];\n        \n    if (easeManager.hasCompatibleMiddleware(ease)) {\n        return addEaseGUI.call(this, object, property, easeManager.getCompatibleMiddleware(ease));\n    }\n    else {\n        console.warn(\"No compatible middleware found.\");\n    }\n}\n\nexport function extend(dat) {\n    dat.gui.ease = easeManager;\n\n    const add = dat.GUI.prototype.add;\n    function addOverride(object, property) {\n        const value = object[property] || object;\n\n        if (easeManager.hasCompatibleMiddleware(value)) {\n            return addEase.call(this, ...arguments);\n        }\n        else {\n            return add.call(this, ...arguments);\n        }\n    }\n\n    dat.GUI.prototype.add = addOverride;\n    dat.gui.GUI.prototype.add = addOverride;\n\n    dat.GUI.prototype.addEase = addEase;\n    dat.gui.GUI.prototype.addEase = addEase;\n\n    return easeManager;\n}\n\nexport {\n    Middleware,\n    EasePreset,\n    Ease,\n    Handle,\n    Anchor,\n    Point,\n    middleware,\n    presets,\n    easeManager as manager\n}\n\nexport default {\n    extend\n};","import PresetCastEntry from \"./cast/PresetCastEntry\";\nimport TransformCastEntry from \"./cast/TransformCastEntry\";\n\nclass Middleware {\n    constructor(name, castEntries = []) {\n        this._name = name;\n        this._castEntries = castEntries;\n    }\n\n    get castEntries() {\n        return this._castEntries;\n    }\n\n    get presets() {\n        return this._castEntries.filter(castEntry => castEntry instanceof PresetCastEntry).map(entry => entry.preset);\n    }\n\n    preset(thirdPartyEase, nativeEasePreset) {\n        this.castEntries.push(PresetCastEntry.of(thirdPartyEase, nativeEasePreset));\n        return this;\n    }\n\n    pick(predicateFunction) {\n        const middleware = this;\n\n        return {\n            transform(thirdPartyToNativeCast, nativeToThirdPartyCast) {\n                middleware.castEntries.push(TransformCastEntry.of(predicateFunction, thirdPartyToNativeCast, nativeToThirdPartyCast));\n                return middleware;\n            }\n        }\n    }\n\n    transform(thirdPartyToNativeCast, nativeToThirdPartyCast) {\n        this.castEntries.push(TransformCastEntry.of(thirdPartyToNativeCast, nativeToThirdPartyCast));\n        return this;\n    }\n\n    isEditingSupported() {\n        return this.castEntries.some(castEntry => castEntry instanceof TransformCastEntry);\n    }\n\n    isFormatSupported(thirdPartyEase) {\n        return this.castEntries.some(castEntry => castEntry.supportsCastInward(thirdPartyEase));\n    }\n\n    import(thirdPartyEase) {\n        const castEntry = this._castEntries.find(castEntry => castEntry.supportsCastInward(thirdPartyEase));\n        \n        if (castEntry) {\n            return castEntry.castInward(thirdPartyEase);\n        }\n        else {\n            console.warn(`Unsupported inward cast requested for ease ${thirdPartyEase.toString()}`);\n        }\n    }\n\n    export(nativeEase) {\n        const castEntry = this._castEntries.find(castEntry => castEntry.supportsCastOutward(nativeEase));\n        \n        if (castEntry) {\n            return castEntry.castOutward(nativeEase);\n        }\n        else {\n            console.warn(`Unsupported outward cast requested for ease ${nativeEase.toString()}`);\n        }\n    }\n\n    toString() {\n        return `[object DatGuiEase${this._name}Middleware]`;\n    }\n\n    static checkSignature(instanceLike) {\n        return /^\\[object DatGuiEase(?:.*)Middleware\\]$/.test(instanceLike.toString());\n    }\n}\n\nexport function middleware(name) {\n    return new Middleware(name);\n}\n\nexport default Middleware;","export default class CastEntry {\n    supportsCastInward(thirdPartyEase) {\n        try {\n            return !!this.castInward(thirdPartyEase);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n\n    supportsCastOutward(nativeEasePreset) {\n        try {\n            return !!this.castOutward(nativeEasePreset);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n\n    castInward(thirdPartyEase) {\n        throw new Error(\"Method override missing\");\n    }\n\n    castOutward(nativeEasePreset) {\n        throw new Error(\"Method override missing\");\n    }\n}","import EasePreset from \"../../gui/model/preset/EasePreset\";\nimport EasePresetProvider from \"../../gui/model/preset/EasePresetProvider\";\nimport CastEntry from \"./CastEntry\";\n\nclass PresetCastEntry extends CastEntry {\n    constructor(thirdPartyEase, nativeEasePresetOrPresetProvider) {\n        super();\n        \n        this.thirdPartyEase = thirdPartyEase;\n        this.nativeEasePreset = this._parseNativePreset(nativeEasePresetOrPresetProvider);\n    }\n\n    get preset() {\n        return this.nativeEasePreset;\n    }\n\n    supportsCastInward(thirdPartyEase) {\n        return this.thirdPartyEase === thirdPartyEase && !!this.nativeEasePreset;\n    }\n\n    supportsCastOutward(nativeEasePreset) {\n        return this.nativeEasePreset.equals(nativeEasePreset) && !!this.thirdPartyEase;\n    }\n\n    castInward(thirdPartyEase) {\n        return this.nativeEasePreset;\n    }\n\n    castOutward(nativeEasePreset) {\n        return this.thirdPartyEase;\n    }\n\n    static of(thirdPartyEase, nativeEasePresetOrPresetProvider) {\n        return new PresetCastEntry(thirdPartyEase, nativeEasePresetOrPresetProvider);\n    }\n\n    _parseNativePreset(rawNativePreset) {\n        if (rawNativePreset instanceof EasePresetProvider) {\n            return rawNativePreset.next();\n        }\n        else if (rawNativePreset instanceof EasePreset) {\n            return rawNativePreset.clone();\n        }\n        else {\n            console.warn(`Native preset or preset provider expected. Instead got `, rawNativePreset);\n        }\n    }\n}\n\nexport default PresetCastEntry;","import EasePreset, { Curve } from \"../../gui/model/preset/EasePreset\";\nimport CastEntry from \"./CastEntry\";\n\nclass TransformCastEntry extends CastEntry {\n    constructor(selectorPredicate, thirdPartyToNativeCast, nativeToThirdPartyCast) {\n        super();\n\n        this._selectorPredicate = selectorPredicate;\n        this._transformThirdPartyToNativeEase = thirdPartyToNativeCast;\n        this._transformNativeToThirdPartyEase = nativeToThirdPartyCast;\n    }\n\n    supportsCastInward(thirdPartyEase) {\n        return this._selectorPredicate(thirdPartyEase);\n    }\n\n    castInward(thirdPartyEase) {\n        return new EasePreset(this._transformThirdPartyToNativeEase(thirdPartyEase), Curve.CUSTOM);\n    }\n\n    castOutward(nativeEasePreset) {\n        return this._transformNativeToThirdPartyEase(nativeEasePreset.ease);\n    }\n\n    static of(selectorPredicate, thirdPartyToNativeCast, nativeToThirdPartyCast) {\n        return new TransformCastEntry(...arguments);\n    }\n}\n\nexport default TransformCastEntry;","// Module\nvar code = \"<div class=\\\"ease-gui mode-select\\\">\\n    <div class=\\\"header\\\">\\n        <div class=\\\"property-name\\\"></div>\\n        <div class=\\\"c\\\">\\n            <div class=\\\"ease-selector\\\">\\n                <div class=\\\"corner-curve-container\\\">\\n                    <div class=\\\"ratio-box\\\">\\n                        <div class=\\\"ratio-box-inner\\\">\\n                            <canvas class=\\\"corner-curve\\\"></canvas>\\n                        </div>\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"template-selector\\\">\\n                    <div class=\\\"curve-selector-container\\\">\\n                        <select class=\\\"curve-selector\\\" dir=\\\"rtl\\\"></select>\\n                    </div>\\n                    <div class=\\\"orientation-selector-container\\\">\\n                        <select class=\\\"orientation-selector\\\"></select>\\n                    </div>\\n                    <div class=\\\"edit-button-container\\\">\\n                        <svg class=\\\"edit-button\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"18px\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"18px\\\" fill=\\\"#606060\\\"><path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\"/><path d=\\\"M19.5 9.5c-1.03 0-1.9.62-2.29 1.5h-2.92c-.39-.88-1.26-1.5-2.29-1.5s-1.9.62-2.29 1.5H6.79c-.39-.88-1.26-1.5-2.29-1.5C3.12 9.5 2 10.62 2 12s1.12 2.5 2.5 2.5c1.03 0 1.9-.62 2.29-1.5h2.92c.39.88 1.26 1.5 2.29 1.5s1.9-.62 2.29-1.5h2.92c.39.88 1.26 1.5 2.29 1.5 1.38 0 2.5-1.12 2.5-2.5s-1.12-2.5-2.5-2.5z\\\"/></svg>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"editor-container\\\">\\n        <div class=\\\"ratio-box\\\">\\n            <div class=\\\"ratio-box-inner\\\">\\n                <canvas class=\\\"editor\\\"></canvas>\\n            </div>\\n        </div>\\n        <div class=\\\"path-selector-container\\\">\\n            <input type=\\\"text\\\" class=\\\"path-selector\\\" onclick=\\\"this.select();\\\" value=\\\"M0,0 C20, 23,123\\\" />\\n            <div class=\\\"copy-button-container\\\">\\n                <svg class=\\\"copy-button\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"18px\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"18px\\\" fill=\\\"#606060\\\"><path d=\\\"M0 0h24v24H0V0z\\\" fill=\\\"none\\\"/><path d=\\\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\\\"/></svg>\\n            </div>\\n        </div>\\n        <div class=\\\"editor-buttons\\\">\\n            <div class=\\\"decline-button\\\">\\n                <div class=\\\"icon-container\\\">\\n                    <svg class=\\\"icon\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"24px\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"24px\\\" fill=\\\"#c93333\\\"><path d=\\\"M0 0h24v24H0V0z\\\" fill=\\\"none\\\"/><path d=\\\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\\\"/></svg>\\n                </div>\\n                <div class=\\\"label-container\\\">\\n                    <div class=\\\"label\\\">DISCARD</div>\\n                </div>\\n            </div>\\n            <div class=\\\"accept-button\\\">\\n                <div class=\\\"label-container\\\">\\n                    <div class=\\\"label\\\">ACCEPT</div>\\n                </div>\\n                <div class=\\\"icon-container\\\">\\n                    <svg class=\\\"icon\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"24px\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"24px\\\" fill=\\\"#84be18\\\"><path d=\\\"M0 0h24v24H0V0z\\\" fill=\\\"none\\\"/><path d=\\\"M9 16.2l-3.5-3.5c-.39-.39-1.01-.39-1.4 0-.39.39-.39 1.01 0 1.4l4.19 4.19c.39.39 1.02.39 1.41 0L20.3 7.7c.39-.39.39-1.01 0-1.4-.39-.39-1.01-.39-1.4 0L9 16.2z\\\"/></svg>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div>\\n        \\n    </div>\\n</div>\";\n// Exports\nexport default code;","// extracted by mini-css-extract-plugin\nexport {};","module.exports = __WEBPACK_EXTERNAL_MODULE_dat_gui__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.js\");\n"],"sourceRoot":""}