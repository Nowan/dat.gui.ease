{"version":3,"sources":["webpack://datGuiEase/webpack/universalModuleDefinition","webpack://datGuiEase/./src/EaseManager.js","webpack://datGuiEase/./src/gui/addEaseGUI.js","webpack://datGuiEase/./src/gui/controller/EaseController.js","webpack://datGuiEase/./src/gui/controller/interpret.js","webpack://datGuiEase/./src/gui/ease/Ease.js","webpack://datGuiEase/./src/gui/ease/composites/Anchor.js","webpack://datGuiEase/./src/gui/ease/composites/Handle.js","webpack://datGuiEase/./src/gui/ease/composites/Point.js","webpack://datGuiEase/./src/gui/ease/preset/EasePreset.js","webpack://datGuiEase/./src/gui/ease/preset/enum/Curve.js","webpack://datGuiEase/./src/gui/ease/preset/enum/Orientation.js","webpack://datGuiEase/./src/gui/editor/EaseEditor.js","webpack://datGuiEase/./src/gui/editor/events/EditorCurveChangeEvent.js","webpack://datGuiEase/./src/gui/editor/events/index.js","webpack://datGuiEase/./src/gui/editor/lib/curvesjs/BezierPoint.js","webpack://datGuiEase/./src/gui/editor/lib/curvesjs/Curve.js","webpack://datGuiEase/./src/gui/editor/lib/curvesjs/Point.js","webpack://datGuiEase/./src/gui/editor/presets.js","webpack://datGuiEase/./src/middleware/CastEntry.js","webpack://datGuiEase/./src/middleware/CastMap.js","webpack://datGuiEase/./src/middleware/Middleware.js","webpack://datGuiEase/./src/gui/dom/gui.html","webpack://datGuiEase/./src/index.scss","webpack://datGuiEase/external {\"commonjs\":\"dat.gui\",\"commonjs2\":\"dat.gui\",\"amd\":\"dat.gui\",\"root\":\"dat\"}","webpack://datGuiEase/webpack/bootstrap","webpack://datGuiEase/webpack/runtime/compat get default export","webpack://datGuiEase/webpack/runtime/define property getters","webpack://datGuiEase/webpack/runtime/hasOwnProperty shorthand","webpack://datGuiEase/webpack/runtime/make namespace object","webpack://datGuiEase/./src/index.js"],"names":["EaseManager","_middlewares","ease","some","middleware","isFormatSupported","find","toString","Middleware","push","console","warn","dom","dat","addEaseGUI","object","property","controller","EaseController","_recallSavedValue","li","_addRow","addClass","appendChild","domElement","_augmentController","__controllers","DEFAULT_DEFAULT_PRESET_NAME","gui","root","getRoot","matchedIndex","__rememberedObjects","indexOf","controllerMap","__rememberedObjectIndecesToControllers","undefined","load","remembered","presetMap","preset","value","initialValue","setValue","document","createElement","__ul","onResize","__li","__gui","name","querySelector","innerHTML","listen","remove","setValueOverride","call","arguments","__preset_select","isModified","_markPresetModified","modified","opt","selectedIndex","rawEase","_orientation","orientation","_ease","_preEditEase","_editor","_middleware","_initDOM","_updateSelectors","_updateCornerCurve","easeString","interpret","_applyValue","__onChange","__onFinishChange","_updateElements","updateDisplay","_renderTemplate","guiTemplate","_initCurveSelector","_initOrientationSelector","_initCustomPathSelector","_initButtons","curveSelectElement","curves","presets","includes","curve","options","add","Option","displayName","custom","Curve","setAttribute","onchange","prevEase","orientations","_getCurveOrientations","_getTemplateByCurveAndOrientation","orientationSelectElement","customPathSelectElement","oninput","event","svgPath","Ease","e","_initEditButton","_initCopyButton","_initAcceptButton","_initDeclineButton","buttonElement","isEditingSupported","addEventListener","_openEditor","style","display","pathInspectorElement","select","execCommand","info","_closeEditor","_toggleEditMode","canvas","editor","EaseEditor","EditorCurveChangeEvent","canvasClone","cloneNode","parentNode","replaceChild","_updatePathInspector","orientationToSelect","length","forEach","removeAttribute","_updateOrientations","cornerCanvas","ctx","getContext","width","height","strokeStyle","fillStyle","lineWidth","clearRect","beginPath","moveTo","firstAnchor","x","y","i","anchors","startAnchor","endAnchor","bezierCurveTo","handle","lineTo","stroke","fill","flag","classList","template","DOMParser","parseFromString","body","firstChild","_getCurveTemplates","map","filter","presetsMap","_createPresetsMap","Object","values","_anchors","anchor","Anchor","toSVGPath","match","splice","Number","parseFloat","startX","startY","cCoords","replace","split","a","lastAnchor","slice","path","Handle","Point","EasePreset","CURVE","LINEAR","ORIENTATION","NONE","points","_parseAnchors","_alias","clone","anchorClone","Orientation","freeze","SINE","QUAD","CUBIC","QUART","QUINT","EXPO","CIRC","BACK","ELASTIC","BOUNCE","CUSTOM","IN","OUT","IN_OUT","_canvas","_ctx","_prepareContext","_curve","_createCurveJSInstance","_propagateEvents","cw","ch","startPoint","addAnchor","_fromCanvasX","position","_fromCanvasY","cp2","endPoint","cp1","pointColor","pointSize","cpDist","firstPoint","BezierPoint","_toCanvasX","_toCanvasY","precedingCurveEndAnchor","followingCurveStartAnchor","point","lastPoint","draw","clientWidth","clientHeight","CurveJS","setPointStyle","setLineStyle","on","dispatchEvent","_round","coord","numberOfFloatDigits","power","Math","pow","round","KEY","CustomEvent","context","color","size","r","collapsed","v1x","v1y","v2x","v2y","interval","lineColor","mouseX","mouseY","events","canvasEvents","createLUT","frame","tolerance","iMin","iMax","key","xTarget","xCurrent","lookupX","abs","lookupY","p1","p2","pct","t","func","bind","dist","dragReady","dragCP","draging","_this","evt","bbox","getBoundingClientRect","clientX","left","clientY","top","p","sqrt","cursor","keys","deltaW","deltaH","posX","floor","posY","move","temp","ondrag","onmousemove","preventDefault","addPoint","onnewpoint","offsetX","offsetY","collapse","ontogglecontrol","onremovepoint","sort","b","pP","window","keyCode","arc","PI","closePath","Linear","SineIn","SineOut","SineInOut","QuadIn","QuadOut","QuadInOut","CubicIn","CubicOut","CubicInOut","QuartIn","QuartOut","QuartInOut","QuintIn","QuintOut","QuintInOut","ExpoIn","ExpoOut","ExpoInOut","CircIn","CircOut","CircInOut","BackIn","BackOut","BackInOut","Custom","EaseEntry","externalTemplate","internalTemplate","external","internal","CastMap","entries","_entries","_entriesHashMap","_createHashMap","_createHash","externalEase","entry","internalEase","hashFunction","hashMap","_presets","_castMap","hasExternal","externalToInternal","internalToExternal","CLASS_NAME","easeManager","addEase","supports","getCompatibleMiddleware","extend","GUI","prototype","addOverride"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;;;;;;;;;;;;;;;;ACVA;;IAEqBA,W;AACjB,yBAAc;AAAA;;AACV,SAAKC,YAAL,GAAoB,EAApB;AACH;AAED;AACJ;AACA;AACA;AACA;;;;;WACI,kBAASC,IAAT,EAAe;AACX,aAAO,KAAKD,YAAL,CAAkBE,IAAlB,CAAuB,UAAAC,UAAU;AAAA,eAAIA,UAAU,CAACC,iBAAX,CAA6BH,IAA7B,CAAJ;AAAA,OAAjC,CAAP;AACH;AAED;AACJ;AACA;AACA;AACA;;;;WACI,iCAAwBA,IAAxB,EAA8B;AAC1B,aAAO,KAAKD,YAAL,CAAkBK,IAAlB,CAAuB,UAAAF,UAAU;AAAA,eAAIA,UAAU,CAACC,iBAAX,CAA6BH,IAA7B,CAAJ;AAAA,OAAjC,KAA4E,IAAnF;AACH;AAEA;AACL;AACA;AACA;AACA;;;;WACI,aAAIE,UAAJ,EAAgB;AACZ;AACA,UAAIA,UAAU,CAACG,QAAX,yBAAqCC,sEAArC,MAAJ,EAAmE;AAC/D,aAAKP,YAAL,CAAkBQ,IAAlB,CAAuBL,UAAvB;AACH,OAFD,MAGK;AACDM,eAAO,CAACC,IAAR,CAAa,8BAAb;AACH;AACJ;;;;;;;;;;;;;;;;;;;;;;;ACtCL;AACA;AACA,IAAMC,GAAG,GAAGC,4CAAZ;AAEe,SAASC,UAAT,CAAoBC,MAApB,EAA4BC,QAA5B,EAAsCZ,UAAtC,EAAkD;AAC7D,MAAMa,UAAU,GAAG,IAAIC,+DAAJ,CAAmBH,MAAnB,EAA2BC,QAA3B,EAAqCZ,UAArC,CAAnB,CAD6D,CAG7D;AACA;;AACAe,mBAAiB,CAAC,IAAD,EAAOF,UAAP,CAAjB;;AAEA,MAAMG,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACAT,KAAG,CAACU,QAAJ,CAAaF,EAAb,EAAiB,IAAjB;AACAR,KAAG,CAACU,QAAJ,CAAaF,EAAb,EAAiB,MAAjB;AACAA,IAAE,CAACG,WAAH,CAAeN,UAAU,CAACO,UAA1B;;AAEAC,oBAAkB,CAAC,IAAD,EAAOL,EAAP,EAAWH,UAAX,CAAlB;;AAEA,OAAKS,aAAL,CAAmBjB,IAAnB,CAAwBQ,UAAxB;;AAEA,SAAOA,UAAP;AACH;AAGD,IAAMU,2BAA2B,GAAG,SAApC,C,CACA;AACA;;AACA,SAASR,iBAAT,CAA2BS,GAA3B,EAAgCX,UAAhC,EAA4C;AACxC,MAAMY,IAAI,GAAGD,GAAG,CAACE,OAAJ,EAAb;;AACA,MAAMC,YAAY,GAAGF,IAAI,CAACG,mBAAL,CAAyBC,OAAzB,CAAiChB,UAAU,CAACF,MAA5C,CAArB;;AAEA,MAAIgB,YAAY,KAAK,CAAC,CAAtB,EAAyB;AACrB,QAAIG,aAAa,GAAGL,IAAI,CAACM,sCAAL,CAA4CJ,YAA5C,CAApB;;AAEA,QAAIG,aAAa,KAAKE,SAAtB,EAAiC;AAC7BF,mBAAa,GAAG,EAAhB;AACAL,UAAI,CAACM,sCAAL,CAA4CJ,YAA5C,IAA4DG,aAA5D;AACH;;AAEDA,iBAAa,CAACjB,UAAU,CAACD,QAAZ,CAAb,GAAqCC,UAArC;;AAEA,QAAIY,IAAI,CAACQ,IAAL,IAAaR,IAAI,CAACQ,IAAL,CAAUC,UAA3B,EAAuC;AACnC,UAAMC,SAAS,GAAGV,IAAI,CAACQ,IAAL,CAAUC,UAA5B;AAEA,UAAIE,MAAJ;;AAEA,UAAID,SAAS,CAACX,GAAG,CAACY,MAAL,CAAb,EAA2B;AACvBA,cAAM,GAAGD,SAAS,CAACX,GAAG,CAACY,MAAL,CAAlB;AACH,OAFD,MAEO,IAAID,SAAS,CAACZ,2BAAD,CAAb,EAA4C;AAC/Ca,cAAM,GAAGD,SAAS,CAACZ,2BAAD,CAAlB;AACH,OAFM,MAEA;AACH;AACH;;AAED,UAAIa,MAAM,CAACT,YAAD,CAAN,IAAwBS,MAAM,CAACT,YAAD,CAAN,CAAqBd,UAAU,CAACD,QAAhC,MAA8CoB,SAA1E,EAAqF;AACjF,YAAMK,KAAK,GAAGD,MAAM,CAACT,YAAD,CAAN,CAAqBd,UAAU,CAACD,QAAhC,CAAd;AAEAC,kBAAU,CAACyB,YAAX,GAA0BD,KAA1B;AACAxB,kBAAU,CAAC0B,QAAX,CAAoBF,KAApB;AACH;AACJ;AACJ;AACJ,C,CAED;AACA;;;AACA,SAASpB,OAAT,CAAiBO,GAAjB,EAAsB;AAClB,MAAMR,EAAE,GAAGwB,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAX;;AACAjB,KAAG,CAACkB,IAAJ,CAASvB,WAAT,CAAqBH,EAArB;;AACAQ,KAAG,CAACmB,QAAJ;AACA,SAAO3B,EAAP;AACH,C,CAED;AACA;;;AACA,SAASK,kBAAT,CAA4BG,GAA5B,EAAiCR,EAAjC,EAAqCH,UAArC,EAAiD;AAC7CA,YAAU,CAAC+B,IAAX,GAAkB5B,EAAlB;AACAH,YAAU,CAACgC,KAAX,GAAmB,IAAnB;;AAEAhC,YAAU,CAACiC,IAAX,GAAkB,UAAUA,IAAV,EAAgB;AAC9B,SAAKF,IAAL,CAAUG,aAAV,CAAwB,gBAAxB,EAA0CC,SAA1C,GAAsDF,IAAtD;AACA,WAAO,IAAP;AACH,GAHD;;AAKAjC,YAAU,CAACoC,MAAX,GAAoB,YAAY;AAC5B,SAAKJ,KAAL,CAAWI,MAAX,CAAkB,IAAlB;;AACA,WAAO,IAAP;AACH,GAHD;;AAKApC,YAAU,CAACqC,MAAX,GAAoB,YAAY;AAC5B,SAAKL,KAAL,CAAWK,MAAX,CAAkB,IAAlB;;AACA,WAAO,IAAP;AACH,GAHD;;AAKA,MAAMX,QAAQ,GAAG1B,UAAU,CAAC0B,QAA5B;;AACA1B,YAAU,CAAC0B,QAAX,GAAsB,SAASY,gBAAT,CAA0Bd,KAA1B,EAAiC;AACnDE,YAAQ,CAACa,IAAT,OAAAb,QAAQ,GAAM1B,UAAN,oCAAqBwC,SAArB,GAAR;;AACA,QAAI7B,GAAG,CAACE,OAAJ,GAAc4B,eAAd,IAAiCzC,UAAU,CAAC0C,UAAX,EAArC,EAA8D;AAC1DC,yBAAmB,CAAChC,GAAG,CAACE,OAAJ,EAAD,EAAgB,IAAhB,CAAnB;AACH;;AACD,WAAOW,KAAP;AACH,GAND;AAOH,C,CAED;AACA;;;AACA,SAASmB,mBAAT,CAA6BhC,GAA7B,EAAkCiC,QAAlC,EAA4C;AACxC,MAAMC,GAAG,GAAGlC,GAAG,CAAC8B,eAAJ,CAAoB9B,GAAG,CAAC8B,eAAJ,CAAoBK,aAAxC,CAAZ;;AAEA,MAAIF,QAAJ,EAAc;AACZC,OAAG,CAACV,SAAJ,GAAgBU,GAAG,CAACrB,KAAJ,GAAY,GAA5B;AACD,GAFD,MAEO;AACLqB,OAAG,CAACV,SAAJ,GAAgBU,GAAG,CAACrB,KAApB;AACD;AACJ,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClHD;AACA;AACA;AACA;AACA;AACA;;IAEqBvB,c;;;;;AACjB,0BAAYH,MAAZ,EAAoBC,QAApB,EAA8BZ,UAA9B,EAA0C;AAAA;;AAAA;;AACtC,+BAASqD,SAAT;AAEA,QAAMO,OAAO,GAAGjD,MAAM,CAACC,QAAD,CAAtB;AACA,QAAMd,IAAI,GAAGE,UAAU,UAAV,CAAkB4D,OAAlB,CAAb;AAEA,UAAKC,YAAL,GAAoB/D,IAAI,CAACgE,WAAzB;AACA,UAAKC,KAAL,GAAajE,IAAb;AACA,UAAKkE,YAAL,GAAoB,IAApB;AACA,UAAKC,OAAL,GAAe,IAAf;AAEA,UAAKC,WAAL,GAAmBlE,UAAnB;;AACA,UAAKmE,QAAL;;AAEA,UAAK/C,UAAL,CAAgB2B,aAAhB,CAA8B,gBAA9B,EAAgDC,SAAhD,GAA4DpC,QAA5D;;AACA,UAAKwD,gBAAL,CAAsBtE,IAAtB;;AACA,UAAKuE,kBAAL,CAAwBvE,IAAxB;;AAhBsC;AAiBzC;;;;WAED,oBAAW;AACP,aAAO,KAAKiE,KAAL,CAAW5D,QAAX,EAAP;AACH,K,CAED;;;;WACA,kBAASmE,UAAT,EAAqB;AACjB,WAAKP,KAAL,GAAaQ,mDAAS,CAACD,UAAD,CAAtB;;AACA,WAAKE,WAAL,CAAiB,KAAKT,KAAtB;AACH;;;WAED,sBAAa;AACT,aAAO,KAAKzB,YAAL,CAAkBnC,QAAlB,OAAiC,KAAK4D,KAAL,CAAW5D,QAAX,EAAxC;AACH;;;WAED,qBAAYL,IAAZ,EAAkB;AACd,WAAKa,MAAL,CAAY,KAAKC,QAAjB,IAA6B,KAAKsD,WAAL,WAAwBpE,IAAxB,CAA7B;;AACA,UAAI,KAAK2E,UAAT,EAAqB;AACjB,aAAKA,UAAL,CAAgBrB,IAAhB,CAAqB,IAArB,EAA2BtD,IAA3B;AACH;;AACD,UAAI,KAAK4E,gBAAT,EAA2B;AACvB,aAAKA,gBAAL,CAAsBtB,IAAtB,CAA2B,IAA3B,EAAiCtD,IAAjC;AACH;;AACD,WAAK6E,eAAL,CAAqB7E,IAArB;;AACA,WAAK8E,aAAL;AACH;;;WAED,oBAAW;AACP,WAAKxD,UAAL,GAAkB,KAAKyD,eAAL,CAAqBC,kDAArB,CAAlB;;AAEA,WAAKC,kBAAL;;AACA,WAAKC,wBAAL;;AACA,WAAKC,uBAAL;;AACA,WAAKC,YAAL;AACH;;;WAED,8BAAqB;AAAA;;AACjB,UAAMC,kBAAkB,GAAG,KAAK/D,UAAL,CAAgB2B,aAAhB,CAA8B,iBAA9B,CAA3B;AACA,UAAMqC,MAAM,GAAG,EAAf;;AAFiB,iDAIE,KAAKlB,WAAL,CAAiBmB,OAJnB;AAAA;;AAAA;AAIjB,4DAA6C;AAAA,cAApCjD,MAAoC;AACzC,cAAIgD,MAAM,CAACE,QAAP,CAAgBlD,MAAM,CAACmD,KAAvB,CAAJ,EAAmC;AACnCH,gBAAM,CAAC/E,IAAP,CAAY+B,MAAM,CAACmD,KAAnB;AACAJ,4BAAkB,CAACK,OAAnB,CAA2BC,GAA3B,CAA+B,IAAIC,MAAJ,CAAWtD,MAAM,CAACuD,WAAlB,EAA+BvD,MAAM,CAACmD,KAAtC,CAA/B;AACH;AARgB;AAAA;AAAA;AAAA;AAAA;;AAUjB,UAAMK,MAAM,GAAG,IAAIF,MAAJ,CAAWG,iEAAX,EAAyBA,iEAAzB,CAAf;AACAD,YAAM,CAACE,YAAP,CAAoB,QAApB,EAA8B,IAA9B;AACAX,wBAAkB,CAACK,OAAnB,CAA2BC,GAA3B,CAA+BG,MAA/B;;AAEAT,wBAAkB,CAACY,QAAnB,GAA8B,YAAM;AAChC,YAAMC,QAAQ,GAAG,MAAI,CAACjC,KAAtB;AACA,YAAMwB,KAAK,GAAGJ,kBAAkB,CAAC9C,KAAjC;;AACA,YAAM4D,YAAY,GAAG,MAAI,CAACC,qBAAL,CAA2BX,KAA3B,CAArB;;AACA,YAAMzF,IAAI,GAAG,MAAI,CAACqG,iCAAL,CAAuCZ,KAAvC,EAA8CU,YAAY,CAACX,QAAb,CAAsBU,QAAQ,CAAClC,WAA/B,IAA8CkC,QAAQ,CAAClC,WAAvD,GAAqEmC,YAAY,CAAC,CAAD,CAA/H,CAAb;;AAEA,cAAI,CAAC1D,QAAL,CAAczC,IAAI,CAACK,QAAL,EAAd;AACH,OAPD;AAQH;;;WAED,oCAA2B;AAAA;;AACvB,UAAMiG,wBAAwB,GAAG,KAAKhF,UAAL,CAAgB2B,aAAhB,CAA8B,uBAA9B,CAAjC;;AAEAqD,8BAAwB,CAACL,QAAzB,GAAoC,YAAM;AACtC,YAAMjG,IAAI,GAAG,MAAI,CAACqG,iCAAL,CAAuC,MAAI,CAACpC,KAAL,CAAWwB,KAAlD,EAAyDa,wBAAwB,CAAC/D,KAAlF,CAAb;;AAEA,cAAI,CAACE,QAAL,CAAczC,IAAI,CAACK,QAAL,EAAd;AACH,OAJD;AAKH;;;WAED,mCAA0B;AAAA;;AACtB,UAAMkG,uBAAuB,GAAG,KAAKjF,UAAL,CAAgB2B,aAAhB,CAA8B,gBAA9B,CAAhC;;AAEAsD,6BAAuB,CAACC,OAAxB,GAAkC,UAAAC,KAAK,EAAI;AACvC,YAAMC,OAAO,GAAGH,uBAAuB,CAAChE,KAAxC;;AAEA,YAAI;AACA,gBAAI,CAACE,QAAL,CAAckE,2DAAA,CAAiBD,OAAjB,EAA0BrG,QAA1B,EAAd;AACH,SAFD,CAGA,OAAMuG,CAAN,EAAS;AACLpG,iBAAO,CAACC,IAAR,mCAAwCiG,OAAxC;AACH;AACJ,OATD;AAUH;;;WAED,wBAAe;AACX,WAAKG,eAAL;;AACA,WAAKC,eAAL;;AACA,WAAKC,iBAAL;;AACA,WAAKC,kBAAL;AACH;;;WAED,2BAAkB;AAAA;;AACd,UAAMC,aAAa,GAAG,KAAK3F,UAAL,CAAgB2B,aAAhB,CAA8B,cAA9B,CAAtB;;AACA,UAAI,KAAKmB,WAAL,CAAiB8C,kBAAjB,EAAJ,EAA2C;AACvCD,qBAAa,CAACE,gBAAd,CAA+B,OAA/B,EAAwC,YAAM;AAC1C,gBAAI,CAACjD,YAAL,GAAoB,MAAI,CAACD,KAAzB;;AACA,gBAAI,CAACmD,WAAL,CAAiB,MAAI,CAACnD,KAAtB;AACH,SAHD;AAIH,OALD,MAMK;AACDgD,qBAAa,CAACI,KAAd,CAAoBC,OAApB,GAA8B,MAA9B;AACH;AACJ;;;WAED,2BAAkB;AACd,UAAML,aAAa,GAAG,KAAK3F,UAAL,CAAgB2B,aAAhB,CAA8B,cAA9B,CAAtB;AACA,UAAMsE,oBAAoB,GAAG,KAAKjG,UAAL,CAAgB2B,aAAhB,CAA8B,gBAA9B,CAA7B;AAEAgE,mBAAa,CAACE,gBAAd,CAA+B,OAA/B,EAAwC,YAAM;AAC1CI,4BAAoB,CAACC,MAArB;AACA9E,gBAAQ,CAAC+E,WAAT,CAAqB,MAArB;AACAjH,eAAO,CAACkH,IAAR,kBAAuBH,oBAAoB,CAAChF,KAA5C;AACH,OAJD;AAKH;;;WAED,6BAAoB;AAAA;;AAChB,UAAM0E,aAAa,GAAG,KAAK3F,UAAL,CAAgB2B,aAAhB,CAA8B,gBAA9B,CAAtB;AAEAgE,mBAAa,CAACE,gBAAd,CAA+B,OAA/B,EAAwC;AAAA,eAAM,MAAI,CAACQ,YAAL,EAAN;AAAA,OAAxC;AACH;;;WAED,8BAAqB;AAAA;;AACjB,UAAMV,aAAa,GAAG,KAAK3F,UAAL,CAAgB2B,aAAhB,CAA8B,iBAA9B,CAAtB;AAEAgE,mBAAa,CAACE,gBAAd,CAA+B,OAA/B,EAAwC,YAAM;AAC1C,cAAI,CAACQ,YAAL;;AACA,cAAI,CAAClF,QAAL,CAAc,MAAI,CAACyB,YAAL,CAAkB7D,QAAlB,EAAd;AACH,OAHD;AAIH;;;WAED,qBAAYL,IAAZ,EAAkB;AAAA;;AACd,WAAK4H,eAAL,CAAqB,IAArB;;AACA,UAAMC,MAAM,GAAG,KAAKvG,UAAL,CAAgB2B,aAAhB,CAA8B,SAA9B,CAAf;AACA,UAAM6E,MAAM,GAAG,IAAIC,uDAAJ,CAAeF,MAAf,CAAf;AACAC,YAAM,CAAC9H,IAAP,GAAcA,IAAd;AAEA6H,YAAM,CAACV,gBAAP,CAAwBa,0EAAxB,EAAoD,YAAM;AACtD,cAAI,CAACvF,QAAL,CAAcqF,MAAM,CAAC9H,IAAP,CAAYK,QAAZ,EAAd;AACH,OAFD;AAIA,WAAK8D,OAAL,GAAe2D,MAAf;AACH;;;WAED,wBAAe;AACX;AACA,UAAMD,MAAM,GAAG,KAAKvG,UAAL,CAAgB2B,aAAhB,CAA8B,SAA9B,CAAf;AACA,UAAMgF,WAAW,GAAGJ,MAAM,CAACK,SAAP,CAAiB,IAAjB,CAApB;AAEAL,YAAM,CAACM,UAAP,CAAkBC,YAAlB,CAA+BH,WAA/B,EAA4CJ,MAA5C;;AAEA,WAAKD,eAAL,CAAqB,KAArB;;AACA,WAAKzD,OAAL,GAAe,IAAf;AACH;;;WAED,yBAAgBnE,IAAhB,EAAsB;AAClB,WAAKsE,gBAAL,CAAsBtE,IAAtB;;AACA,WAAKqI,oBAAL,CAA0B,KAAKpE,KAA/B;;AACA,WAAKM,kBAAL,CAAwB,KAAKN,KAA7B;;AAEA,UAAI,KAAKE,OAAT,EAAkB;AACd,aAAKA,OAAL,CAAanE,IAAb,GAAoB,KAAKiE,KAAzB;AACH;AACJ;;;WAED,+BAAwE;AAAA,UAApDkC,YAAoD,uEAArC,EAAqC;AAAA,UAAjCmC,mBAAiC,uEAAXpG,SAAW;AACpE,UAAMoE,wBAAwB,GAAG,KAAKhF,UAAL,CAAgB2B,aAAhB,CAA8B,uBAA9B,CAAjC;AACAqD,8BAAwB,CAACZ,OAAzB,CAAiC6C,MAAjC,GAA0C,CAA1C;;AAEA,UAAIpC,YAAY,CAACoC,MAAb,GAAsB,CAA1B,EAA6B;AACzBpC,oBAAY,CAACqC,OAAb,CAAqB,UAAAxE,WAAW;AAAA,iBAAIsC,wBAAwB,CAACZ,OAAzB,CAAiCC,GAAjC,CAAqC,IAAIC,MAAJ,CAAW5B,WAAX,EAAwBA,WAAxB,CAArC,CAAJ;AAAA,SAAhC;AACAsC,gCAAwB,CAAC/D,KAAzB,GAAiC4D,YAAY,CAACX,QAAb,CAAsB8C,mBAAtB,IAA6CA,mBAA7C,GAAmEnC,YAAY,CAAC,CAAD,CAAhH;AACAG,gCAAwB,CAACmC,eAAzB,CAAyC,UAAzC;AACH,OAJD,MAKK;AACDnC,gCAAwB,CAACN,YAAzB,CAAsC,UAAtC,EAAkD,IAAlD;AACH;AACJ;;;WAED,0BAAiBhG,IAAjB,EAAuB;AACnB,UAAMqF,kBAAkB,GAAG,KAAK/D,UAAL,CAAgB2B,aAAhB,CAA8B,iBAA9B,CAA3B;AACA,UAAMqD,wBAAwB,GAAG,KAAKhF,UAAL,CAAgB2B,aAAhB,CAA8B,uBAA9B,CAAjC;AAEAoC,wBAAkB,CAAC9C,KAAnB,GAA2BvC,IAAI,CAACyF,KAAhC;;AAEA,WAAK4C,oBAAL,CAA0BrI,IAA1B;;AACA,WAAK0I,mBAAL,CAAyB,KAAKtC,qBAAL,CAA2BpG,IAAI,CAACyF,KAAhC,CAAzB,EAAiEzF,IAAI,CAACgE,WAAtE;;AACAsC,8BAAwB,CAAC/D,KAAzB,GAAiCvC,IAAI,CAACgE,WAAtC;AACH;;;WAED,4BAAmBhE,IAAnB,EAAyB;AACrB,UAAM2I,YAAY,GAAG,KAAKrH,UAAL,CAAgB2B,aAAhB,CAA8B,qBAA9B,CAArB;AACA,UAAM2F,GAAG,GAAGD,YAAY,CAACE,UAAb,CAAwB,IAAxB,CAAZ;AACA,UAAMC,KAAK,GAAGF,GAAG,CAACf,MAAJ,CAAWiB,KAAX,GAAmB,EAAjC;AACA,UAAMC,MAAM,GAAGH,GAAG,CAACf,MAAJ,CAAWkB,MAAX,GAAoB,EAAnC;AAEAH,SAAG,CAACI,WAAJ,GAAkBJ,GAAG,CAACK,SAAJ,GAAgB,SAAlC;AACNL,SAAG,CAACM,SAAJ,GAAgB,CAAhB;AACMN,SAAG,CAACO,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoBL,KAApB,EAA2BC,MAA3B;AACAH,SAAG,CAACQ,SAAJ;AACNR,SAAG,CAACS,MAAJ,CAAWrJ,IAAI,CAACsJ,WAAL,CAAiBC,CAAjB,GAAqBT,KAAhC,EAAuC,CAAC,IAAI9I,IAAI,CAACsJ,WAAL,CAAiBE,CAAtB,IAA2BT,MAAlE;;AAEM,WAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGzJ,IAAI,CAAC0J,OAAL,CAAanB,MAAjC,EAAyCkB,CAAC,IAAI,CAA9C,EAAiD;AAC7C,YAAME,WAAW,GAAG3J,IAAI,CAAC0J,OAAL,CAAaD,CAAb,CAApB;AACA,YAAMG,SAAS,GAAG5J,IAAI,CAAC0J,OAAL,CAAaD,CAAC,GAAG,CAAjB,CAAlB;AAEAb,WAAG,CAACiB,aAAJ,CAAkBF,WAAW,CAACG,MAAZ,CAAmBP,CAAnB,GAAuBT,KAAzC,EAAgD,CAAC,IAAIa,WAAW,CAACG,MAAZ,CAAmBN,CAAxB,IAA6BT,MAA7E,EAAqFa,SAAS,CAACE,MAAV,CAAiBP,CAAjB,GAAqBT,KAA1G,EAAiH,CAAC,IAAIc,SAAS,CAACE,MAAV,CAAiBN,CAAtB,IAA2BT,MAA5I,EAAoJa,SAAS,CAACL,CAAV,GAAcT,KAAlK,EAAyK,CAAC,IAAIc,SAAS,CAACJ,CAAf,IAAoBT,MAA7L;AACH;;AAEDH,SAAG,CAACmB,MAAJ,CAAWjB,KAAX,EAAkBC,MAAlB;AACAH,SAAG,CAACmB,MAAJ,CAAW,CAAX,EAAchB,MAAd;AACAH,SAAG,CAACoB,MAAJ;AACApB,SAAG,CAACqB,IAAJ;AACH;;;WAED,8BAAqBjK,IAArB,EAA2B;AACvB,UAAMuH,oBAAoB,GAAG,KAAKjG,UAAL,CAAgB2B,aAAhB,CAA8B,gBAA9B,CAA7B;AACAsE,0BAAoB,CAAChF,KAArB,GAA6BoE,yDAAA,CAAe3G,IAAf,CAA7B;AACH;;;WAED,yBAAgBkK,IAAhB,EAAsB;AAClB,UAAIA,IAAJ,EAAU;AACN,aAAK5I,UAAL,CAAgB6I,SAAhB,CAA0B/G,MAA1B,CAAiC,aAAjC;AACA,aAAK9B,UAAL,CAAgB6I,SAAhB,CAA0BxE,GAA1B,CAA8B,WAA9B;AACH,OAHD,MAIK;AACD,aAAKrE,UAAL,CAAgB6I,SAAhB,CAA0B/G,MAA1B,CAAiC,WAAjC;AACA,aAAK9B,UAAL,CAAgB6I,SAAhB,CAA0BxE,GAA1B,CAA8B,aAA9B;AACH;AACJ;;;WAED,yBAAgByE,QAAhB,EAA0B;AACtB,aAAQ,IAAIC,SAAJ,EAAD,CAAkBC,eAAlB,CAAkCF,QAAlC,EAA4C,WAA5C,EAAyDG,IAAzD,CAA8DC,UAArE;AACH;;;WAED,+BAAsB/E,KAAtB,EAA6B;AACzB,aAAO,KAAKgF,kBAAL,CAAwBhF,KAAxB,EAA+BiF,GAA/B,CAAmC,UAAAN,QAAQ;AAAA,eAAIA,QAAQ,CAACpG,WAAb;AAAA,OAA3C,CAAP;AACH;;;WAED,4BAAmByB,KAAnB,EAA0B;AACtB,aAAO,KAAKrB,WAAL,CAAiBmB,OAAjB,CAAyBoF,MAAzB,CAAgC,UAAArI,MAAM;AAAA,eAAIA,MAAM,CAACmD,KAAP,KAAiBA,KAArB;AAAA,OAAtC,CAAP;AACH;;;WAED,yCAAgC;AAC5B,UAAMA,KAAK,GAAG,KAAKnE,UAAL,CAAgB2B,aAAhB,CAA8B,iBAA9B,EAAiDV,KAA/D;AACA,UAAMyB,WAAW,GAAG,KAAK1C,UAAL,CAAgB2B,aAAhB,CAA8B,uBAA9B,EAAuDV,KAA3E;AAEA,aAAO,KAAK8D,iCAAL,CAAuCZ,KAAvC,EAA8CzB,WAA9C,CAAP;AACH;;;WAED,2CAAkCyB,KAAlC,EAAyCzB,WAAzC,EAAsD;AAClD,aAAO,KAAKI,WAAL,CAAiBmB,OAAjB,CAAyBnF,IAAzB,CAA8B,UAAAkC,MAAM;AAAA,eAAIA,MAAM,CAACmD,KAAP,KAAiBA,KAAjB,IAA0BnD,MAAM,CAAC0B,WAAP,KAAuBA,WAArD;AAAA,OAApC,CAAP;AACH;;;;EA/QuCrD,2D;;;AAgR3C,C;;;;;;;;;;;;;;;;ACvRD;AACA;;AAEA,IAAMiK,UAAU,GAAGC,iBAAiB,CAACtF,4CAAD,CAApC;;AAEe,SAASd,SAAT,CAAmBD,UAAnB,EAA+B;AAC1C,SAAOoG,UAAU,CAACpG,UAAD,CAAV,IAA0BmC,2DAAA,CAAiBnC,UAAjB,CAAjC;AACH;;AAED,SAASqG,iBAAT,CAA2BtF,OAA3B,EAAoC;AAChC,MAAMqF,UAAU,GAAG,EAAnB;;AAEA,oCAAmBE,MAAM,CAACC,MAAP,CAAcxF,OAAd,CAAnB,oCAA2C;AAAtC,QAAIjD,MAAM,qBAAV;AACDsI,cAAU,CAACtI,MAAM,CAACjC,QAAP,EAAD,CAAV,GAAgCiC,MAAhC;AACH;;AAED,SAAOsI,UAAP;AACH,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBD;AACA;AACA;;IAEqBjE,I;AACjB,kBAAwB;AAAA;;AAAA,sCAAT+C,OAAS;AAATA,aAAS;AAAA;;AACpB,SAAKsB,QAAL,GAAgBtB,OAAhB;AACH;;;;SA4CD,eAAc;AACV,aAAO,KAAKsB,QAAZ;AACH;;;SAED,eAAkB;AACd,aAAO,KAAKA,QAAL,CAAc,CAAd,CAAP;AACH;;;SAED,eAAiB;AACb,aAAO,KAAKA,QAAL,CAAc,KAAKA,QAAL,CAAczC,MAAd,GAAuB,CAArC,CAAP;AACH;;;WAED,mBAAUgB,CAAV,EAAaC,CAAb,EAAgB;AACZ,UAAMyB,MAAM,GAAG,IAAIC,uDAAJ,CAAW3B,CAAX,EAAcC,CAAd,CAAf;AACA,WAAKE,OAAL,CAAanJ,IAAb,CAAkB0K,MAAlB;AACA,aAAOA,MAAP;AACH;;;WAED,oBAAW;AACP,aAAOtE,IAAI,CAACwE,SAAL,CAAe,IAAf,CAAP;AACH;;;WA9DD,qBAAmBzE,OAAnB,EAA4B;AACxB,UAAM1G,IAAI,GAAG,IAAI2G,IAAJ,EAAb;;AACA,kCAAyBD,OAAO,CAAC0E,KAAR,2BAAc,sBAAd;AAAA;AAAA;AAAA,UAAwCC,MAAxC,CAA+C,CAAC,CAAhD,EAAmDX,GAAnD,CAAuDY,MAAM,CAACC,UAA9D,CAAzB;AAAA;AAAA,UAAOC,MAAP;AAAA,UAAeC,MAAf;;AACA,UAAMC,OAAO,GAAGhF,OAAO,CAACiF,OAAR,CAAgB,SAAhB,EAA2B,EAA3B,EAA+BA,OAA/B,CAAuC,KAAvC,EAA8C,EAA9C,EAAkDC,KAAlD,CAAwD,MAAxD,EAAgElB,GAAhE,CAAoEY,MAAM,CAACC,UAA3E,CAAhB;AAEAvL,UAAI,CAAC0J,OAAL,CAAa,CAAb,IAAkB,IAAIwB,uDAAJ,CAAWM,MAAX,EAAmBC,MAAnB,CAAlB;AACAzL,UAAI,CAAC0J,OAAL,CAAa,CAAb,EAAgBI,MAAhB,CAAuBP,CAAvB,GAA2BmC,OAAO,CAAC,CAAD,CAAlC;AACA1L,UAAI,CAAC0J,OAAL,CAAa,CAAb,EAAgBI,MAAhB,CAAuBN,CAAvB,GAA2BkC,OAAO,CAAC,CAAD,CAAlC;;AAEA,WAAK,IAAIjC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiC,OAAO,CAACnD,MAAR,GAAiB,CAArC,EAAwCkB,CAAC,IAAI,CAA7C,EAAgD;AAC5C,YAAMoC,CAAC,GAAG,CAACpC,CAAC,GAAG,CAAL,IAAU,CAAV,GAAc,CAAxB;AAEAzJ,YAAI,CAAC0J,OAAL,CAAamC,CAAb,IAAkB,IAAIX,uDAAJ,CAAWQ,OAAO,CAACjC,CAAC,GAAG,CAAL,CAAlB,EAA2BiC,OAAO,CAACjC,CAAC,GAAG,CAAL,CAAlC,CAAlB;AACAzJ,YAAI,CAAC0J,OAAL,CAAamC,CAAb,EAAgB/B,MAAhB,CAAuBP,CAAvB,GAA2BmC,OAAO,CAACjC,CAAD,CAAlC;AACAzJ,YAAI,CAAC0J,OAAL,CAAamC,CAAb,EAAgB/B,MAAhB,CAAuBN,CAAvB,GAA2BkC,OAAO,CAACjC,CAAC,GAAG,CAAL,CAAlC;AAEAzJ,YAAI,CAAC0J,OAAL,CAAamC,CAAC,GAAG,CAAjB,IAAsB,IAAIX,uDAAJ,CAAWQ,OAAO,CAACjC,CAAC,GAAG,CAAL,CAAlB,EAA2BiC,OAAO,CAACjC,CAAC,GAAG,CAAL,CAAlC,CAAtB;AACAzJ,YAAI,CAAC0J,OAAL,CAAamC,CAAC,GAAG,CAAjB,EAAoB/B,MAApB,CAA2BP,CAA3B,GAA+BmC,OAAO,CAACjC,CAAC,GAAG,CAAL,CAAtC;AACAzJ,YAAI,CAAC0J,OAAL,CAAamC,CAAC,GAAG,CAAjB,EAAoB/B,MAApB,CAA2BN,CAA3B,GAA+BkC,OAAO,CAACjC,CAAC,GAAG,CAAL,CAAtC;AACH;;AAED,UAAMqC,UAAU,cAAOZ,uDAAP,qBAAiBQ,OAAO,CAACK,KAAR,CAAc,CAAC,CAAf,CAAjB,EAAhB;;AACAD,gBAAU,CAAChC,MAAX,CAAkBP,CAAlB,GAAsBmC,OAAO,CAACA,OAAO,CAACnD,MAAR,GAAiB,CAAlB,CAA7B;AACAuD,gBAAU,CAAChC,MAAX,CAAkBN,CAAlB,GAAsBkC,OAAO,CAACA,OAAO,CAACnD,MAAR,GAAiB,CAAlB,CAA7B;AACAvI,UAAI,CAAC0J,OAAL,CAAanJ,IAAb,CAAkBuL,UAAlB;AAEA,aAAO9L,IAAP;AACH;;;WAED,mBAAiBA,IAAjB,EAAuB;AACnB,UAAIgM,IAAI,eAAQhM,IAAI,CAACsJ,WAAL,CAAiBC,CAAzB,cAA8BvJ,IAAI,CAACsJ,WAAL,CAAiBE,CAA/C,OAAR;;AAEA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGzJ,IAAI,CAAC0J,OAAL,CAAanB,MAAjC,EAAyCkB,CAAC,IAAI,CAA9C,EAAiD;AAC7C,YAAME,WAAW,GAAG3J,IAAI,CAAC0J,OAAL,CAAaD,CAAb,CAApB;AACA,YAAMG,SAAS,GAAG5J,IAAI,CAAC0J,OAAL,CAAaD,CAAC,GAAG,CAAjB,CAAlB;AAEAuC,YAAI,eAAQrC,WAAW,CAACG,MAAZ,CAAmBP,CAA3B,cAAgCI,WAAW,CAACG,MAAZ,CAAmBN,CAAnD,cAAwDI,SAAS,CAACE,MAAV,CAAiBP,CAAzE,cAA8EK,SAAS,CAACE,MAAV,CAAiBN,CAA/F,cAAoGI,SAAS,CAACL,CAA9G,cAAmHK,SAAS,CAACJ,CAA7H,CAAJ;AACH;;AAED,aAAOwC,IAAP;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjDL;AACA;;IAEqBd,M;;;;;AACjB,kBAAY3B,CAAZ,EAAeC,CAAf,EAAkB;AAAA;;AAAA;;AACd,8BAAMD,CAAN,EAASC,CAAT;AACA,UAAKM,MAAL,GAAc,IAAImC,4CAAJ,CAAW1C,CAAX,EAAcC,CAAd,CAAd;AAFc;AAGjB;;;EAJ+B0C,2C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHpC;;IAEqBD,M;;;;;;;;;;;;EAAeC,2C;;;;;;;;;;;;;;;;;;ICFfA,K,GACjB,iBAA0B;AAAA,MAAd3C,CAAc,uEAAV,CAAU;AAAA,MAAPC,CAAO,uEAAH,CAAG;;AAAA;;AACtB,OAAKD,CAAL,GAASA,CAAT;AACA,OAAKC,CAAL,GAASA,CAAT;AACH,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJL;AACA;AACA;AAEA;;IAKqB2C,U;;;;;AAIjB,wBAA+G;AAAA;;AAAA,QAAnG1G,KAAmG,uEAA3F0G,UAAU,CAACC,KAAX,CAAiBC,MAA0E;AAAA,QAAlErI,WAAkE,uEAApDmI,UAAU,CAACG,WAAX,CAAuBC,IAA6B;AAAA,QAAvBC,MAAuB,uEAAd,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAc;;AAAA;;AAC3G,uEAASC,aAAa,CAACD,MAAD,CAAtB;AACA,UAAK/G,KAAL,GAAaA,KAAb;AACA,UAAKzB,WAAL,GAAmBA,WAAnB;AACA,UAAK0I,MAAL,GAAc,IAAd;AAJ2G;AAK9G;;;;SAED,eAAW;AACP,aAAO,KAAKA,MAAL,IAAe,KAAKjH,KAA3B;AACH;;;WAED,iBAAQ;AACJ,UAAMkH,KAAK,GAAG,IAAIR,UAAJ,CAAe,KAAK1G,KAApB,EAA2B,KAAKzB,WAAhC,CAAd;AACA2I,WAAK,CAACjD,OAAN,CAAcnB,MAAd,GAAuB,CAAvB;AAEA,WAAKmB,OAAL,CAAalB,OAAb,CAAqB,UAAAyC,MAAM,EAAI;AAC3B,YAAM2B,WAAW,GAAG,IAAI1B,yCAAJ,CAAWD,MAAM,CAAC1B,CAAlB,EAAqB0B,MAAM,CAACzB,CAA5B,CAApB;AACAoD,mBAAW,CAAC9C,MAAZ,CAAmBP,CAAnB,GAAuB0B,MAAM,CAACnB,MAAP,CAAcP,CAArC;AACAqD,mBAAW,CAAC9C,MAAZ,CAAmBN,CAAnB,GAAuByB,MAAM,CAACnB,MAAP,CAAcN,CAArC;AACAmD,aAAK,CAACjD,OAAN,CAAcnJ,IAAd,CAAmBqM,WAAnB;AACH,OALD;AAOA,aAAOD,KAAP;AACH;;;WAED,eAAMpK,KAAN,EAAa;AACT,WAAKmK,MAAL,GAAcnK,KAAd;AACA,aAAO,IAAP;AACH;;;WAED,oBAAW;AACP,uBAAU,KAAKkD,KAAf,cAAwB,KAAKzB,WAA7B;AACH;;;;EApCmC2C,0C;;gBAAnBwF,U,WACFpG,gD;;gBADEoG,U,iBAEIU,sD;;;;AAqCzB,SAASJ,aAAT,CAAuBD,MAAvB,EAA+B;AAC3B,MAAM7C,WAAW,GAAG,IAAIuB,yCAAJ,CAAW,CAAX,EAAc,CAAd,CAApB;AACA,MAAMtB,SAAS,GAAG,IAAIsB,yCAAJ,CAAW,CAAX,EAAc,CAAd,CAAlB;AAEAvB,aAAW,CAACG,MAAZ,CAAmBP,CAAnB,GAAuBiD,MAAM,CAAC,CAAD,CAA7B;AACA7C,aAAW,CAACG,MAAZ,CAAmBN,CAAnB,GAAuBgD,MAAM,CAAC,CAAD,CAA7B;AACA5C,WAAS,CAACE,MAAV,CAAiBP,CAAjB,GAAqBiD,MAAM,CAAC,CAAD,CAA3B;AACA5C,WAAS,CAACE,MAAV,CAAiBN,CAAjB,GAAqBgD,MAAM,CAAC,CAAD,CAA3B;AAEA,SAAO,CAAC7C,WAAD,EAAcC,SAAd,CAAP;AACH,C;;;;;;;;;;;;;;AC1DD,iEAAekB,MAAM,CAACgC,MAAP,CAAc;AACzBT,QAAM,EAAE,QADiB;AAEzBU,MAAI,EAAE,MAFmB;AAGzBC,MAAI,EAAE,MAHmB;AAIzBC,OAAK,EAAE,OAJkB;AAKzBC,OAAK,EAAE,OALkB;AAMzBC,OAAK,EAAE,OANkB;AAOzBC,MAAI,EAAE,MAPmB;AAQzBC,MAAI,EAAE,MARmB;AASzBC,MAAI,EAAE,MATmB;AAUzBC,SAAO,EAAE,SAVgB;AAWzBC,QAAM,EAAE,QAXiB;AAYzBC,QAAM,EAAE;AAZiB,CAAd,CAAf,E;;;;;;;;;;;;;;ACAA,iEAAe3C,MAAM,CAACgC,MAAP,CAAc;AACzBY,IAAE,EAAE,IADqB;AAEzBC,KAAG,EAAE,KAFoB;AAGzBC,QAAM,EAAE,OAHiB;AAIzBrB,MAAI,EAAE;AAJmB,CAAd,CAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;;IAEqBxE,U;AACnB,sBAAYF,MAAZ,EAAoB;AAAA;;AAClB,SAAKgG,OAAL,GAAehG,MAAf;AACA,SAAKiG,IAAL,GAAY,KAAKC,eAAL,CAAqBlG,MAArB,CAAZ;AACA,SAAKmG,MAAL,GAAc,KAAKC,sBAAL,CAA4B,KAAKH,IAAjC,CAAd;;AACA,SAAKI,gBAAL,CAAsB,KAAKF,MAA3B,EAAmCnG,MAAnC;AACD;;;;SAqCD,eAAW;AACT,UAAM7H,IAAI,GAAG,IAAI2G,+CAAJ,EAAb;AACA,yBAA2B,KAAKqH,MAAhC;AAAA,UAAQG,EAAR,gBAAQA,EAAR;AAAA,UAAYC,EAAZ,gBAAYA,EAAZ;AAAA,UAAgB5B,MAAhB,gBAAgBA,MAAhB;;AAEA,WAAK,IAAI/C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+C,MAAM,CAACjE,MAAP,GAAgB,CAApC,EAAuCkB,CAAC,EAAxC,EAA4C;AAC1C,YAAM4E,UAAU,GAAG7B,MAAM,CAAC/C,CAAD,CAAzB;AACA,YAAME,WAAW,GAAG3J,IAAI,CAACsO,SAAL,CAAe,KAAKC,YAAL,CAAkBF,UAAU,CAACG,QAAX,CAAoBjF,CAAtC,CAAf,EAAyD,KAAKkF,YAAL,CAAkBJ,UAAU,CAACG,QAAX,CAAoBhF,CAAtC,CAAzD,CAApB;AACAG,mBAAW,CAACG,MAAZ,CAAmBP,CAAnB,GAAuB,KAAKgF,YAAL,CAAkBF,UAAU,CAACK,GAAX,CAAenF,CAAjC,CAAvB;AACAI,mBAAW,CAACG,MAAZ,CAAmBN,CAAnB,GAAuB,KAAKiF,YAAL,CAAkBJ,UAAU,CAACK,GAAX,CAAelF,CAAjC,CAAvB;AAEA,YAAMmF,QAAQ,GAAGnC,MAAM,CAAC/C,CAAC,GAAG,CAAL,CAAvB;AACA,YAAMG,SAAS,GAAG5J,IAAI,CAACsO,SAAL,CAAe,KAAKC,YAAL,CAAkBI,QAAQ,CAACH,QAAT,CAAkBjF,CAApC,CAAf,EAAuD,KAAKkF,YAAL,CAAkBE,QAAQ,CAACH,QAAT,CAAkBhF,CAApC,CAAvD,CAAlB;AACAI,iBAAS,CAACE,MAAV,CAAiBP,CAAjB,GAAqB,KAAKgF,YAAL,CAAkBI,QAAQ,CAACC,GAAT,CAAarF,CAA/B,CAArB;AACAK,iBAAS,CAACE,MAAV,CAAiBN,CAAjB,GAAqB,KAAKiF,YAAL,CAAkBE,QAAQ,CAACC,GAAT,CAAapF,CAA/B,CAArB;AACD;;AAED,aAAOxJ,IAAP;AACD,K;SApDD,aAASA,IAAT,EAAe;AACb,0BAAkD,KAAKgO,MAAvD;AAAA,UAAQxB,MAAR,iBAAQA,MAAR;AAAA,UAAgBqC,UAAhB,iBAAgBA,UAAhB;AAAA,UAA4BC,SAA5B,iBAA4BA,SAA5B;AAAA,UAAuCC,MAAvC,iBAAuCA,MAAvC;AACA,UAAQrF,OAAR,GAA6C1J,IAA7C,CAAQ0J,OAAR;AAAA,UAAiBJ,WAAjB,GAA6CtJ,IAA7C,CAAiBsJ,WAAjB;AAAA,UAA8BwC,UAA9B,GAA6C9L,IAA7C,CAA8B8L,UAA9B;AACAU,YAAM,CAACjE,MAAP,GAAgB,CAAhB;AAEA,UAAMyG,UAAU,GAAG,IAAIC,8DAAJ,CAAgB,KAAKC,UAAL,CAAgB5F,WAAW,CAACC,CAA5B,CAAhB,EAAgD,KAAK4F,UAAL,CAAgB7F,WAAW,CAACE,CAA5B,CAAhD,EAAgF,KAAKsE,IAArF,EAA2Fe,UAA3F,EAAuGC,SAAvG,EAAkHC,MAAlH,CAAnB;AACAC,gBAAU,CAACN,GAAX,CAAenF,CAAf,GAAmB,KAAK2F,UAAL,CAAgB5F,WAAW,CAACQ,MAAZ,CAAmBP,CAAnC,CAAnB;AACAyF,gBAAU,CAACN,GAAX,CAAelF,CAAf,GAAmB,KAAK2F,UAAL,CAAgB7F,WAAW,CAACQ,MAAZ,CAAmBN,CAAnC,CAAnB;AACAwF,gBAAU,CAACJ,GAAX,CAAerF,CAAf,GAAmB,CAACyF,UAAU,CAACN,GAAX,CAAenF,CAAnC;AACAyF,gBAAU,CAACJ,GAAX,CAAepF,CAAf,GAAmB,CAACwF,UAAU,CAACN,GAAX,CAAelF,CAAnC;AACAgD,YAAM,CAACjM,IAAP,CAAYyO,UAAZ;;AAEA,WAAK,IAAIvF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,OAAO,CAACnB,MAAR,GAAiB,CAArC,EAAwCkB,CAAC,IAAI,CAA7C,EAAgD;AAC9C,YAAM2F,uBAAuB,GAAG1F,OAAO,CAACD,CAAD,CAAvC;AACA,YAAM4F,yBAAyB,GAAG3F,OAAO,CAACD,CAAC,GAAG,CAAL,CAAzC;AACA,YAAM6F,KAAK,GAAG,IAAIL,8DAAJ,CAAgB,KAAKC,UAAL,CAAgBE,uBAAuB,CAAC7F,CAAxC,CAAhB,EAA4D,KAAK4F,UAAL,CAAgBC,uBAAuB,CAAC5F,CAAxC,CAA5D,EAAwG,KAAKsE,IAA7G,EAAmHe,UAAnH,EAA+HC,SAA/H,EAA0IC,MAA1I,CAAd;AAEAO,aAAK,CAACV,GAAN,CAAUrF,CAAV,GAAc,KAAK2F,UAAL,CAAgBE,uBAAuB,CAACtF,MAAxB,CAA+BP,CAA/C,CAAd;AACA+F,aAAK,CAACV,GAAN,CAAUpF,CAAV,GAAc,KAAK2F,UAAL,CAAgBC,uBAAuB,CAACtF,MAAxB,CAA+BN,CAA/C,CAAd;AACA8F,aAAK,CAACZ,GAAN,CAAUnF,CAAV,GAAc,KAAK2F,UAAL,CAAgBG,yBAAyB,CAACvF,MAA1B,CAAiCP,CAAjD,CAAd;AACA+F,aAAK,CAACZ,GAAN,CAAUlF,CAAV,GAAc,KAAK2F,UAAL,CAAgBE,yBAAyB,CAACvF,MAA1B,CAAiCN,CAAjD,CAAd;AAEAgD,cAAM,CAACjM,IAAP,CAAY+O,KAAZ;AACD;;AAED,UAAMC,SAAS,GAAG,IAAIN,8DAAJ,CAAgB,KAAKC,UAAL,CAAgBpD,UAAU,CAACvC,CAA3B,CAAhB,EAA+C,KAAK4F,UAAL,CAAgBrD,UAAU,CAACtC,CAA3B,CAA/C,EAA8E,KAAKsE,IAAnF,EAAyFe,UAAzF,EAAqGC,SAArG,EAAgHC,MAAhH,CAAlB;AACAQ,eAAS,CAACX,GAAV,CAAcrF,CAAd,GAAkB,KAAK2F,UAAL,CAAgBpD,UAAU,CAAChC,MAAX,CAAkBP,CAAlC,CAAlB;AACAgG,eAAS,CAACX,GAAV,CAAcpF,CAAd,GAAkB,KAAK2F,UAAL,CAAgBrD,UAAU,CAAChC,MAAX,CAAkBN,CAAlC,CAAlB;AACA+F,eAAS,CAACb,GAAV,CAAcnF,CAAd,GAAkB,CAACgG,SAAS,CAACX,GAAV,CAAcrF,CAAjC;AACAgG,eAAS,CAACb,GAAV,CAAclF,CAAd,GAAkB,CAAC+F,SAAS,CAACX,GAAV,CAAcpF,CAAjC;AACAgD,YAAM,CAACjM,IAAP,CAAYgP,SAAZ;;AAEA,WAAKvB,MAAL,CAAYwB,IAAZ;AACD;;;WAqBD,yBAAgB3H,MAAhB,EAAwB;AACtB,UAAMe,GAAG,GAAGf,MAAM,CAACgB,UAAP,CAAkB,IAAlB,CAAZ;AACAD,SAAG,CAACf,MAAJ,CAAWiB,KAAX,GAAmBjB,MAAM,CAAC4H,WAA1B;AACA7G,SAAG,CAACf,MAAJ,CAAWkB,MAAX,GAAoBlB,MAAM,CAAC6H,YAA3B;AACA,aAAO9G,GAAP;AACD;;;WAED,gCAAuBA,GAAvB,EAA4B;AAC1B,UAAMnD,KAAK,GAAG,IAAIkK,wDAAJ,CAAY/G,GAAZ,CAAd;AAEAnD,WAAK,CAACmK,aAAN,CAAoB,SAApB,EAA+B,CAA/B;AACAnK,WAAK,CAACoK,YAAN,CAAmB,SAAnB,EAA8B,CAA9B;AAEA,aAAOpK,KAAP;AACD;;;WAED,0BAAiBA,KAAjB,EAAwBoC,MAAxB,EAAgC;AAC9BpC,WAAK,CAACqK,EAAN,CAAS,MAAT,EAAiB;AAAA,eAAMjI,MAAM,CAACkI,aAAP,CAAqB,IAAI/H,2DAAJ,EAArB,CAAN;AAAA,OAAjB;AACAvC,WAAK,CAACqK,EAAN,CAAS,UAAT,EAAqB;AAAA,eAAMjI,MAAM,CAACkI,aAAP,CAAqB,IAAI/H,2DAAJ,EAArB,CAAN;AAAA,OAArB;AACAvC,WAAK,CAACqK,EAAN,CAAS,aAAT,EAAwB;AAAA,eAAMjI,MAAM,CAACkI,aAAP,CAAqB,IAAI/H,2DAAJ,EAArB,CAAN;AAAA,OAAxB;AACD;;;WAED,oBAAWuB,CAAX,EAAc;AACZ,aAAOA,CAAC,GAAG,KAAKyE,MAAL,CAAYG,EAAvB;AACD;;;WAED,oBAAW3E,CAAX,EAAc;AACZ,aAAO,CAAC,IAAIA,CAAL,IAAU,KAAKwE,MAAL,CAAYI,EAA7B;AACD;;;WAED,sBAAa7E,CAAb,EAAgB;AACd,aAAO,KAAKyG,MAAL,CAAYzG,CAAC,GAAG,KAAKyE,MAAL,CAAYG,EAA5B,CAAP;AACD;;;WAED,sBAAa3E,CAAb,EAAgB;AACd,aAAO,KAAKwG,MAAL,CAAY,IAAIxG,CAAC,GAAG,KAAKwE,MAAL,CAAYI,EAAhC,CAAP;AACD;;;WAED,gBAAO6B,KAAP,EAAuC;AAAA,UAAzBC,mBAAyB,uEAAH,CAAG;AACrC,UAAMC,KAAK,GAAGC,IAAI,CAACC,GAAL,CAAS,EAAT,EAAaH,mBAAb,CAAd;AACA,aAAOE,IAAI,CAACE,KAAL,CAAWL,KAAK,GAAGE,KAAnB,IAA4BA,KAAnC;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IC5GkBnI,sB;;;;;AACjB,oCAAc;AAAA;;AAAA,6BACJA,sBAAsB,CAACuI,GADnB;AAEb;;;iCAH+CC,W;;gBAA/BxI,sB,SAKJ,wB;;;;;;;;;;;;;;;;;ACLjB;;;;;;;;;;;;;;;;;;;;;;ACAA;;IAEqBiH,W;AAEpB,uBAAY1F,CAAZ,EAAeC,CAAf,EAAkBiH,OAAlB,EAA2BC,KAA3B,EAAkCC,IAAlC,EAAwC5B,MAAxC,EAAgD;AAAA;;AAE/C,SAAKA,MAAL,GAAcA,MAAd;AAEA,SAAK2B,KAAL,GAAaA,KAAb;AACA,SAAKC,IAAL,GAAYA,IAAZ;AAEA,SAAKnC,QAAL,GAAgB,IAAItC,2CAAJ,CAAU3C,CAAV,EAAaC,CAAb,EAAgB,KAAKkH,KAArB,EAA4B,KAAKC,IAAjC,EAAuCF,OAAvC,CAAhB;AACA,SAAK7B,GAAL,GAAW,IAAI1C,2CAAJ,CAAU3C,CAAC,GAAC,KAAKwF,MAAjB,EAAyBvF,CAAzB,EAA4B,KAAKkH,KAAjC,EAAwC,KAAKC,IAA7C,EAAmDF,OAAnD,CAAX;AACA,SAAK/B,GAAL,GAAW,IAAIxC,2CAAJ,CAAU3C,CAAC,GAAC,KAAKwF,MAAjB,EAAyBvF,CAAzB,EAA4B,KAAKkH,KAAjC,EAAwC,KAAKC,IAA7C,EAAmDF,OAAnD,CAAX;AAEA,SAAK7H,GAAL,GAAW6H,OAAX;AACA,SAAKG,CAAL,GAAS,CAAT;AAEA,SAAKC,SAAL,GAAiB,KAAjB;AAEA;;;;WAED,oBAAW;AAEV,UAAI,CAAC,KAAKA,SAAV,EAAqB;AACpB,aAAKA,SAAL,GAAiB,IAAjB;AACA,aAAKjC,GAAL,CAASrF,CAAT,GAAa,KAAKmF,GAAL,CAASnF,CAAT,GAAa,KAAKiF,QAAL,CAAcjF,CAAxC;AACA,aAAKqF,GAAL,CAASpF,CAAT,GAAa,KAAKkF,GAAL,CAASlF,CAAT,GAAa,KAAKgF,QAAL,CAAchF,CAAxC;AACA,OAJD,MAIO;AACN,aAAKqH,SAAL,GAAiB,KAAjB;AACA,aAAKjC,GAAL,CAASrF,CAAT,GAAa,KAAKiF,QAAL,CAAcjF,CAAd,GAAkB,KAAKwF,MAApC;AACA,aAAKL,GAAL,CAASnF,CAAT,GAAa,KAAKiF,QAAL,CAAcjF,CAAd,GAAkB,KAAKwF,MAApC;AACA;AAED;;;WAED,gBAAO;AAEN,UAAI,CAAC,KAAK8B,SAAV,EAAqB;AACpB,aAAKC,GAAL,GAAW,KAAKlC,GAAL,CAASrF,CAAT,GAAa,KAAKiF,QAAL,CAAcjF,CAAtC;AACA,aAAKwH,GAAL,GAAW,KAAKnC,GAAL,CAASpF,CAAT,GAAa,KAAKgF,QAAL,CAAchF,CAAtC;AACA,aAAKwH,GAAL,GAAW,KAAKtC,GAAL,CAASnF,CAAT,GAAa,KAAKiF,QAAL,CAAcjF,CAAtC;AACA,aAAK0H,GAAL,GAAW,KAAKvC,GAAL,CAASlF,CAAT,GAAa,KAAKgF,QAAL,CAAchF,CAAtC;AACA,OALD,MAKO;AACN,aAAKsH,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKC,GAAL,GAAW,CAA5C;AACA;AAED;;;WAED,uBAAcP,KAAd,EAAqBC,IAArB,EAA2B;AAE1B,WAAKnC,QAAL,CAAckC,KAAd,GAAsBA,KAAtB;AACA,WAAK9B,GAAL,CAAS8B,KAAT,GAAiBA,KAAjB;AACA,WAAKhC,GAAL,CAASgC,KAAT,GAAiBA,KAAjB;AACA,WAAKlC,QAAL,CAAcoC,CAAd,GAAkBD,IAAI,GAAC,CAAvB;AACA,WAAK/B,GAAL,CAASgC,CAAT,GAAaD,IAAI,GAAC,CAAlB;AACA,WAAKjC,GAAL,CAASkC,CAAT,GAAaD,IAAI,GAAC,CAAlB;AACA;;;WAED,gBAAO;AAEN,WAAK/H,GAAL,CAASM,SAAT,GAAqB,GAArB;AAEA,WAAKN,GAAL,CAASQ,SAAT;AACA,WAAKR,GAAL,CAASS,MAAT,CAAgB,KAAKmF,QAAL,CAAcjF,CAA9B,EAAiC,KAAKiF,QAAL,CAAchF,CAA/C;AACA,WAAKZ,GAAL,CAASmB,MAAT,CAAgB,KAAK6E,GAAL,CAASrF,CAAzB,EAA4B,KAAKqF,GAAL,CAASpF,CAArC;AACA,WAAKZ,GAAL,CAASoB,MAAT;AAEA,WAAKpB,GAAL,CAASQ,SAAT;AACA,WAAKR,GAAL,CAASS,MAAT,CAAgB,KAAKmF,QAAL,CAAcjF,CAA9B,EAAiC,KAAKiF,QAAL,CAAchF,CAA/C;AACA,WAAKZ,GAAL,CAASmB,MAAT,CAAgB,KAAK2E,GAAL,CAASnF,CAAzB,EAA4B,KAAKmF,GAAL,CAASlF,CAArC;AACA,WAAKZ,GAAL,CAASoB,MAAT;AAEA,WAAKwE,QAAL,CAAcgB,IAAd;AACA,WAAKZ,GAAL,CAASY,IAAT;AACA,WAAKd,GAAL,CAASc,IAAT;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7EF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;IAEqBzJ,K;AAEpB,iBAAY0K,OAAZ,EAAqBS,QAArB,EAA+BnC,MAA/B,EAAuC;AAAA;;AAEtC,SAAKE,WAAL,GAAmBA,iDAAnB;AAEA,SAAKF,MAAL,GAAcA,MAAM,GAAGA,MAAH,GAAY0B,OAAO,CAAC5I,MAAR,CAAeiB,KAAf,GAAuB,GAAvD;AAEA,SAAK+F,UAAL,GAAkB,MAAlB;AACA,SAAKC,SAAL,GAAiB,CAAjB;AAEA,SAAKqC,SAAL,GAAiB,MAAjB;AACA,SAAKjI,SAAL,GAAiB,CAAjB;AAEA,SAAKsD,MAAL,GAAc,CACb,IAAIyC,iDAAJ,CAAgB,CAAhB,EAAmBwB,OAAO,CAAC5I,MAAR,CAAekB,MAAlC,EAA0C0H,OAA1C,EAAmD,KAAK5B,UAAxD,EAAoE,KAAKC,SAAzE,EAAoF,KAAKC,MAAzF,CADa,EAEb,IAAIE,iDAAJ,CAAgBwB,OAAO,CAAC5I,MAAR,CAAeiB,KAA/B,EAAsC,CAAtC,EAAyC2H,OAAzC,EAAkD,KAAK5B,UAAvD,EAAmE,KAAKC,SAAxE,EAAmF,KAAKC,MAAxF,CAFa,CAAd;AAKA,SAAKnG,GAAL,GAAW6H,OAAX;AACA,SAAKtC,EAAL,GAAUsC,OAAO,CAAC5I,MAAR,CAAeiB,KAAzB;AACA,SAAKsF,EAAL,GAAUqC,OAAO,CAAC5I,MAAR,CAAekB,MAAzB;AAEA,SAAKqI,MAAL,GAAc,CAAd;AACA,SAAKC,MAAL,GAAc,CAAd;AAEA,SAAKC,MAAL,GAAc,EAAd;AAEA,SAAKJ,QAAL,GAAgBA,QAAhB;AAEA,SAAKK,YAAL;AACA,SAAKC,SAAL;AACA,SAAKhC,IAAL;AAEA;;;;WAED,eAAMiC,KAAN,EAAa;AAEZ,UAAIC,SAAS,GAAG,MAAhB;AAEA,UAAIC,IAAI,GAAG,CAAX;AACA,UAAIC,IAAI,GAAG,IAAX;AACA,UAAIC,GAAG,GAAG,CAACF,IAAI,GAACC,IAAN,IAAY,CAAtB;AAEA,UAAIE,OAAO,GAAGL,KAAK,GAAC,KAAKP,QAAzB;AACA,UAAIa,QAAQ,GAAG,KAAKC,OAAL,CAAaH,GAAb,CAAf;AAEA,UAAIpI,CAAC,GAAG,CAAR;;AAEA,aAAO2G,IAAI,CAAC6B,GAAL,CAASH,OAAO,GAACC,QAAjB,IAA6BL,SAApC,EAA8C;AAC7CjI,SAAC;;AAED,YAAIsI,QAAQ,GAAGD,OAAf,EAAwB;AACvBF,cAAI,GAAGC,GAAP;AACA,SAFD,MAEO,IAAIE,QAAQ,GAAGD,OAAf,EAAwB;AAC9BH,cAAI,GAAGE,GAAP;AACA;;AACDA,WAAG,GAAGzB,IAAI,CAACE,KAAL,CAAW,CAACqB,IAAI,GAACC,IAAN,IAAY,CAAvB,CAAN;AACAG,gBAAQ,GAAG,KAAKC,OAAL,CAAaH,GAAb,CAAX;;AAEA,YAAIpI,CAAC,GAAG,EAAR,EAAY;AACX;AACA;AACD;;AAED,aAAO,KAAKyI,OAAL,CAAaL,GAAb,CAAP;AAEA;;;WAED,qBAAY;AAEX,WAAKG,OAAL,GAAe,EAAf;AACA,WAAKE,OAAL,GAAe,EAAf,CAHW,CAKX;;AACA,WAAK,IAAIzI,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK+C,MAAL,CAAYjE,MAAhC,EAAwCkB,CAAC,EAAzC,EAA6C;AAC5C,YAAI0I,EAAE,GAAG,KAAK3F,MAAL,CAAY/C,CAAC,GAAC,CAAd,CAAT;AACA,YAAI2I,EAAE,GAAG,KAAK5F,MAAL,CAAY/C,CAAZ,CAAT;AACA,YAAI4I,GAAG,GAAID,EAAE,CAAC5D,QAAH,CAAYjF,CAAZ,GAAc,KAAK4E,EAApB,GAA2BgE,EAAE,CAAC3D,QAAH,CAAYjF,CAAZ,GAAc,KAAK4E,EAAxD;;AACA,aAAK,IAAImE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,IAAE,KAAG,OAAKD,GAAR,CAA1B,EAAwC;AACvC,cAAI9I,CAAC,GAAI6G,IAAI,CAACC,GAAL,CAAU,IAAEiC,CAAZ,EAAe,CAAf,IAAkBH,EAAE,CAAC3D,QAAH,CAAYjF,CAA/B,GAAqC,IAAE6G,IAAI,CAACC,GAAL,CAAU,IAAEiC,CAAZ,EAAe,CAAf,CAAF,GAAoBA,CAApB,GAAsBH,EAAE,CAACzD,GAAH,CAAOnF,CAAlE,GAAwE,KAAG,IAAE+I,CAAL,IAAQlC,IAAI,CAACC,GAAL,CAASiC,CAAT,EAAW,CAAX,CAAR,GAAsBF,EAAE,CAACxD,GAAH,CAAOrF,CAArG,GAA2G6G,IAAI,CAACC,GAAL,CAASiC,CAAT,EAAW,CAAX,IAAcF,EAAE,CAAC5D,QAAH,CAAYjF,CAA7I;AACA,cAAIC,CAAC,GAAI4G,IAAI,CAACC,GAAL,CAAU,IAAEiC,CAAZ,EAAe,CAAf,IAAkBH,EAAE,CAAC3D,QAAH,CAAYhF,CAA/B,GAAqC,IAAE4G,IAAI,CAACC,GAAL,CAAU,IAAEiC,CAAZ,EAAe,CAAf,CAAF,GAAoBA,CAApB,GAAsBH,EAAE,CAACzD,GAAH,CAAOlF,CAAlE,GAAwE,KAAG,IAAE8I,CAAL,IAAQlC,IAAI,CAACC,GAAL,CAASiC,CAAT,EAAW,CAAX,CAAR,GAAsBF,EAAE,CAACxD,GAAH,CAAOpF,CAArG,GAA2G4G,IAAI,CAACC,GAAL,CAASiC,CAAT,EAAW,CAAX,IAAcF,EAAE,CAAC5D,QAAH,CAAYhF,CAA7I;AACA,eAAKwI,OAAL,CAAazR,IAAb,CAAkBgJ,CAAC,GAAC,KAAK4E,EAAzB;AACA,eAAK+D,OAAL,CAAa3R,IAAb,CAAkB,CAACiJ,CAAD,GAAG,KAAK4E,EAAR,GAAW,CAA7B;AACA;AACD;AAED;;;WAED,YAAG3H,KAAH,EAAU8L,IAAV,EAAgB;AACf,WAAKjB,MAAL,CAAY,OAAK7K,KAAjB,IAA0B8L,IAAI,CAACC,IAAL,CAAU,IAAV,CAA1B;AACA;;;WAED,wBAAe;AAEd,UAAIjJ,CAAJ,EACCC,CADD,EAECiJ,IAFD,EAGCC,SAHD,EAICC,MAJD,EAKCC,OALD;;AAOA,UAAIC,KAAK,GAAG,IAAZ;;AAEA,WAAKjK,GAAL,CAASf,MAAT,CAAgBV,gBAAhB,CAAiC,WAAjC,EAA8C,UAAS2L,GAAT,EAAa;AAE1D,YAAIC,IAAI,GAAG,KAAKC,qBAAL,EAAX;AAEAzJ,SAAC,GAAGuJ,GAAG,CAACG,OAAJ,GAAcF,IAAI,CAACG,IAAvB;AACA1J,SAAC,GAAGsJ,GAAG,CAACK,OAAJ,GAAcJ,IAAI,CAACK,GAAvB;AAEAP,aAAK,CAACzB,MAAN,GAAe7H,CAAf;AACAsJ,aAAK,CAACxB,MAAN,GAAe7H,CAAf;;AAEA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoJ,KAAK,CAACrG,MAAN,CAAajE,MAAjC,EAAyCkB,CAAC,EAA1C,EAA8C;AAC7C,cAAI4J,CAAC,GAAGR,KAAK,CAACrG,MAAN,CAAa/C,CAAb,CAAR;;AAEA,cAAI,CAACmJ,OAAL,EAAc;AAEbH,gBAAI,GAAGrC,IAAI,CAACkD,IAAL,CAAU,CAAC/J,CAAC,GAAC8J,CAAC,CAAC7E,QAAF,CAAWjF,CAAd,KAAkBA,CAAC,GAAC8J,CAAC,CAAC7E,QAAF,CAAWjF,CAA/B,IAAoC,CAACC,CAAC,GAAC6J,CAAC,CAAC7E,QAAF,CAAWhF,CAAd,KAAkBA,CAAC,GAAC6J,CAAC,CAAC7E,QAAF,CAAWhF,CAA/B,CAA9C,CAAP;;AACA,gBAAIiJ,IAAI,IAAII,KAAK,CAAC/D,SAAN,GAAgB,CAAhB,GAAkB,CAA9B,EAAiC;AAChC,mBAAKzH,KAAL,CAAWkM,MAAX,GAAoB,SAApB;AACAb,uBAAS,GAAGjJ,CAAZ;AACA;AACA,aAJD,MAIO;AACNgJ,kBAAI,GAAGrC,IAAI,CAACkD,IAAL,CAAU,CAAC/J,CAAC,GAAC8J,CAAC,CAACzE,GAAF,CAAMrF,CAAT,KAAaA,CAAC,GAAC8J,CAAC,CAACzE,GAAF,CAAMrF,CAArB,IAA0B,CAACC,CAAC,GAAC6J,CAAC,CAACzE,GAAF,CAAMpF,CAAT,KAAaA,CAAC,GAAC6J,CAAC,CAACzE,GAAF,CAAMpF,CAArB,CAApC,CAAP;;AACA,kBAAIiJ,IAAI,IAAII,KAAK,CAAC/D,SAAN,GAAgB,CAAhB,GAAkB,CAA9B,EAAiC;AAChC,qBAAKzH,KAAL,CAAWkM,MAAX,GAAoB,SAApB;AACAb,yBAAS,GAAGjJ,CAAZ;AACAkJ,sBAAM,GAAG,KAAT;AACA;AACA,eALD,MAKO;AACNF,oBAAI,GAAGrC,IAAI,CAACkD,IAAL,CAAU,CAAC/J,CAAC,GAAC8J,CAAC,CAAC3E,GAAF,CAAMnF,CAAT,KAAaA,CAAC,GAAC8J,CAAC,CAAC3E,GAAF,CAAMnF,CAArB,IAA0B,CAACC,CAAC,GAAC6J,CAAC,CAAC3E,GAAF,CAAMlF,CAAT,KAAaA,CAAC,GAAC6J,CAAC,CAAC3E,GAAF,CAAMlF,CAArB,CAApC,CAAP;;AACA,oBAAIiJ,IAAI,IAAII,KAAK,CAAC/D,SAAN,GAAgB,CAAhB,GAAkB,CAA9B,EAAiC;AAChC,uBAAKzH,KAAL,CAAWkM,MAAX,GAAoB,SAApB;AACAb,2BAAS,GAAGjJ,CAAZ;AACAkJ,wBAAM,GAAG,KAAT;AACA;AACA,iBALD,MAKO;AACN,uBAAKtL,KAAL,CAAWkM,MAAX,GAAoB,SAApB;AACAb,2BAAS,GAAG,KAAZ;AACAC,wBAAM,GAAG,KAAT;AACA;AACD;AACD;AAED;AAED;;AAED,YAAIa,IAAI,CAAC,EAAD,CAAR,EAAc;AACb,cAAIC,MAAM,GAAGZ,KAAK,CAAC1E,EAAN,GAAW,EAAxB;AACA,cAAIuF,MAAM,GAAGb,KAAK,CAACzE,EAAN,GAAU,EAAvB;AAEA,cAAIuF,IAAI,GAAGvD,IAAI,CAACwD,KAAL,CAAW,CAACrK,CAAC,GAACkK,MAAM,GAAC,CAAV,IAAeA,MAA1B,CAAX;AACA,cAAII,IAAI,GAAGzD,IAAI,CAACwD,KAAL,CAAW,CAACpK,CAAC,GAACkK,MAAM,GAAC,CAAV,IAAeA,MAA1B,CAAX;AAEAnK,WAAC,GAAGkK,MAAM,GAAGE,IAAb;AACAnK,WAAC,GAAGkK,MAAM,GAAGG,IAAb;AACA;;AAED,YAAIjB,OAAJ,EAAa;AACZ,cAAID,MAAM,IAAI,KAAd,EAAqB;AACpBE,iBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BrF,CAA5B,GAAgCA,CAAhC;AACAsJ,iBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BpF,CAA5B,GAAgCA,CAAhC;;AAEAqJ,iBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBoB,IAAxB;;AAEA,gBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,mBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BnF,CAA5B,GAAgCA,CAAC,GAAGsJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB5B,GAAxB,GAA4B,CAAhE;AACA+B,mBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BlF,CAA5B,GAAgCA,CAAC,GAAGqJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB3B,GAAxB,GAA4B,CAAhE;AACA;AACD,WAVD,MAUO,IAAI4B,MAAM,IAAI,KAAd,EAAqB;AAE3BE,iBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BnF,CAA5B,GAAgCA,CAAhC;AACAsJ,iBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BlF,CAA5B,GAAgCA,CAAhC;;AAEAqJ,iBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBoB,IAAxB;;AAEA,gBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,mBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BrF,CAA5B,GAAgCA,CAAC,GAAGsJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB1B,GAAxB,GAA4B,CAAhE;AACA6B,mBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BpF,CAA5B,GAAgCA,CAAC,GAAGqJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBzB,GAAxB,GAA4B,CAAhE;AACA;AACD,WAXM,MAWA;AACN4B,iBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBoB,IAAxB;;AAEAjB,iBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBlE,QAAxB,CAAiCjF,CAAjC,GAAqCA,CAArC;AACAsJ,iBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBlE,QAAxB,CAAiChF,CAAjC,GAAqCA,CAArC;;AAEA,gBAAIkJ,SAAS,KAAK,CAAlB,EAAqB;AACpBG,mBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBlE,QAAxB,CAAiCjF,CAAjC,GAAqC,CAArC;AACA;;AACD,gBAAImJ,SAAS,IAAIG,KAAK,CAACrG,MAAN,CAAajE,MAAb,GAAoB,CAArC,EAAwC;AACvCsK,mBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBlE,QAAxB,CAAiCjF,CAAjC,GAAqCsJ,KAAK,CAAC1E,EAA3C;AACA;;AAED0E,iBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BrF,CAA5B,GAAgCsJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBlE,QAAxB,CAAiCjF,CAAjC,GAAqCsJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB5B,GAA7F;AACA+B,iBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BpF,CAA5B,GAAgCqJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBlE,QAAxB,CAAiChF,CAAjC,GAAqCqJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB3B,GAA7F;AACA8B,iBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BnF,CAA5B,GAAgCsJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBlE,QAAxB,CAAiCjF,CAAjC,GAAqCsJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB1B,GAA7F;AACA6B,iBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BlF,CAA5B,GAAgCqJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBlE,QAAxB,CAAiChF,CAAjC,GAAqCqJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBzB,GAA7F;AAEA,gBAAI8C,IAAJ;;AAEA,gBAAIlB,KAAK,CAACrG,MAAN,CAAakG,SAAS,GAAC,CAAvB,KAA6BG,KAAK,CAACrG,MAAN,CAAakG,SAAS,GAAC,CAAvB,CAAjC,EAA4D;AAC3D,kBAAIG,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBlE,QAAxB,CAAiCjF,CAAjC,GAAqCsJ,KAAK,CAACrG,MAAN,CAAakG,SAAS,GAAC,CAAvB,EAA0BlE,QAA1B,CAAmCjF,CAA5E,EAA+E;AAC9EwK,oBAAI,GAAGlB,KAAK,CAACrG,MAAN,CAAakG,SAAb,CAAP;AACAG,qBAAK,CAACrG,MAAN,CAAakG,SAAb,IAA0BG,KAAK,CAACrG,MAAN,CAAakG,SAAS,GAAC,CAAvB,CAA1B;AACAG,qBAAK,CAACrG,MAAN,CAAakG,SAAS,GAAC,CAAvB,IAA4BqB,IAA5B;AACArB,yBAAS;AACT;;AACD,kBAAIG,KAAK,CAACrG,MAAN,CAAakG,SAAS,GAAC,CAAvB,EAA0BlE,QAA1B,CAAmCjF,CAAnC,GAAuCsJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBlE,QAAxB,CAAiCjF,CAA5E,EAA+E;AAC9EwK,oBAAI,GAAGlB,KAAK,CAACrG,MAAN,CAAakG,SAAb,CAAP;AACAG,qBAAK,CAACrG,MAAN,CAAakG,SAAb,IAA0BG,KAAK,CAACrG,MAAN,CAAakG,SAAS,GAAC,CAAvB,CAA1B;AACAG,qBAAK,CAACrG,MAAN,CAAakG,SAAS,GAAC,CAAvB,IAA4BqB,IAA5B;AACArB,yBAAS;AACT;AACD;AAED;;AACDG,eAAK,CAACvB,MAAN,CAAa0C,MAAb,GAAsBnB,KAAK,CAACvB,MAAN,CAAa0C,MAAb,EAAtB,GAA8C,IAA9C;;AACAnB,eAAK,CAACrD,IAAN;AACA;;AAEDqD,aAAK,CAACvB,MAAN,CAAa2C,WAAb,GAA2BpB,KAAK,CAACvB,MAAN,CAAa2C,WAAb,EAA3B,GAAwD,IAAxD;AAEA,OAzHD;AA0HA,WAAKrL,GAAL,CAASf,MAAT,CAAgBV,gBAAhB,CAAiC,WAAjC,EAA8C,UAAS2L,GAAT,EAAa;AAC1DA,WAAG,CAACoB,cAAJ;;AAEA,YAAIxB,SAAS,IAAIA,SAAS,KAAK,CAA/B,EAAkC;AACjCE,iBAAO,GAAG,IAAV;AACA,SAFD,MAEO;AACN,cAAIH,IAAI,GAAG,CAAX,EAAc;AACbC,qBAAS,GAAGG,KAAK,CAACsB,QAAN,CAAe5K,CAAf,EAAkBC,CAAlB,CAAZ;AACAoJ,mBAAO,GAAG,IAAV;AACA,iBAAKvL,KAAL,CAAWkM,MAAX,GAAoB,SAApB;;AACAV,iBAAK,CAACrD,IAAN;;AACAqD,iBAAK,CAACvB,MAAN,CAAa8C,UAAb,GAA0BvB,KAAK,CAACvB,MAAN,CAAa8C,UAAb,EAA1B,GAAsD,IAAtD;AACA;AACD;AAED,OAfD;AAgBA,WAAKxL,GAAL,CAASf,MAAT,CAAgBV,gBAAhB,CAAiC,SAAjC,EAA4C,UAAS2L,GAAT,EAAa;AAExDF,eAAO,GAAG,KAAV;;AACA,YAAIH,IAAI,GAAG,CAAX,EAAc;AACbC,mBAAS,GAAGC,MAAM,GAAG,KAArB;AACA;;AAED,aAAK,IAAIlJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoJ,KAAK,CAACrG,MAAN,CAAajE,MAAjC,EAAyCkB,CAAC,EAA1C,EAA8C;AAC7C,cAAI4J,CAAC,GAAGR,KAAK,CAACrG,MAAN,CAAa/C,CAAb,CAAR;AACAgJ,cAAI,GAAGrC,IAAI,CAACkD,IAAL,CAAU,CAAC/J,CAAC,GAAC8J,CAAC,CAAC7E,QAAF,CAAWjF,CAAd,KAAkBA,CAAC,GAAC8J,CAAC,CAAC7E,QAAF,CAAWjF,CAA/B,IAAoC,CAACC,CAAC,GAAC6J,CAAC,CAAC7E,QAAF,CAAWhF,CAAd,KAAkBA,CAAC,GAAC6J,CAAC,CAAC7E,QAAF,CAAWhF,CAA/B,CAA9C,CAAP;;AACA,cAAIiJ,IAAI,IAAII,KAAK,CAAC/D,SAAN,GAAgB,CAAhB,GAAkB,CAA9B,EAAiC;AAChC,iBAAKzH,KAAL,CAAWkM,MAAX,GAAoB,SAApB;AACAb,qBAAS,GAAGjJ,CAAZ;AACA;AACA;AACD;;AAEDoJ,aAAK,CAACrB,SAAN;AAEA,OAnBD;AAoBA,WAAK5I,GAAL,CAASf,MAAT,CAAgBV,gBAAhB,CAAiC,YAAjC,EAA+C,UAAS2L,GAAT,EAAa;AAE3D,YAAIF,OAAJ,EAAa;AACZ,cAAIE,GAAG,CAACuB,OAAJ,GAAc,CAAd,IAAmBvB,GAAG,CAACuB,OAAJ,GAAcxB,KAAK,CAAC1E,EAA3C,EAA+C;AAC9C,gBAAI2E,GAAG,CAACuB,OAAJ,GAAc,CAAlB,EAAqB;AACpB,kBAAI1B,MAAM,IAAI,KAAd,EAAqB;AACpBE,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BrF,CAA5B,GAAgC,CAAhC;;AAEAsJ,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBoB,IAAxB;;AAEA,oBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,uBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BnF,CAA5B,GAAgC,IAAIsJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB5B,GAAxB,GAA4B,CAAhE;AACA+B,uBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BlF,CAA5B,GAAgCA,CAAC,GAAGqJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB3B,GAAxB,GAA4B,CAAhE;AACA;AACD,eATD,MASO,IAAI4B,MAAM,IAAI,KAAd,EAAqB;AAC3BE,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BnF,CAA5B,GAAgC,CAAhC;;AAEAsJ,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBoB,IAAxB;;AAEA,oBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,uBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BrF,CAA5B,GAAgC,IAAIsJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB1B,GAAxB,GAA4B,CAAhE;AACA6B,uBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BpF,CAA5B,GAAgCA,CAAC,GAAGqJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBzB,GAAxB,GAA4B,CAAhE;AACA;AACD,eATM,MASA;AACN4B,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBlE,QAAxB,CAAiCjF,CAAjC,GAAqC,CAArC;AACAsJ,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BrF,CAA5B,GAAgC,IAAIsJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB5B,GAA5D;AACA+B,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BnF,CAA5B,GAAgC,IAAIsJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB1B,GAA5D;AACA;AACD,aAxBD,MAwBO;AACN,kBAAI2B,MAAM,IAAI,KAAd,EAAqB;AACpBE,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BrF,CAA5B,GAAgCsJ,KAAK,CAAC1E,EAAtC;;AAEA0E,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBoB,IAAxB;;AAEA,oBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,uBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BnF,CAA5B,GAAgCsJ,KAAK,CAAC1E,EAAN,GAAW0E,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB5B,GAAxB,GAA4B,CAAvE;AACA+B,uBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BlF,CAA5B,GAAgCA,CAAC,GAAGqJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB3B,GAAxB,GAA4B,CAAhE;AACA;AACD,eATD,MASO,IAAI4B,MAAM,IAAI,KAAd,EAAqB;AAC3BE,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BnF,CAA5B,GAAgCsJ,KAAK,CAAC1E,EAAtC;;AAEA0E,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBoB,IAAxB;;AAEA,oBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,uBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BrF,CAA5B,GAAgCsJ,KAAK,CAAC1E,EAAN,GAAW0E,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB1B,GAAxB,GAA4B,CAAvE;AACA6B,uBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BpF,CAA5B,GAAgCA,CAAC,GAAGqJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBzB,GAAxB,GAA4B,CAAhE;AACA;AACD,eATM,MASA;AACN4B,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBlE,QAAxB,CAAiCjF,CAAjC,GAAqCsJ,KAAK,CAAC1E,EAA3C;AACA0E,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BrF,CAA5B,GAAgCsJ,KAAK,CAAC1E,EAAN,GAAW0E,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB5B,GAAnE;AACA+B,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BnF,CAA5B,GAAgCsJ,KAAK,CAAC1E,EAAN,GAAW0E,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB1B,GAAnE;AACA;AACD;AACD,WAlDD,MAkDO,IAAI8B,GAAG,CAACwB,OAAJ,GAAc,CAAd,IAAmBxB,GAAG,CAACwB,OAAJ,GAAczB,KAAK,CAACzE,EAA3C,EAA+C;AACrD,gBAAI0E,GAAG,CAACwB,OAAJ,GAAc,CAAlB,EAAqB;AACpB,kBAAI3B,MAAM,IAAI,KAAd,EAAqB;AACpBE,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BpF,CAA5B,GAAgC,CAAhC;;AAEAqJ,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBoB,IAAxB;;AAEA,oBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,uBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BnF,CAA5B,GAAgCA,CAAC,GAAGsJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB5B,GAAxB,GAA4B,CAAhE;AACA+B,uBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BlF,CAA5B,GAAgC,IAAIqJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB3B,GAAxB,GAA4B,CAAhE;AACA;AACD,eATD,MASO,IAAI4B,MAAM,IAAI,KAAd,EAAqB;AAC3BE,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BlF,CAA5B,GAAgC,CAAhC;;AAEAqJ,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBoB,IAAxB;;AAEA,oBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,uBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BrF,CAA5B,GAAgCA,CAAC,GAAGsJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB1B,GAAxB,GAA4B,CAAhE;AACA6B,uBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BpF,CAA5B,GAAgC,IAAIqJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBzB,GAAxB,GAA4B,CAAhE;AACA;AACD,eATM,MASA;AACN4B,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBlE,QAAxB,CAAiChF,CAAjC,GAAqC,CAArC;AACAqJ,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BpF,CAA5B,GAAgC,IAAIqJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB3B,GAA5D;AACA8B,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BlF,CAA5B,GAAgC,IAAIqJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBzB,GAA5D;AACA;AACD,aAxBD,MAwBO;AACN,kBAAI0B,MAAM,IAAI,KAAd,EAAqB;AACpBE,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BpF,CAA5B,GAAgCqJ,KAAK,CAACzE,EAAtC;;AAEAyE,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBoB,IAAxB;;AACA,oBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,uBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BnF,CAA5B,GAAgCA,CAAC,GAAGsJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB5B,GAAxB,GAA4B,CAAhE;AACA+B,uBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BlF,CAA5B,GAAgCqJ,KAAK,CAACzE,EAAN,GAAWyE,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB3B,GAAxB,GAA4B,CAAvE;AACA;AACD,eARD,MAQO,IAAI4B,MAAM,IAAI,KAAd,EAAqB;AAC3BE,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BlF,CAA5B,GAAgCqJ,KAAK,CAACzE,EAAtC;;AAEAyE,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBoB,IAAxB;;AAEA,oBAAI,CAACN,IAAI,CAAC,EAAD,CAAT,EAAe;AACdX,uBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BrF,CAA5B,GAAgCA,CAAC,GAAGsJ,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB1B,GAAxB,GAA4B,CAAhE;AACA6B,uBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BpF,CAA5B,GAAgCqJ,KAAK,CAACzE,EAAN,GAAWyE,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBzB,GAAxB,GAA4B,CAAvE;AACA;AACD,eATM,MASA;AACN4B,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBlE,QAAxB,CAAiChF,CAAjC,GAAqCqJ,KAAK,CAACzE,EAA3C;AACAyE,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB9D,GAAxB,CAA4BpF,CAA5B,GAAgCqJ,KAAK,CAACzE,EAAN,GAAWyE,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB3B,GAAnE;AACA8B,qBAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBhE,GAAxB,CAA4BlF,CAA5B,GAAgCqJ,KAAK,CAACzE,EAAN,GAAWyE,KAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwBzB,GAAnE;AACA;AACD;AACD;AACD;;AAED4B,aAAK,CAACrD,IAAN;;AACAqD,aAAK,CAACrB,SAAN;;AAEAoB,eAAO,GAAGF,SAAS,GAAGC,MAAM,GAAG,KAA/B;AAEA,OA9GD;AA+GA,WAAK/J,GAAL,CAASf,MAAT,CAAgBV,gBAAhB,CAAiC,OAAjC,EAA0C,UAAS2L,GAAT,EAAa;AACtD,YAAIU,IAAI,CAAC,EAAD,CAAJ,IAAY,CAACb,MAAjB,EAAyB;AACxBE,eAAK,CAACrG,MAAN,CAAakG,SAAb,EAAwB6B,QAAxB;;AACA1B,eAAK,CAACrD,IAAN;;AACAqD,eAAK,CAACrB,SAAN;;AACAqB,eAAK,CAACvB,MAAN,CAAakD,eAAb,GAA+B3B,KAAK,CAACvB,MAAN,CAAakD,eAAb,EAA/B,GAAgE,IAAhE;AACA;AACD,OAPD;AAQA,WAAK5L,GAAL,CAASf,MAAT,CAAgBV,gBAAhB,CAAiC,UAAjC,EAA6C,UAAS2L,GAAT,EAAa;AACzDD,aAAK,CAACrG,MAAN,CAAanB,MAAb,CAAoBqH,SAApB,EAA+B,CAA/B;;AACAE,eAAO,GAAGF,SAAS,GAAGC,MAAM,GAAG,KAA/B;AACAF,YAAI,GAAG,IAAP;AACA,aAAKpL,KAAL,CAAWkM,MAAX,GAAoB,SAApB;;AACAV,aAAK,CAACrD,IAAN;;AACAqD,aAAK,CAACrB,SAAN;;AACAqB,aAAK,CAACvB,MAAN,CAAamD,aAAb,GAA6B5B,KAAK,CAACvB,MAAN,CAAamD,aAAb,EAA7B,GAA4D,IAA5D;AACA,OARD;AAUA;;;WAED,kBAASlL,CAAT,EAAYC,CAAZ,EAAe;AAEd,WAAKgD,MAAL,CAAYjM,IAAZ,CAAiB,IAAI0O,iDAAJ,CAAgB1F,CAAhB,EAAmBC,CAAnB,EAAsB,KAAKZ,GAA3B,EAAgC,KAAKiG,UAArC,EAAiD,KAAKC,SAAtD,EAAiE,KAAKC,MAAtE,CAAjB;AAEA,WAAKvC,MAAL,CAAYkI,IAAZ,CAAiB,UAAS7I,CAAT,EAAY8I,CAAZ,EAAc;AAC9B,eAAO9I,CAAC,CAAC2C,QAAF,CAAWjF,CAAX,GAAeoL,CAAC,CAACnG,QAAF,CAAWjF,CAAjC;AACA,OAFD;;AAIA,WAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK+C,MAAL,CAAYjE,MAAhC,EAAwCkB,CAAC,EAAzC,EAA6C;AAC5C,YAAI4J,CAAC,GAAG,KAAK7G,MAAL,CAAY/C,CAAZ,CAAR;;AACA,YAAIF,CAAC,IAAI8J,CAAC,CAAC7E,QAAF,CAAWjF,CAAhB,IAAqBC,CAAC,IAAI6J,CAAC,CAAC7E,QAAF,CAAWhF,CAAzC,EAA4C;AAC3C,iBAAOC,CAAP;AACA;AACD;AAED;;;WAED,uBAAciH,KAAd,EAAqBC,IAArB,EAA2B;AAE1B,WAAK,IAAIlH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK+C,MAAL,CAAYjE,MAAhC,EAAwCkB,CAAC,EAAzC,EAA6C;AAC5C,aAAK+C,MAAL,CAAY/C,CAAZ,EAAemG,aAAf,CAA6Bc,KAA7B,EAAoCC,IAApC;AACA,aAAK9B,UAAL,GAAkB6B,KAAlB;AACA,aAAK5B,SAAL,GAAiB6B,IAAjB;AACA;;AACD,WAAKnB,IAAL;AAEA;;;WAED,sBAAakB,KAAb,EAAoB5H,KAApB,EAA2B;AAE1B,WAAKqI,SAAL,GAAiBT,KAAjB;AACA,WAAKxH,SAAL,GAAiBJ,KAAjB;AACA,WAAK0G,IAAL;AAEA;;;WAED,gBAAO;AAEN,WAAK5G,GAAL,CAASO,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,KAAKgF,EAA9B,EAAkC,KAAKC,EAAvC;AAEA,WAAKxF,GAAL,CAASI,WAAT,GAAuB,MAAvB;AACA,WAAKJ,GAAL,CAASM,SAAT,GAAqB,CAArB;;AAEA,WAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC5B,aAAKb,GAAL,CAASQ,SAAT;AACA,aAAKR,GAAL,CAASS,MAAT,CAAiB,KAAK8E,EAAL,GAAQ,EAAT,GAAa1E,CAAb,GAAe,GAA/B,EAAoC,CAApC;AACA,aAAKb,GAAL,CAASmB,MAAT,CAAiB,KAAKoE,EAAL,GAAQ,EAAT,GAAa1E,CAAb,GAAe,GAA/B,EAAoC,KAAK2E,EAAzC;AACA,aAAKxF,GAAL,CAASoB,MAAT;AACA;;AACD,WAAK,IAAIP,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG,CAApB,EAAuBA,EAAC,EAAxB,EAA4B;AAC3B,aAAKb,GAAL,CAASQ,SAAT;AACA,aAAKR,GAAL,CAASS,MAAT,CAAgB,CAAhB,EAAoB,KAAK+E,EAAL,GAAQ,CAAT,GAAY3E,EAAZ,GAAc,GAAjC;AACA,aAAKb,GAAL,CAASmB,MAAT,CAAgB,KAAKoE,EAArB,EAA0B,KAAKC,EAAL,GAAQ,CAAT,GAAY3E,EAAZ,GAAc,GAAvC;AACA,aAAKb,GAAL,CAASoB,MAAT;AACA;;AAED,WAAKpB,GAAL,CAASM,SAAT,GAAqB,GAArB;;AACA,WAAK,IAAIO,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG,EAApB,EAAwBA,GAAC,EAAzB,EAA6B;AAC5B,aAAKb,GAAL,CAASQ,SAAT;AACA,aAAKR,GAAL,CAASS,MAAT,CAAiB,KAAK8E,EAAL,GAAQ,EAAT,GAAa1E,GAAb,GAAe,GAA/B,EAAoC,CAApC;AACA,aAAKb,GAAL,CAASmB,MAAT,CAAiB,KAAKoE,EAAL,GAAQ,EAAT,GAAa1E,GAAb,GAAe,GAA/B,EAAoC,KAAK2E,EAAzC;AACA,aAAKxF,GAAL,CAASoB,MAAT;AACA;;AACD,WAAK,IAAIP,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG,EAApB,EAAwBA,GAAC,EAAzB,EAA6B;AAC5B,aAAKb,GAAL,CAASQ,SAAT;AACA,aAAKR,GAAL,CAASS,MAAT,CAAgB,CAAhB,EAAoB,KAAK+E,EAAL,GAAQ,EAAT,GAAa3E,GAAb,GAAe,GAAlC;AACA,aAAKb,GAAL,CAASmB,MAAT,CAAgB,KAAKoE,EAArB,EAA0B,KAAKC,EAAL,GAAQ,EAAT,GAAa3E,GAAb,GAAe,GAAxC;AACA,aAAKb,GAAL,CAASoB,MAAT;AACA;;AAED,WAAKpB,GAAL,CAASI,WAAT,GAAuB,KAAKmI,SAA5B;AACA,WAAKvI,GAAL,CAASM,SAAT,GAAqB,KAAKA,SAA1B;AAEA,WAAKN,GAAL,CAASQ,SAAT;AACA,WAAKR,GAAL,CAASS,MAAT,CAAgB,KAAKmD,MAAL,CAAY,CAAZ,EAAegC,QAAf,CAAwBjF,CAAxC,EAA2C,KAAKiD,MAAL,CAAY,CAAZ,EAAegC,QAAf,CAAwBhF,CAAnE;;AACA,WAAK,IAAIC,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG,KAAK+C,MAAL,CAAYjE,MAAhC,EAAwCkB,GAAC,EAAzC,EAA6C;AAC5C,YAAI4J,CAAC,GAAG,KAAK7G,MAAL,CAAY/C,GAAZ,CAAR;AACA,YAAImL,EAAE,GAAG,KAAKpI,MAAL,CAAY/C,GAAC,GAAC,CAAd,CAAT;AACA,aAAKb,GAAL,CAASiB,aAAT,CAAuB+K,EAAE,CAAClG,GAAH,CAAOnF,CAA9B,EAAiCqL,EAAE,CAAClG,GAAH,CAAOlF,CAAxC,EAA2C6J,CAAC,CAACzE,GAAF,CAAMrF,CAAjD,EAAoD8J,CAAC,CAACzE,GAAF,CAAMpF,CAA1D,EAA6D6J,CAAC,CAAC7E,QAAF,CAAWjF,CAAxE,EAA2E8J,CAAC,CAAC7E,QAAF,CAAWhF,CAAtF;AACA;;AACD,WAAKZ,GAAL,CAASoB,MAAT;;AAEA,WAAK,IAAIP,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG,KAAK+C,MAAL,CAAYjE,MAAhC,EAAwCkB,GAAC,EAAzC,EAA6C;AAC5C,aAAK+C,MAAL,CAAY/C,GAAZ,EAAe+F,IAAf;AACA;AAED;;;;;;;AAIF,IAAMgE,IAAI,GAAG,EAAb;AACAqB,MAAM,CAAC1N,gBAAP,CAAwB,SAAxB,EAAmC,UAASP,CAAT,EAAW;AAC7C4M,MAAI,CAAC5M,CAAC,CAACkO,OAAH,CAAJ,GAAkB,IAAlB;AACA,CAFD;AAGAD,MAAM,CAAC1N,gBAAP,CAAwB,OAAxB,EAAiC,UAASP,CAAT,EAAW;AAC3C,SAAO4M,IAAI,CAAC5M,CAAC,CAACkO,OAAH,CAAX;AACA,CAFD,E;;;;;;;;;;;;;;;;;;;;ICjgBqB5I,K;AAEpB,iBAAY3C,CAAZ,EAAeC,CAAf,EAAkBkH,KAAlB,EAAyBC,IAAzB,EAA+BF,OAA/B,EAAwC;AAAA;;AAEvC,SAAKlH,CAAL,GAASA,CAAT;AACA,SAAKC,CAAL,GAASA,CAAT;AACA,SAAKoH,CAAL,GAASD,IAAI,GAAC,CAAd;AACA,SAAKD,KAAL,GAAaA,KAAb;AACA,SAAK9H,GAAL,GAAW6H,OAAX;AAEA;;;;WAED,gBAAO;AAEN,WAAK7H,GAAL,CAASK,SAAT,GAAqB,KAAKyH,KAA1B;AACA,WAAK9H,GAAL,CAASQ,SAAT;AACA,WAAKR,GAAL,CAASmM,GAAT,CAAa,KAAKxL,CAAlB,EAAqB,KAAKC,CAA1B,EAA6B,KAAKoH,CAAlC,EAAqC,CAArC,EAAwCR,IAAI,CAAC4E,EAAL,GAAQ,CAAhD,EAAmD,KAAnD;AACA,WAAKpM,GAAL,CAASqM,SAAT;AACA,WAAKrM,GAAL,CAASqB,IAAT;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CClBF;;AACO,IAAMiL,MAAM,GAAG,IAAI/I,4DAAJ,CAAepG,iEAAf,EAA6B8G,qEAA7B,EAA+C,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAA/C,CAAf;AAEA,IAAMsI,MAAM,GAAG,IAAIhJ,4DAAJ,CAAepG,+DAAf,EAA2B8G,mEAA3B,EAA2C,CAAC,IAAD,EAAO,CAAP,EAAU,IAAV,EAAgB,CAAhB,CAA3C,CAAf;AACA,IAAMuI,OAAO,GAAG,IAAIjJ,4DAAJ,CAAepG,+DAAf,EAA2B8G,oEAA3B,EAA4C,CAAC,IAAD,EAAO,CAAP,EAAU,IAAV,EAAgB,CAAhB,CAA5C,CAAhB;AACA,IAAMwI,SAAS,GAAG,IAAIlJ,4DAAJ,CAAepG,+DAAf,EAA2B8G,uEAA3B,EAA+C,CAAC,IAAD,EAAO,CAAP,EAAU,IAAV,EAAgB,CAAhB,CAA/C,CAAlB;AAEA,IAAMyI,MAAM,GAAG,IAAInJ,4DAAJ,CAAepG,+DAAf,EAA2B8G,mEAA3B,EAA2C,CAAC,IAAD,EAAO,CAAP,EAAU,GAAV,EAAe,CAAf,CAA3C,CAAf;AACA,IAAM0I,OAAO,GAAG,IAAIpJ,4DAAJ,CAAepG,+DAAf,EAA2B8G,oEAA3B,EAA4C,CAAC,GAAD,EAAM,CAAN,EAAS,IAAT,EAAe,CAAf,CAA5C,CAAhB;AACA,IAAM2I,SAAS,GAAG,IAAIrJ,4DAAJ,CAAepG,+DAAf,EAA2B8G,uEAA3B,EAA+C,CAAC,IAAD,EAAO,CAAP,EAAU,IAAV,EAAgB,CAAhB,CAA/C,CAAlB;AAEA,IAAM4I,OAAO,GAAG,IAAItJ,4DAAJ,CAAepG,gEAAf,EAA4B8G,mEAA5B,EAA4C,CAAC,IAAD,EAAO,CAAP,EAAU,IAAV,EAAgB,CAAhB,CAA5C,CAAhB;AACA,IAAM6I,QAAQ,GAAG,IAAIvJ,4DAAJ,CAAepG,gEAAf,EAA4B8G,oEAA5B,EAA6C,CAAC,IAAD,EAAO,CAAP,EAAU,IAAV,EAAgB,CAAhB,CAA7C,CAAjB;AACA,IAAM8I,UAAU,GAAG,IAAIxJ,4DAAJ,CAAepG,gEAAf,EAA4B8G,uEAA5B,EAAgD,CAAC,IAAD,EAAO,CAAP,EAAU,IAAV,EAAgB,CAAhB,CAAhD,CAAnB;AAEA,IAAM+I,OAAO,GAAG,IAAIzJ,4DAAJ,CAAepG,gEAAf,EAA4B8G,mEAA5B,EAA4C,CAAC,GAAD,EAAM,CAAN,EAAS,IAAT,EAAe,CAAf,CAA5C,CAAhB;AACA,IAAMgJ,QAAQ,GAAG,IAAI1J,4DAAJ,CAAepG,gEAAf,EAA4B8G,oEAA5B,EAA6C,CAAC,IAAD,EAAO,CAAP,EAAU,GAAV,EAAe,CAAf,CAA7C,CAAjB;AACA,IAAMiJ,UAAU,GAAG,IAAI3J,4DAAJ,CAAepG,gEAAf,EAA4B8G,uEAA5B,EAAgD,CAAC,IAAD,EAAO,CAAP,EAAU,IAAV,EAAgB,CAAhB,CAAhD,CAAnB;AAEA,IAAMkJ,OAAO,GAAG,IAAI5J,4DAAJ,CAAepG,gEAAf,EAA4B8G,mEAA5B,EAA4C,CAAC,IAAD,EAAO,CAAP,EAAU,IAAV,EAAgB,CAAhB,CAA5C,CAAhB;AACA,IAAMmJ,QAAQ,GAAG,IAAI7J,4DAAJ,CAAepG,gEAAf,EAA4B8G,oEAA5B,EAA6C,CAAC,IAAD,EAAO,CAAP,EAAU,IAAV,EAAgB,CAAhB,CAA7C,CAAjB;AACA,IAAMoJ,UAAU,GAAG,IAAI9J,4DAAJ,CAAepG,gEAAf,EAA4B8G,uEAA5B,EAAgD,CAAC,IAAD,EAAO,CAAP,EAAU,IAAV,EAAgB,CAAhB,CAAhD,CAAnB;AAEA,IAAMqJ,MAAM,GAAG,IAAI/J,4DAAJ,CAAepG,+DAAf,EAA2B8G,mEAA3B,EAA2C,CAAC,GAAD,EAAM,CAAN,EAAS,IAAT,EAAe,CAAf,CAA3C,CAAf;AACA,IAAMsJ,OAAO,GAAG,IAAIhK,4DAAJ,CAAepG,+DAAf,EAA2B8G,oEAA3B,EAA4C,CAAC,IAAD,EAAO,CAAP,EAAU,GAAV,EAAe,CAAf,CAA5C,CAAhB;AACA,IAAMuJ,SAAS,GAAG,IAAIjK,4DAAJ,CAAepG,+DAAf,EAA2B8G,uEAA3B,EAA+C,CAAC,IAAD,EAAO,CAAP,EAAU,IAAV,EAAgB,CAAhB,CAA/C,CAAlB;AAEA,IAAMwJ,MAAM,GAAG,IAAIlK,4DAAJ,CAAepG,+DAAf,EAA2B8G,mEAA3B,EAA2C,CAAC,IAAD,EAAO,CAAP,EAAU,CAAV,EAAa,IAAb,CAA3C,CAAf;AACA,IAAMyJ,OAAO,GAAG,IAAInK,4DAAJ,CAAepG,+DAAf,EAA2B8G,oEAA3B,EAA4C,CAAC,CAAD,EAAI,IAAJ,EAAU,IAAV,EAAgB,CAAhB,CAA5C,CAAhB;AACA,IAAM0J,SAAS,GAAG,IAAIpK,4DAAJ,CAAepG,+DAAf,EAA2B8G,uEAA3B,EAA+C,CAAC,IAAD,EAAO,CAAP,EAAU,IAAV,EAAgB,CAAhB,CAA/C,CAAlB;AAEA,IAAM2J,MAAM,GAAG,IAAIrK,4DAAJ,CAAepG,+DAAf,EAA2B8G,mEAA3B,EAA2C,CAAC,IAAD,EAAO,CAAP,EAAU,IAAV,EAAgB,CAAC,IAAjB,CAA3C,CAAf;AACA,IAAM4J,OAAO,GAAG,IAAItK,4DAAJ,CAAepG,+DAAf,EAA2B8G,oEAA3B,EAA4C,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,CAAnB,CAA5C,CAAhB;AACA,IAAM6J,SAAS,GAAG,IAAIvK,4DAAJ,CAAepG,+DAAf,EAA2B8G,uEAA3B,EAA+C,CAAC,IAAD,EAAO,CAAC,GAAR,EAAa,IAAb,EAAmB,GAAnB,CAA/C,CAAlB;AAEA,IAAM8J,MAAM,GAAG,IAAIxK,4DAAJ,CAAepG,iEAAf,EAA6B8G,qEAA7B,EAA+C,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAA/C,CAAf,C;;;;;;;;;;;;;;;;;;;;ICrCc+J,S;AACjB,qBAAYC,gBAAZ,EAA8BC,gBAA9B,EAAgD;AAAA;;AAC5C,SAAKC,QAAL,GAAgBF,gBAAhB;AACA,SAAKG,QAAL,GAAgBF,gBAAgB,CAACnK,KAAjB,EAAhB;AACH;;;;WAED,mBAAU9G,WAAV,EAAuB;AACnB,WAAKmR,QAAL,CAAcnR,WAAd,GAA4BA,WAA5B;AACA,aAAO,IAAP;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;ICTgBoR,O;AACjB,mBAAYC,OAAZ,EAAqB;AAAA;;AACjB,SAAKC,QAAL,GAAgBD,OAAhB;AACA,SAAKE,eAAL,GAAuB,KAAKC,cAAL,CAAoBH,OAApB,EAA6B,KAAKI,WAAlC,CAAvB;AACH;;;;WAED,qBAAYC,YAAZ,EAA0B;AACtB,aAAO,KAAKJ,QAAL,CAAclX,IAAd,CAAmB,UAAAuX,KAAK;AAAA,eAAIA,KAAK,CAACT,QAAN,KAAmBQ,YAAvB;AAAA,OAAxB,CAAP;AACH;;;WAED,4BAAmBA,YAAnB,EAAiC;AAC7B,aAAO,KAAKJ,QAAL,CAAc/W,IAAd,CAAmB,UAAAoX,KAAK;AAAA,eAAIA,KAAK,CAACT,QAAN,KAAmBQ,YAAvB;AAAA,OAAxB,EAA6DP,QAApE;AACH;;;WAED,4BAAmBS,YAAnB,EAAiC;AAC7B,aAAO,KAAKN,QAAL,CAAc/W,IAAd,CAAmB,UAAAoX,KAAK;AAAA,eAAIA,KAAK,CAACR,QAAN,CAAe3W,QAAf,OAA8BoX,YAAY,CAACpX,QAAb,EAAlC;AAAA,OAAxB,EAAmF0W,QAA1F;AACH;;;WAED,wBAAeG,OAAf,EAAwBQ,YAAxB,EAAsC;AAClC,UAAMC,OAAO,GAAG,EAAhB;AAEAT,aAAO,CAAC1O,OAAR,CAAgB,UAACgP,KAAD,EAAQ/N,CAAR,EAAc;AAC1BkO,eAAO,CAACD,YAAY,CAACF,KAAD,EAAQ/N,CAAR,CAAb,CAAP,GAAkC+N,KAAlC;AACH,OAFD;AAIA,aAAOG,OAAP;AACH;;;WAED,qBAAYH,KAAZ,EAAmB;AACf,uBAAUA,KAAK,CAACR,QAAN,CAAevR,KAAzB,cAAkC+R,KAAK,CAACR,QAAN,CAAehT,WAAjD;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9BL;;IAEqB1D,U;AACjB,wBAAwB;AAAA;;AAAA,sCAAT4W,OAAS;AAATA,aAAS;AAAA;;AACpB,SAAKU,QAAL,GAAgBV,OAAO,CAACxM,GAAR,CAAY,UAAA8M,KAAK;AAAA,aAAIA,KAAK,CAACR,QAAV;AAAA,KAAjB,CAAhB;AACA,SAAKa,QAAL,GAAgB,IAAIZ,6CAAJ,CAAYC,OAAZ,CAAhB;AACH;;;;WAED,8BAAqB;AACjB;AACA,aAAO,IAAP;AACH;;;WAED,2BAAkBK,YAAlB,EAAgC;AAC5B,aAAO,CAAC,CAACA,YAAF,IAAkB,KAAKM,QAAL,CAAcC,WAAd,CAA0BP,YAA1B,CAAzB;AACH;;;WAED,iBAAOA,YAAP,EAAqB;AACjB,aAAO,KAAKM,QAAL,CAAcE,kBAAd,CAAiCR,YAAjC,CAAP;AACH;;;WAED,iBAAOE,YAAP,EAAqB;AACjB,aAAO,KAAKI,QAAL,CAAcG,kBAAd,CAAiCP,YAAjC,CAAP;AACH;;;WAED,oBAAW;AACP,+BAAkBnX,UAAU,CAAC2X,UAA7B;AACH;;;SAED,eAAc;AACV,aAAO,KAAKL,QAAZ;AACH;;;;;;gBA7BgBtX,U,gBA+BG,sB;;;;;;;;;;;;;;;;ACjCxB;AACA,03DAA03D;AAC13D;AACA,iEAAe,IAAI,E;;;;;;;;;;;ACHnB;;;;;;;;;;;ACAA,qD;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,gCAAgC,YAAY;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAM4X,WAAW,GAAG,IAAIpY,iDAAJ,EAApB;;AAEA,SAASqY,OAAT,CAAiBtX,MAAjB,EAAyBC,QAAzB,EAAmC;AAC/B,MAAMd,IAAI,GAAGa,MAAM,CAACC,QAAD,CAAnB;;AAEA,MAAIoX,WAAW,CAACE,QAAZ,CAAqBpY,IAArB,CAAJ,EAAgC;AAC5B,WAAOY,yDAAA,CAAgB,IAAhB,EAAsBC,MAAtB,EAA8BC,QAA9B,EAAwCoX,WAAW,CAACG,uBAAZ,CAAoCrY,IAApC,CAAxC,CAAP;AACH,GAFD,MAGK;AACDQ,WAAO,CAACC,IAAR,CAAa,iCAAb;AACH;AACJ;;AAEM,SAAS6X,MAAT,CAAgB3X,GAAhB,EAAqB;AACxBA,KAAG,CAACe,GAAJ,CAAQ1B,IAAR,GAAekY,WAAf;AAEA,MAAMvS,GAAG,GAAGhF,GAAG,CAAC4X,GAAJ,CAAQC,SAAR,CAAkB7S,GAA9B;;AACA,WAAS8S,WAAT,CAAqB5X,MAArB,EAA6BC,QAA7B,EAAuC;AACnC,QAAMyB,KAAK,GAAG1B,MAAM,CAACC,QAAD,CAAN,IAAoBD,MAAlC;;AAEA,QAAIqX,WAAW,CAACE,QAAZ,CAAqB7V,KAArB,CAAJ,EAAiC;AAC7B,aAAO4V,OAAO,CAAC7U,IAAR,OAAA6U,OAAO,GAAM,IAAN,oCAAe5U,SAAf,GAAd;AACH,KAFD,MAGK;AACD,aAAOoC,GAAG,CAACrC,IAAJ,OAAAqC,GAAG,GAAM,IAAN,oCAAepC,SAAf,GAAV;AACH;AACJ;;AAED5C,KAAG,CAAC4X,GAAJ,CAAQC,SAAR,CAAkB7S,GAAlB,GAAwB8S,WAAxB;AACA9X,KAAG,CAACe,GAAJ,CAAQ6W,GAAR,CAAYC,SAAZ,CAAsB7S,GAAtB,GAA4B8S,WAA5B;AAEA9X,KAAG,CAAC4X,GAAJ,CAAQC,SAAR,CAAkBL,OAAlB,GAA4BA,OAA5B;AACAxX,KAAG,CAACe,GAAJ,CAAQ6W,GAAR,CAAYC,SAAZ,CAAsBL,OAAtB,GAAgCA,OAAhC;AAEA,SAAOD,WAAP;AACH;AAED;AAYA,iEAAe;AACXI,QAAM,EAANA;AADW,CAAf,E","file":"dat.gui.ease.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"dat.gui\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"dat.gui\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"datGuiEase\"] = factory(require(\"dat.gui\"));\n\telse\n\t\troot[\"datGuiEase\"] = factory(root[\"dat\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE_dat_gui__) {\nreturn ","import Middleware from \"./middleware/Middleware\";\n\nexport default class EaseManager {\n    constructor() {\n        this._middlewares = [];\n    }\n\n    /**\n     * Checks whether a compatible middleware for ease was provided\n     * @param {Ease} ease - Ease instance of animation library of your choice\n     * @return {boolean}\n     */\n    supports(ease) {\n        return this._middlewares.some(middleware => middleware.isFormatSupported(ease));\n    }\n\n    /**\n     * Returns a compatible middleware for ease\n     * @param {Ease} ease - Ease instance of animation library of your choice\n     * @return {Middleware | null}\n     */\n    getCompatibleMiddleware(ease) {\n        return this._middlewares.find(middleware => middleware.isFormatSupported(ease)) || null;\n    }\n\n     /**\n     * Register middleware to handle Ease objects of animation library of your choice\n     * @param {Middleware} middleware - Middleware instance\n     * @return {this} self reference for chaining.\n     */\n    use(middleware) {\n        // TODO: fix transpilation problem to use \"instanceof\" here\n        if (middleware.toString() === `[object ${Middleware.CLASS_NAME}]`) {\n            this._middlewares.push(middleware);\n        }\n        else {\n            console.warn(\"Middleware instance expected\");\n        }\n    }\n}","import * as dat from \"dat.gui\";\nimport EaseController from \"./controller/EaseController\";\nconst dom = dat.dom.dom;\n\nexport default function addEaseGUI(object, property, middleware) {\n    const controller = new EaseController(object, property, middleware);\n\n    // Partial copy of add() method\n    // https://github.com/dataarts/dat.gui/blob/40f4fc193e25ee51e7e57dfbbfc3118b3927169f/src/dat/gui/GUI.js#L1152\n    _recallSavedValue(this, controller);\n\n    const li = _addRow(this);\n    dom.addClass(li, \"cr\");\n    dom.addClass(li, 'ease');\n    li.appendChild(controller.domElement);\n\n    _augmentController(this, li, controller);\n\n    this.__controllers.push(controller);\n\n    return controller;\n}\n\n\nconst DEFAULT_DEFAULT_PRESET_NAME = 'Default';\n// Copy of recallSavedValue() method\n// https://github.com/dataarts/dat.gui/blob/40f4fc193e25ee51e7e57dfbbfc3118b3927169f/src/dat/gui/GUI.js#L1080\nfunction _recallSavedValue(gui, controller) {\n    const root = gui.getRoot();\n    const matchedIndex = root.__rememberedObjects.indexOf(controller.object);\n\n    if (matchedIndex !== -1) {\n        let controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];\n\n        if (controllerMap === undefined) {\n            controllerMap = {};\n            root.__rememberedObjectIndecesToControllers[matchedIndex] = controllerMap;\n        }\n\n        controllerMap[controller.property] = controller;\n\n        if (root.load && root.load.remembered) {\n            const presetMap = root.load.remembered;\n\n            let preset;\n\n            if (presetMap[gui.preset]) {\n                preset = presetMap[gui.preset];\n            } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {\n                preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME];\n            } else {\n                return;\n            }\n\n            if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {\n                const value = preset[matchedIndex][controller.property];\n\n                controller.initialValue = value;\n                controller.setValue(value);\n            }\n        }\n    }\n}\n\n// Partial copy of addRow() method\n// https://github.com/dataarts/dat.gui/blob/40f4fc193e25ee51e7e57dfbbfc3118b3927169f/src/dat/gui/GUI.js#L889\nfunction _addRow(gui) {\n    const li = document.createElement('li');\n    gui.__ul.appendChild(li);\n    gui.onResize();\n    return li;\n}\n\n// Partial copy of augmentController() method\n// https://github.com/dataarts/dat.gui/blob/40f4fc193e25ee51e7e57dfbbfc3118b3927169f/src/dat/gui/GUI.js#L922\nfunction _augmentController(gui, li, controller) {\n    controller.__li = li;\n    controller.__gui = this;\n\n    controller.name = function (name) {\n        this.__li.querySelector(\".property-name\").innerHTML = name;\n        return this;\n    };\n\n    controller.listen = function () {\n        this.__gui.listen(this);\n        return this;\n    };\n\n    controller.remove = function () {\n        this.__gui.remove(this);\n        return this;\n    };\n\n    const setValue = controller.setValue;\n    controller.setValue = function setValueOverride(value) {\n        setValue.call(controller, ...arguments);\n        if (gui.getRoot().__preset_select && controller.isModified()) {\n            _markPresetModified(gui.getRoot(), true);\n        }\n        return value;\n    }\n}\n\n// Copy of markPresetModified() method\n// https://github.com/dataarts/dat.gui/blob/40f4fc193e25ee51e7e57dfbbfc3118b3927169f/src/dat/gui/GUI.js#L912\nfunction _markPresetModified(gui, modified) {\n    const opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n  \n    if (modified) {\n      opt.innerHTML = opt.value + '*';\n    } else {\n      opt.innerHTML = opt.value;\n    }\n}","import * as dat from \"dat.gui\";\nimport guiTemplate from \"../dom/gui.html\";\nimport Ease from '../ease/Ease';\nimport { Curve } from \"../ease/preset/EasePreset\";\nimport EaseEditor, { EditorCurveChangeEvent } from \"../editor/EaseEditor\";\nimport interpret from \"./interpret\";\n\nexport default class EaseController extends dat.controllers.Controller {\n    constructor(object, property, middleware) {\n        super(...arguments);\n\n        const rawEase = object[property];\n        const ease = middleware.import(rawEase);\n        \n        this._orientation = ease.orientation;\n        this._ease = ease;\n        this._preEditEase = null;\n        this._editor = null;\n\n        this._middleware = middleware;\n        this._initDOM();\n\n        this.domElement.querySelector(\".property-name\").innerHTML = property;\n        this._updateSelectors(ease);\n        this._updateCornerCurve(ease);\n    }\n\n    getValue() {\n        return this._ease.toString();\n    }\n\n    // Use primitive type here to support serialization for `dat.GUI.prototype.getSaveObject()`\n    setValue(easeString) {\n        this._ease = interpret(easeString);\n        this._applyValue(this._ease);\n    }\n\n    isModified() {\n        return this.initialValue.toString() !== this._ease.toString();\n    }\n\n    _applyValue(ease) {\n        this.object[this.property] = this._middleware.export(ease);\n        if (this.__onChange) {\n            this.__onChange.call(this, ease);\n        }\n        if (this.__onFinishChange) {\n            this.__onFinishChange.call(this, ease);\n        }\n        this._updateElements(ease);\n        this.updateDisplay();\n    }\n\n    _initDOM() {\n        this.domElement = this._renderTemplate(guiTemplate);\n        \n        this._initCurveSelector();\n        this._initOrientationSelector();\n        this._initCustomPathSelector();\n        this._initButtons();\n    }\n\n    _initCurveSelector() {\n        const curveSelectElement = this.domElement.querySelector(\".curve-selector\");\n        const curves = [];\n\n        for (let preset of this._middleware.presets) {\n            if (curves.includes(preset.curve)) continue;\n            curves.push(preset.curve);\n            curveSelectElement.options.add(new Option(preset.displayName, preset.curve));\n        }\n\n        const custom = new Option(Curve.CUSTOM, Curve.CUSTOM);\n        custom.setAttribute(\"hidden\", true);\n        curveSelectElement.options.add(custom);\n\n        curveSelectElement.onchange = () => {\n            const prevEase = this._ease;\n            const curve = curveSelectElement.value;\n            const orientations = this._getCurveOrientations(curve);\n            const ease = this._getTemplateByCurveAndOrientation(curve, orientations.includes(prevEase.orientation) ? prevEase.orientation : orientations[0]); \n\n            this.setValue(ease.toString());\n        };\n    }\n\n    _initOrientationSelector() {\n        const orientationSelectElement = this.domElement.querySelector(\".orientation-selector\");\n\n        orientationSelectElement.onchange = () => {\n            const ease = this._getTemplateByCurveAndOrientation(this._ease.curve, orientationSelectElement.value); \n\n            this.setValue(ease.toString());\n        };\n    }\n\n    _initCustomPathSelector() {\n        const customPathSelectElement = this.domElement.querySelector(\".path-selector\");\n\n        customPathSelectElement.oninput = event => {\n            const svgPath = customPathSelectElement.value;\n\n            try {\n                this.setValue(Ease.fromSVGPath(svgPath).toString());\n            }\n            catch(e) {\n                console.warn(`Couldn't parse SVG path ${svgPath}`);\n            }\n        }\n    }\n\n    _initButtons() {\n        this._initEditButton();\n        this._initCopyButton();\n        this._initAcceptButton();\n        this._initDeclineButton();\n    }\n\n    _initEditButton() {\n        const buttonElement = this.domElement.querySelector(\".edit-button\");\n        if (this._middleware.isEditingSupported()) {\n            buttonElement.addEventListener(\"click\", () => {\n                this._preEditEase = this._ease;\n                this._openEditor(this._ease);\n            });\n        }\n        else {\n            buttonElement.style.display = \"none\";\n        }\n    }\n\n    _initCopyButton() {\n        const buttonElement = this.domElement.querySelector(\".copy-button\");\n        const pathInspectorElement = this.domElement.querySelector(\".path-selector\");\n\n        buttonElement.addEventListener(\"click\", () => {\n            pathInspectorElement.select();\n            document.execCommand(\"copy\");\n            console.info(`Copied ${pathInspectorElement.value}`);\n        });\n    }\n\n    _initAcceptButton() {\n        const buttonElement = this.domElement.querySelector(\".accept-button\");\n\n        buttonElement.addEventListener(\"click\", () => this._closeEditor());\n    }\n\n    _initDeclineButton() {\n        const buttonElement = this.domElement.querySelector(\".decline-button\");\n\n        buttonElement.addEventListener(\"click\", () => {\n            this._closeEditor();\n            this.setValue(this._preEditEase.toString());\n        });\n    }\n\n    _openEditor(ease) {\n        this._toggleEditMode(true);\n        const canvas = this.domElement.querySelector(\".editor\");\n        const editor = new EaseEditor(canvas);\n        editor.ease = ease;\n        \n        canvas.addEventListener(EditorCurveChangeEvent.KEY, () => {\n            this.setValue(editor.ease.toString());\n        });\n\n        this._editor = editor;\n    }\n\n    _closeEditor() {\n        // Hack to reset event listeners assigned by CurveJS to original canvas\n        const canvas = this.domElement.querySelector(\".editor\");\n        const canvasClone = canvas.cloneNode(true);\n\n        canvas.parentNode.replaceChild(canvasClone, canvas);\n\n        this._toggleEditMode(false);\n        this._editor = null;\n    }\n\n    _updateElements(ease) {\n        this._updateSelectors(ease);\n        this._updatePathInspector(this._ease);\n        this._updateCornerCurve(this._ease);\n        \n        if (this._editor) {\n            this._editor.ease = this._ease;\n        }\n    }\n\n    _updateOrientations(orientations = [], orientationToSelect = undefined) {\n        const orientationSelectElement = this.domElement.querySelector(\".orientation-selector\");\n        orientationSelectElement.options.length = 0;\n        \n        if (orientations.length > 0) {\n            orientations.forEach(orientation => orientationSelectElement.options.add(new Option(orientation, orientation)));\n            orientationSelectElement.value = orientations.includes(orientationToSelect) ? orientationToSelect : orientations[0];\n            orientationSelectElement.removeAttribute(\"disabled\");\n        }\n        else {\n            orientationSelectElement.setAttribute(\"disabled\", true);\n        }\n    }\n\n    _updateSelectors(ease) {\n        const curveSelectElement = this.domElement.querySelector(\".curve-selector\");\n        const orientationSelectElement = this.domElement.querySelector(\".orientation-selector\");\n\n        curveSelectElement.value = ease.curve;\n        \n        this._updatePathInspector(ease);\n        this._updateOrientations(this._getCurveOrientations(ease.curve), ease.orientation);\n        orientationSelectElement.value = ease.orientation;\n    }\n\n    _updateCornerCurve(ease) {\n        const cornerCanvas = this.domElement.querySelector(\"canvas.corner-curve\");\n        const ctx = cornerCanvas.getContext(\"2d\");\n        const width = ctx.canvas.width = 60;\n        const height = ctx.canvas.height = 60;\n\n        ctx.strokeStyle = ctx.fillStyle = \"#88CE02\";\n\t\tctx.lineWidth = 1;\n        ctx.clearRect(0, 0, width, height);\n        ctx.beginPath();\n\t\tctx.moveTo(ease.firstAnchor.x * width, (1 - ease.firstAnchor.y) * height);\n        \n        for (let i = 0; i < ease.anchors.length; i += 2) {\n            const startAnchor = ease.anchors[i];\n            const endAnchor = ease.anchors[i + 1];\n\n            ctx.bezierCurveTo(startAnchor.handle.x * width, (1 - startAnchor.handle.y) * height, endAnchor.handle.x * width, (1 - endAnchor.handle.y) * height, endAnchor.x * width, (1 - endAnchor.y) * height);\n        }\n\n        ctx.lineTo(width, height);\n        ctx.lineTo(0, height);\n        ctx.stroke();\n        ctx.fill();\n    }\n\n    _updatePathInspector(ease) {\n        const pathInspectorElement = this.domElement.querySelector(\".path-selector\");\n        pathInspectorElement.value = Ease.toSVGPath(ease);\n    }\n\n    _toggleEditMode(flag) {\n        if (flag) {\n            this.domElement.classList.remove(\"mode-select\");\n            this.domElement.classList.add(\"mode-edit\");\n        }\n        else {\n            this.domElement.classList.remove(\"mode-edit\");\n            this.domElement.classList.add(\"mode-select\");\n        }\n    }\n\n    _renderTemplate(template) {\n        return (new DOMParser()).parseFromString(template, \"text/html\").body.firstChild;\n    }\n\n    _getCurveOrientations(curve) {\n        return this._getCurveTemplates(curve).map(template => template.orientation);\n    }\n\n    _getCurveTemplates(curve) {\n        return this._middleware.presets.filter(preset => preset.curve === curve);\n    }\n\n    _getTemplateBySelectorsValues() {\n        const curve = this.domElement.querySelector(\".curve-selector\").value;\n        const orientation = this.domElement.querySelector(\".orientation-selector\").value;\n\n        return this._getTemplateByCurveAndOrientation(curve, orientation);              \n    }\n\n    _getTemplateByCurveAndOrientation(curve, orientation) {\n        return this._middleware.presets.find(preset => preset.curve === curve && preset.orientation === orientation);                \n    }\n};","import * as presets from \"../editor/presets\";\nimport Ease from \"../ease/Ease\";\n\nconst presetsMap = _createPresetsMap(presets);\n\nexport default function interpret(easeString) {\n    return presetsMap[easeString] || Ease.fromSVGPath(easeString);\n}\n\nfunction _createPresetsMap(presets) {\n    const presetsMap = {};\n    \n    for (let preset of Object.values(presets)) {\n        presetsMap[preset.toString()] = preset;\n    }\n\n    return presetsMap;\n}","import Anchor from \"./composites/Anchor\";\nimport Handle from \"./composites/Handle\";\nimport Point from \"./composites/Point\";\n\nexport default class Ease {\n    constructor(...anchors) {\n        this._anchors = anchors;\n    }\n\n    static fromSVGPath(svgPath) {\n        const ease = new Ease();\n        const [startX, startY] = svgPath.match(/M ?(?<x>\\d+),(?<y>\\d+)/).splice(-2).map(Number.parseFloat);\n        const cCoords = svgPath.replace(/^M.*C ?/, \"\").replace(/ *$/, \"\").split(/[ ,]/).map(Number.parseFloat);\n        \n        ease.anchors[0] = new Anchor(startX, startY);\n        ease.anchors[0].handle.x = cCoords[0];\n        ease.anchors[0].handle.y = cCoords[1];\n\n        for (let i = 2; i < cCoords.length - 4; i += 6) {\n            const a = (i - 2) / 3 + 1;\n            \n            ease.anchors[a] = new Anchor(cCoords[i + 2], cCoords[i + 3]);\n            ease.anchors[a].handle.x = cCoords[i];\n            ease.anchors[a].handle.y = cCoords[i + 1];\n            \n            ease.anchors[a + 1] = new Anchor(cCoords[i + 2], cCoords[i + 3]);\n            ease.anchors[a + 1].handle.x = cCoords[i + 4];\n            ease.anchors[a + 1].handle.y = cCoords[i + 5];\n        }\n\n        const lastAnchor = new Anchor(...cCoords.slice(-2));\n        lastAnchor.handle.x = cCoords[cCoords.length - 4];\n        lastAnchor.handle.y = cCoords[cCoords.length - 3];\n        ease.anchors.push(lastAnchor);\n\n        return ease;\n    }\n\n    static toSVGPath(ease) {\n        let path = `M ${ease.firstAnchor.x},${ease.firstAnchor.y} C`;\n\n        for (let i = 0; i < ease.anchors.length; i += 2) {\n            const startAnchor = ease.anchors[i];\n            const endAnchor = ease.anchors[i + 1];\n            \n            path += ` ${startAnchor.handle.x},${startAnchor.handle.y} ${endAnchor.handle.x},${endAnchor.handle.y} ${endAnchor.x},${endAnchor.y}`;\n        }\n\n        return path;\n    }\n\n    get anchors() {\n        return this._anchors;\n    }\n\n    get firstAnchor() {\n        return this._anchors[0];\n    }\n\n    get lastAnchor() {\n        return this._anchors[this._anchors.length - 1];\n    }\n    \n    addAnchor(x, y) {\n        const anchor = new Anchor(x, y);\n        this.anchors.push(anchor);\n        return anchor;\n    }\n\n    toString() {\n        return Ease.toSVGPath(this);\n    }\n}\n\nexport {\n    Anchor,\n    Handle,\n    Point\n}","import Handle from \"./Handle\";\nimport Point from \"./Point\";\n\nexport default class Anchor extends Point {\n    constructor(x, y) {\n        super(x, y);\n        this.handle = new Handle(x, y);\n    }\n}","import Point from \"./Point\";\n\nexport default class Handle extends Point {\n    \n}","export default class Point {\n    constructor(x = 0, y = 0) {\n        this.x = x;\n        this.y = y;\n    }\n}","import Ease, { Anchor } from \"../Ease\";\nimport Curve from \"./enum/Curve\";\nimport Orientation from \"./enum/Orientation\";\n\nexport {\n    Curve,\n    Orientation\n}\n\nexport default class EasePreset extends Ease {\n    static CURVE = Curve;\n    static ORIENTATION = Orientation;\n\n    constructor(curve = EasePreset.CURVE.LINEAR, orientation = EasePreset.ORIENTATION.NONE, points = [0, 0, 1, 1]) {\n        super(..._parseAnchors(points));\n        this.curve = curve;\n        this.orientation = orientation;\n        this._alias = null;\n    }\n\n    get name() {\n        return this._alias || this.curve;\n    }\n\n    clone() {\n        const clone = new EasePreset(this.curve, this.orientation);\n        clone.anchors.length = 0;\n        \n        this.anchors.forEach(anchor => {\n            const anchorClone = new Anchor(anchor.x, anchor.y);\n            anchorClone.handle.x = anchor.handle.x;\n            anchorClone.handle.y = anchor.handle.y;\n            clone.anchors.push(anchorClone);\n        });\n        \n        return clone;\n    }\n\n    alias(value) {\n        this._alias = value;\n        return this;\n    }\n\n    toString() {\n        return `${this.curve}.${this.orientation}`;\n    }\n}\n\nfunction _parseAnchors(points) {\n    const startAnchor = new Anchor(0, 0);\n    const endAnchor = new Anchor(1, 1);\n\n    startAnchor.handle.x = points[0];\n    startAnchor.handle.y = points[1];\n    endAnchor.handle.x = points[2];\n    endAnchor.handle.y = points[3];\n\n    return [startAnchor, endAnchor];\n}","export default Object.freeze({\n    LINEAR: \"Linear\",\n    SINE: \"Sine\",\n    QUAD: \"Quad\",\n    CUBIC: \"Cubic\",\n    QUART: \"Quart\",\n    QUINT: \"Quint\",\n    EXPO: \"Expo\",\n    CIRC: \"Circ\",\n    BACK: \"Back\",\n    ELASTIC: \"Elastic\",\n    BOUNCE: \"Bounce\",\n    CUSTOM: \"Custom\"\n});\n","export default Object.freeze({\n    IN: \"in\",\n    OUT: \"out\",\n    IN_OUT: \"inOut\",\n    NONE: \"none\"\n});","import CurveJS from \"./lib/curvesjs/Curve\";\nimport BezierPoint from \"./lib/curvesjs/BezierPoint\";\nimport { EditorCurveChangeEvent } from \"./events\";\nimport Ease from \"../ease/Ease\";\n\nexport default class EaseEditor {\n  constructor(canvas) {\n    this._canvas = canvas;\n    this._ctx = this._prepareContext(canvas);\n    this._curve = this._createCurveJSInstance(this._ctx);\n    this._propagateEvents(this._curve, canvas);\n  }\n\n  set ease(ease) {\n    const { points, pointColor, pointSize, cpDist } = this._curve;\n    const { anchors, firstAnchor, lastAnchor } = ease;\n    points.length = 0;\n\n    const firstPoint = new BezierPoint(this._toCanvasX(firstAnchor.x), this._toCanvasY(firstAnchor.y), this._ctx, pointColor, pointSize, cpDist);\n    firstPoint.cp2.x = this._toCanvasX(firstAnchor.handle.x);\n    firstPoint.cp2.y = this._toCanvasY(firstAnchor.handle.y);\n    firstPoint.cp1.x = -firstPoint.cp2.x;\n    firstPoint.cp1.y = -firstPoint.cp2.y;\n    points.push(firstPoint);\n\n    for (let i = 1; i < anchors.length - 1; i += 2) {\n      const precedingCurveEndAnchor = anchors[i];\n      const followingCurveStartAnchor = anchors[i + 1];\n      const point = new BezierPoint(this._toCanvasX(precedingCurveEndAnchor.x), this._toCanvasY(precedingCurveEndAnchor.y), this._ctx, pointColor, pointSize, cpDist);\n\n      point.cp1.x = this._toCanvasX(precedingCurveEndAnchor.handle.x);\n      point.cp1.y = this._toCanvasY(precedingCurveEndAnchor.handle.y);\n      point.cp2.x = this._toCanvasX(followingCurveStartAnchor.handle.x);\n      point.cp2.y = this._toCanvasY(followingCurveStartAnchor.handle.y);\n\n      points.push(point);\n    }\n\n    const lastPoint = new BezierPoint(this._toCanvasX(lastAnchor.x), this._toCanvasY(lastAnchor.y), this._ctx, pointColor, pointSize, cpDist);\n    lastPoint.cp1.x = this._toCanvasX(lastAnchor.handle.x);\n    lastPoint.cp1.y = this._toCanvasY(lastAnchor.handle.y);\n    lastPoint.cp2.x = -lastPoint.cp1.x;\n    lastPoint.cp2.y = -lastPoint.cp1.y;\n    points.push(lastPoint);\n\n    this._curve.draw();\n  }\n\n  get ease() {\n    const ease = new Ease();\n    const { cw, ch, points } = this._curve;\n\n    for (let i = 0; i < points.length - 1; i++) {\n      const startPoint = points[i];\n      const startAnchor = ease.addAnchor(this._fromCanvasX(startPoint.position.x), this._fromCanvasY(startPoint.position.y));\n      startAnchor.handle.x = this._fromCanvasX(startPoint.cp2.x);\n      startAnchor.handle.y = this._fromCanvasY(startPoint.cp2.y);\n\n      const endPoint = points[i + 1];\n      const endAnchor = ease.addAnchor(this._fromCanvasX(endPoint.position.x), this._fromCanvasY(endPoint.position.y));\n      endAnchor.handle.x = this._fromCanvasX(endPoint.cp1.x);\n      endAnchor.handle.y = this._fromCanvasY(endPoint.cp1.y);\n    }\n\n    return ease;\n  }\n\n  _prepareContext(canvas) {\n    const ctx = canvas.getContext(\"2d\");\n    ctx.canvas.width = canvas.clientWidth;\n    ctx.canvas.height = canvas.clientHeight;\n    return ctx;\n  }\n\n  _createCurveJSInstance(ctx) {\n    const curve = new CurveJS(ctx);\n\n    curve.setPointStyle('#ffffff', 8);\n    curve.setLineStyle('#ace247', 2);\n\n    return curve;\n  }\n\n  _propagateEvents(curve, canvas) {\n    curve.on('drag', () => canvas.dispatchEvent(new EditorCurveChangeEvent()));\n    curve.on('newpoint', () => canvas.dispatchEvent(new EditorCurveChangeEvent()));\n    curve.on('removepoint', () => canvas.dispatchEvent(new EditorCurveChangeEvent()));\n  }\n\n  _toCanvasX(x) {\n    return x * this._curve.cw;\n  }\n\n  _toCanvasY(y) {\n    return (1 - y) * this._curve.ch;\n  }\n\n  _fromCanvasX(x) {\n    return this._round(x / this._curve.cw);\n  }\n\n  _fromCanvasY(y) {\n    return this._round(1 - y / this._curve.ch);\n  }\n\n  _round(coord, numberOfFloatDigits = 3) {\n    const power = Math.pow(10, numberOfFloatDigits);\n    return Math.round(coord * power) / power;\n  }\n}\n\nexport {\n  EditorCurveChangeEvent\n}","export default class EditorCurveChangeEvent extends CustomEvent {\n    constructor() {\n        super(EditorCurveChangeEvent.KEY);\n    }\n\n    static KEY = \"editorCurveChangeEvent\";\n}","import EditorCurveChangeEvent from \"./EditorCurveChangeEvent\";\n\nexport { EditorCurveChangeEvent };","import Point from \"./Point\"\n\nexport default class BezierPoint {\n\n\tconstructor(x, y, context, color, size, cpDist) {\n\n\t\tthis.cpDist = cpDist;\n\n\t\tthis.color = color;\n\t\tthis.size = size;\n\n\t\tthis.position = new Point(x, y, this.color, this.size, context);\n\t\tthis.cp1 = new Point(x-this.cpDist, y, this.color, this.size, context);\n\t\tthis.cp2 = new Point(x+this.cpDist, y, this.color, this.size, context);\n\n\t\tthis.ctx = context;\n\t\tthis.r = 2;\n\n\t\tthis.collapsed = false;\n\n\t}\n\n\tcollapse() {\n\t\n\t\tif (!this.collapsed) {\n\t\t\tthis.collapsed = true;\n\t\t\tthis.cp1.x = this.cp2.x = this.position.x;\n\t\t\tthis.cp1.y = this.cp2.y = this.position.y;\n\t\t} else {\n\t\t\tthis.collapsed = false;\n\t\t\tthis.cp1.x = this.position.x - this.cpDist;\n\t\t\tthis.cp2.x = this.position.x + this.cpDist;\n\t\t}\n\n\t}\n\n\tmove() {\n\n\t\tif (!this.collapsed) {\n\t\t\tthis.v1x = this.cp1.x - this.position.x;\n\t\t\tthis.v1y = this.cp1.y - this.position.y;\n\t\t\tthis.v2x = this.cp2.x - this.position.x;\n\t\t\tthis.v2y = this.cp2.y - this.position.y;\n\t\t} else {\n\t\t\tthis.v1x = this.v1y = this.v2x = this.v2y = 0;\n\t\t}\n\n\t}\n\n\tsetPointStyle(color, size) {\n\n\t\tthis.position.color = color;\n\t\tthis.cp1.color = color;\n\t\tthis.cp2.color = color;\n\t\tthis.position.r = size/2;\n\t\tthis.cp1.r = size/2;\n\t\tthis.cp2.r = size/2;\n\t}\n\n\tdraw() {\n\n\t\tthis.ctx.lineWidth = 0.2;\n\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.moveTo(this.position.x, this.position.y);\n\t\tthis.ctx.lineTo(this.cp1.x, this.cp1.y);\n\t\tthis.ctx.stroke();\n\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.moveTo(this.position.x, this.position.y);\n\t\tthis.ctx.lineTo(this.cp2.x, this.cp2.y);\n\t\tthis.ctx.stroke();\n\n\t\tthis.position.draw();\n\t\tthis.cp1.draw();\n\t\tthis.cp2.draw();\n\n\t}\n}","/*\nThe MIT License (MIT)\n\nCopyright (c) 2015 Sidney Douw\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n\nimport BezierPoint from \"./BezierPoint\";\n\nexport default class Curve {\n\n\tconstructor(context, interval, cpDist) {\n\n\t\tthis.BezierPoint = BezierPoint;\n\n\t\tthis.cpDist = cpDist ? cpDist : context.canvas.width * 0.2;\n\n\t\tthis.pointColor = '#f00';\n\t\tthis.pointSize = 4;\n\n\t\tthis.lineColor = '#fff';\n\t\tthis.lineWidth = 1;\n\n\t\tthis.points = [\n\t\t\tnew BezierPoint(0, context.canvas.height, context, this.pointColor, this.pointSize, this.cpDist),\n\t\t\tnew BezierPoint(context.canvas.width, 0, context, this.pointColor, this.pointSize, this.cpDist)\n\t\t];\n\n\t\tthis.ctx = context;\n\t\tthis.cw = context.canvas.width;\n\t\tthis.ch = context.canvas.height;\n\n\t\tthis.mouseX = 0;\n\t\tthis.mouseY = 0;\n\n\t\tthis.events = {};\n\n\t\tthis.interval = interval;\n\n\t\tthis.canvasEvents();\n\t\tthis.createLUT();\n\t\tthis.draw();\n\n\t}\n\n\txGetY(frame) {\n\n\t\tlet tolerance = 0.0001;\n\t\t\n\t\tlet iMin = 0;\n\t\tlet iMax = 5000;\n\t\tlet key = (iMin+iMax)/2;\n\n\t\tlet xTarget = frame/this.interval;\n\t\tlet xCurrent = this.lookupX[key];\n\n\t\tlet i = 0;\n\n\t\twhile (Math.abs(xTarget-xCurrent) > tolerance){\n\t\t\ti++;\n\t\t\t\n\t\t\tif (xCurrent > xTarget) {\n\t\t\t\tiMax = key;\n\t\t\t} else if (xCurrent < xTarget) {\n\t\t\t\tiMin = key;\n\t\t\t}\n\t\t\tkey = Math.round((iMin+iMax)/2);\n\t\t\txCurrent = this.lookupX[key];\n\n\t\t\tif (i > 20) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn this.lookupY[key];\n\n\t}\n\n\tcreateLUT() {\n\t\t\n\t\tthis.lookupX = [];\n\t\tthis.lookupY = [];\n\n\t\t//Percent Based Tesselation\n\t\tfor (let i = 1; i < this.points.length; i++) {\n\t\t\tlet p1 = this.points[i-1];\n\t\t\tlet p2 = this.points[i];\n\t\t\tlet pct = (p2.position.x/this.cw) - (p1.position.x/this.cw);\n\t\t\tfor (let t = 0; t < 1; t+=1/(5000*pct)) {\n\t\t\t\tlet x = (Math.pow((1-t),3)*p1.position.x) + (3*Math.pow((1-t),2)*t*p1.cp2.x) + (3*(1-t)*Math.pow(t,2)*p2.cp1.x) + (Math.pow(t,3)*p2.position.x);\n\t\t\t\tlet y = (Math.pow((1-t),3)*p1.position.y) + (3*Math.pow((1-t),2)*t*p1.cp2.y) + (3*(1-t)*Math.pow(t,2)*p2.cp1.y) + (Math.pow(t,3)*p2.position.y);\n\t\t\t\tthis.lookupX.push(x/this.cw);\n\t\t\t\tthis.lookupY.push(-y/this.ch+1);\n\t\t\t}\n\t\t}\n\n\t}\n\n\ton(event, func) {\n\t\tthis.events['on'+event] = func.bind(this);\n\t}\n\n\tcanvasEvents() {\n\n\t\tlet x,\n\t\t\ty,\n\t\t\tdist,\n\t\t\tdragReady,\n\t\t\tdragCP,\n\t\t\tdraging;\n\n\t\tlet _this = this;\n\t\t\n\t\tthis.ctx.canvas.addEventListener('mousemove', function(evt){\n\n\t\t\tlet bbox = this.getBoundingClientRect();\n\n\t\t\tx = evt.clientX - bbox.left;\n\t\t\ty = evt.clientY - bbox.top;\n\n\t\t\t_this.mouseX = x;\n\t\t\t_this.mouseY = y;\n\n\t\t\tfor (let i = 0; i < _this.points.length; i++) {\n\t\t\t\tlet p = _this.points[i];\n\n\t\t\t\tif (!draging) {\n\n\t\t\t\t\tdist = Math.sqrt((x-p.position.x)*(x-p.position.x) + (y-p.position.y)*(y-p.position.y));\n\t\t\t\t\tif (dist <= _this.pointSize/2+2) {\n\t\t\t\t\t\tthis.style.cursor = 'pointer';\n\t\t\t\t\t\tdragReady = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdist = Math.sqrt((x-p.cp1.x)*(x-p.cp1.x) + (y-p.cp1.y)*(y-p.cp1.y));\n\t\t\t\t\t\tif (dist <= _this.pointSize/2+2) {\n\t\t\t\t\t\t\tthis.style.cursor = 'pointer';\n\t\t\t\t\t\t\tdragReady = i;\n\t\t\t\t\t\t\tdragCP = 'cp1';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdist = Math.sqrt((x-p.cp2.x)*(x-p.cp2.x) + (y-p.cp2.y)*(y-p.cp2.y));\n\t\t\t\t\t\t\tif (dist <= _this.pointSize/2+2) {\n\t\t\t\t\t\t\t\tthis.style.cursor = 'pointer';\n\t\t\t\t\t\t\t\tdragReady = i;\n\t\t\t\t\t\t\t\tdragCP = 'cp2';\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.style.cursor = 'initial';\n\t\t\t\t\t\t\t\tdragReady = false;\n\t\t\t\t\t\t\t\tdragCP = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif (keys[18]) {\n\t\t\t\tlet deltaW = _this.cw / 20;\n\t\t\t\tlet deltaH = _this.ch/ 10;\n\n\t\t\t\tlet posX = Math.floor((x+deltaW/2) / deltaW);\n\t\t\t\tlet posY = Math.floor((y+deltaH/2) / deltaH);\n\n\t\t\t\tx = deltaW * posX;\n\t\t\t\ty = deltaH * posY;\n\t\t\t}\n\n\t\t\tif (draging) {\n\t\t\t\tif (dragCP == 'cp1') {\n\t\t\t\t\t_this.points[dragReady].cp1.x = x;\n\t\t\t\t\t_this.points[dragReady].cp1.y = y;\n\n\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t_this.points[dragReady].cp2.x = x - _this.points[dragReady].v1x*2;\n\t\t\t\t\t\t_this.points[dragReady].cp2.y = y - _this.points[dragReady].v1y*2;\n\t\t\t\t\t}\n\t\t\t\t} else if (dragCP == 'cp2') {\n\n\t\t\t\t\t_this.points[dragReady].cp2.x = x;\n\t\t\t\t\t_this.points[dragReady].cp2.y = y;\n\n\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t_this.points[dragReady].cp1.x = x - _this.points[dragReady].v2x*2;\n\t\t\t\t\t\t_this.points[dragReady].cp1.y = y - _this.points[dragReady].v2y*2;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t_this.points[dragReady].position.x = x;\n\t\t\t\t\t_this.points[dragReady].position.y = y;\n\n\t\t\t\t\tif (dragReady === 0) {\n\t\t\t\t\t\t_this.points[dragReady].position.x = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (dragReady == _this.points.length-1) {\n\t\t\t\t\t\t_this.points[dragReady].position.x = _this.cw;\n\t\t\t\t\t}\n\n\t\t\t\t\t_this.points[dragReady].cp1.x = _this.points[dragReady].position.x + _this.points[dragReady].v1x;\n\t\t\t\t\t_this.points[dragReady].cp1.y = _this.points[dragReady].position.y + _this.points[dragReady].v1y;\n\t\t\t\t\t_this.points[dragReady].cp2.x = _this.points[dragReady].position.x + _this.points[dragReady].v2x;\n\t\t\t\t\t_this.points[dragReady].cp2.y = _this.points[dragReady].position.y + _this.points[dragReady].v2y;\n\n\t\t\t\t\tlet temp;\n\n\t\t\t\t\tif (_this.points[dragReady-1] && _this.points[dragReady+1]) {\n\t\t\t\t\t\tif (_this.points[dragReady].position.x > _this.points[dragReady+1].position.x) {\n\t\t\t\t\t\t\ttemp = _this.points[dragReady];\n\t\t\t\t\t\t\t_this.points[dragReady] = _this.points[dragReady+1];\n\t\t\t\t\t\t\t_this.points[dragReady+1] = temp;\n\t\t\t\t\t\t\tdragReady++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (_this.points[dragReady-1].position.x > _this.points[dragReady].position.x) {\n\t\t\t\t\t\t\ttemp = _this.points[dragReady];\n\t\t\t\t\t\t\t_this.points[dragReady] = _this.points[dragReady-1];\n\t\t\t\t\t\t\t_this.points[dragReady-1] = temp;\n\t\t\t\t\t\t\tdragReady--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\t_this.events.ondrag ? _this.events.ondrag() : null;\n\t\t\t\t_this.draw();\n\t\t\t}\n\n\t\t\t_this.events.onmousemove ? _this.events.onmousemove() : null;\n\n\t\t});\n\t\tthis.ctx.canvas.addEventListener('mousedown', function(evt){\n\t\t\tevt.preventDefault();\n\n\t\t\tif (dragReady || dragReady === 0) {\n\t\t\t\tdraging = true;\n\t\t\t} else {\n\t\t\t\tif (dist > 5) {\n\t\t\t\t\tdragReady = _this.addPoint(x, y);\n\t\t\t\t\tdraging = true;\n\t\t\t\t\tthis.style.cursor = 'pointer';\n\t\t\t\t\t_this.draw();\n\t\t\t\t\t_this.events.onnewpoint ? _this.events.onnewpoint() : null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\t\tthis.ctx.canvas.addEventListener('mouseup', function(evt){\n\n\t\t\tdraging = false;\n\t\t\tif (dist > 5) {\n\t\t\t\tdragReady = dragCP = false;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < _this.points.length; i++) {\n\t\t\t\tlet p = _this.points[i];\n\t\t\t\tdist = Math.sqrt((x-p.position.x)*(x-p.position.x) + (y-p.position.y)*(y-p.position.y));\n\t\t\t\tif (dist <= _this.pointSize/2+2) {\n\t\t\t\t\tthis.style.cursor = 'pointer';\n\t\t\t\t\tdragReady = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_this.createLUT();\n\n\t\t});\n\t\tthis.ctx.canvas.addEventListener('mouseleave', function(evt){\n\n\t\t\tif (draging) {\n\t\t\t\tif (evt.offsetX < 0 || evt.offsetX > _this.cw) {\n\t\t\t\t\tif (evt.offsetX < 0) {\n\t\t\t\t\t\tif (dragCP == 'cp1') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = 0;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = 0 - _this.points[dragReady].v1x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = y - _this.points[dragReady].v1y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (dragCP == 'cp2') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = 0;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = 0 - _this.points[dragReady].v2x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = y - _this.points[dragReady].v2y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.points[dragReady].position.x = 0;\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = 0 + _this.points[dragReady].v1x;\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = 0 + _this.points[dragReady].v2x;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (dragCP == 'cp1') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = _this.cw;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = _this.cw - _this.points[dragReady].v1x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = y - _this.points[dragReady].v1y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (dragCP == 'cp2') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = _this.cw;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = _this.cw - _this.points[dragReady].v2x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = y - _this.points[dragReady].v2y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.points[dragReady].position.x = _this.cw;\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = _this.cw + _this.points[dragReady].v1x;\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = _this.cw + _this.points[dragReady].v2x;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (evt.offsetY < 0 || evt.offsetY > _this.ch) {\n\t\t\t\t\tif (evt.offsetY < 0) {\n\t\t\t\t\t\tif (dragCP == 'cp1') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = 0;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = x - _this.points[dragReady].v1x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = 0 - _this.points[dragReady].v1y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (dragCP == 'cp2') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = 0;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = x - _this.points[dragReady].v2x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = 0 - _this.points[dragReady].v2y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.points[dragReady].position.y = 0;\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = 0 + _this.points[dragReady].v1y;\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = 0 + _this.points[dragReady].v2y;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (dragCP == 'cp1') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = _this.ch;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = x - _this.points[dragReady].v1x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = _this.ch - _this.points[dragReady].v1y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (dragCP == 'cp2') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = _this.ch;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = x - _this.points[dragReady].v2x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = _this.ch - _this.points[dragReady].v2y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.points[dragReady].position.y = _this.ch;\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = _this.ch + _this.points[dragReady].v1y;\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = _this.ch + _this.points[dragReady].v2y;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_this.draw();\n\t\t\t_this.createLUT();\n\n\t\t\tdraging = dragReady = dragCP = false;\n\n\t\t});\n\t\tthis.ctx.canvas.addEventListener('click', function(evt){\n\t\t\tif (keys[16] && !dragCP) {\n\t\t\t\t_this.points[dragReady].collapse();\n\t\t\t\t_this.draw();\n\t\t\t\t_this.createLUT();\n\t\t\t\t_this.events.ontogglecontrol ? _this.events.ontogglecontrol() : null;\n\t\t\t}\n\t\t});\n\t\tthis.ctx.canvas.addEventListener('dblclick', function(evt){\n\t\t\t_this.points.splice(dragReady, 1);\n\t\t\tdraging = dragReady = dragCP = false;\n\t\t\tdist = 1000;\n\t\t\tthis.style.cursor = 'initial';\n\t\t\t_this.draw();\n\t\t\t_this.createLUT();\n\t\t\t_this.events.onremovepoint ? _this.events.onremovepoint() : null;\n\t\t});\n\n\t}\n\n\taddPoint(x, y) {\n\t\t\n\t\tthis.points.push(new BezierPoint(x, y, this.ctx, this.pointColor, this.pointSize, this.cpDist));\n\n\t\tthis.points.sort(function(a, b){\n\t\t\treturn a.position.x - b.position.x;\n\t\t});\n\n\t\tfor (let i = 0; i < this.points.length; i++) {\n\t\t\tlet p = this.points[i];\n\t\t\tif (x == p.position.x && y == p.position.y) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tsetPointStyle(color, size) {\n\t\t\n\t\tfor (let i = 0; i < this.points.length; i++) {\n\t\t\tthis.points[i].setPointStyle(color, size);\n\t\t\tthis.pointColor = color;\n\t\t\tthis.pointSize = size;\n\t\t}\n\t\tthis.draw();\n\n\t}\n\n\tsetLineStyle(color, width) {\n\t\t\n\t\tthis.lineColor = color;\n\t\tthis.lineWidth = width;\n\t\tthis.draw();\n\n\t}\n\n\tdraw() {\n\t\t\n\t\tthis.ctx.clearRect(0, 0, this.cw, this.ch);\n\t\t\n\t\tthis.ctx.strokeStyle = '#444';\n\t\tthis.ctx.lineWidth = 1;\n\n\t\tfor (let i = 1; i < 10; i++) {\n\t\t\tthis.ctx.beginPath();\n\t\t\tthis.ctx.moveTo((this.cw/10)*i-0.5, 0);\n\t\t\tthis.ctx.lineTo((this.cw/10)*i-0.5, this.ch);\n\t\t\tthis.ctx.stroke();\n\t\t}\n\t\tfor (let i = 1; i < 5; i++) {\n\t\t\tthis.ctx.beginPath();\n\t\t\tthis.ctx.moveTo(0, (this.ch/5)*i-0.5);\n\t\t\tthis.ctx.lineTo(this.cw, (this.ch/5)*i-0.5);\n\t\t\tthis.ctx.stroke();\n\t\t}\n\n\t\tthis.ctx.lineWidth = 0.5;\n\t\tfor (let i = 1; i < 20; i++) {\n\t\t\tthis.ctx.beginPath();\n\t\t\tthis.ctx.moveTo((this.cw/20)*i-0.5, 0);\n\t\t\tthis.ctx.lineTo((this.cw/20)*i-0.5, this.ch);\n\t\t\tthis.ctx.stroke();\n\t\t}\n\t\tfor (let i = 1; i < 10; i++) {\n\t\t\tthis.ctx.beginPath();\n\t\t\tthis.ctx.moveTo(0, (this.ch/10)*i-0.5);\n\t\t\tthis.ctx.lineTo(this.cw, (this.ch/10)*i-0.5);\n\t\t\tthis.ctx.stroke();\n\t\t}\n\n\t\tthis.ctx.strokeStyle = this.lineColor;\n\t\tthis.ctx.lineWidth = this.lineWidth;\n\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.moveTo(this.points[0].position.x, this.points[0].position.y);\n\t\tfor (let i = 1; i < this.points.length; i++) {\n\t\t\tlet p = this.points[i];\n\t\t\tlet pP = this.points[i-1];\n\t\t\tthis.ctx.bezierCurveTo(pP.cp2.x, pP.cp2.y, p.cp1.x, p.cp1.y, p.position.x, p.position.y);\n\t\t}\n\t\tthis.ctx.stroke();\n\n\t\tfor (let i = 0; i < this.points.length; i++) {\n\t\t\tthis.points[i].draw();\n\t\t}\n\n\t}\n}\n\n\nconst keys = [];\nwindow.addEventListener('keydown', function(e){\n\tkeys[e.keyCode] = true;\n});\nwindow.addEventListener('keyup', function(e){\n\tdelete keys[e.keyCode];\n});","export default class Point {\n\n\tconstructor(x, y, color, size, context) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.r = size/2;\n\t\tthis.color = color;\n\t\tthis.ctx = context;\n\n\t}\n\n\tdraw() {\n\n\t\tthis.ctx.fillStyle = this.color;\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.arc(this.x, this.y, this.r, 0, Math.PI*2, false);\n\t\tthis.ctx.closePath();\n\t\tthis.ctx.fill();\n\n\t}\n}\n","import EasePreset, { Curve, Orientation } from \"../ease/preset/EasePreset\";\n\n// Predefined list of easings commonly used across many animation engines\nexport const Linear = new EasePreset(Curve.LINEAR, Orientation.NONE, [0, 0, 1, 1]);\n\nexport const SineIn = new EasePreset(Curve.SINE, Orientation.IN, [0.12, 0, 0.39, 0]);\nexport const SineOut = new EasePreset(Curve.SINE, Orientation.OUT, [0.61, 1, 0.88, 1]);\nexport const SineInOut = new EasePreset(Curve.SINE, Orientation.IN_OUT, [0.37, 0, 0.63, 1]);\n\nexport const QuadIn = new EasePreset(Curve.QUAD, Orientation.IN, [0.11, 0, 0.5, 0]);\nexport const QuadOut = new EasePreset(Curve.QUAD, Orientation.OUT, [0.5, 1, 0.89, 1]);\nexport const QuadInOut = new EasePreset(Curve.QUAD, Orientation.IN_OUT, [0.45, 0, 0.55, 1]);\n\nexport const CubicIn = new EasePreset(Curve.CUBIC, Orientation.IN, [0.32, 0, 0.67, 0]);\nexport const CubicOut = new EasePreset(Curve.CUBIC, Orientation.OUT, [0.33, 1, 0.68, 1]);\nexport const CubicInOut = new EasePreset(Curve.CUBIC, Orientation.IN_OUT, [0.65, 0, 0.35, 1]);\n\nexport const QuartIn = new EasePreset(Curve.QUART, Orientation.IN, [0.5, 0, 0.75, 0]);\nexport const QuartOut = new EasePreset(Curve.QUART, Orientation.OUT, [0.25, 1, 0.5, 1]);\nexport const QuartInOut = new EasePreset(Curve.QUART, Orientation.IN_OUT, [0.76, 0, 0.24, 1]);\n\nexport const QuintIn = new EasePreset(Curve.QUINT, Orientation.IN, [0.64, 0, 0.78, 0]);\nexport const QuintOut = new EasePreset(Curve.QUINT, Orientation.OUT, [0.22, 1, 0.36, 1]);\nexport const QuintInOut = new EasePreset(Curve.QUINT, Orientation.IN_OUT, [0.83, 0, 0.17, 1]);\n\nexport const ExpoIn = new EasePreset(Curve.EXPO, Orientation.IN, [0.7, 0, 0.84, 0]);\nexport const ExpoOut = new EasePreset(Curve.EXPO, Orientation.OUT, [0.16, 1, 0.3, 1]);\nexport const ExpoInOut = new EasePreset(Curve.EXPO, Orientation.IN_OUT, [0.87, 0, 0.13, 1]);\n\nexport const CircIn = new EasePreset(Curve.CIRC, Orientation.IN, [0.55, 0, 1, 0.45]);\nexport const CircOut = new EasePreset(Curve.CIRC, Orientation.OUT, [0, 0.55, 0.45, 1]);\nexport const CircInOut = new EasePreset(Curve.CIRC, Orientation.IN_OUT, [0.85, 0, 0.15, 1]);\n\nexport const BackIn = new EasePreset(Curve.BACK, Orientation.IN, [0.36, 0, 0.66, -0.56]);\nexport const BackOut = new EasePreset(Curve.BACK, Orientation.OUT, [0.34, 1.56, 0.64, 1]);\nexport const BackInOut = new EasePreset(Curve.BACK, Orientation.IN_OUT, [0.68, -0.6, 0.32, 1.6]);\n\nexport const Custom = new EasePreset(Curve.CUSTOM, Orientation.NONE, [0, 0, 1, 1]);","export default class EaseEntry {\n    constructor(externalTemplate, internalTemplate) {\n        this.external = externalTemplate;\n        this.internal = internalTemplate.clone();\n    }\n\n    displayAs(displayName) {\n        this.internal.displayName = displayName;\n        return this;\n    }\n}","export default class CastMap {\n    constructor(entries) {\n        this._entries = entries;\n        this._entriesHashMap = this._createHashMap(entries, this._createHash);\n    }\n\n    hasExternal(externalEase) {\n        return this._entries.some(entry => entry.external === externalEase);\n    }\n\n    externalToInternal(externalEase) {\n        return this._entries.find(entry => entry.external === externalEase).internal;\n    }\n\n    internalToExternal(internalEase) {\n        return this._entries.find(entry => entry.internal.toString() === internalEase.toString()).external;\n    }\n\n    _createHashMap(entries, hashFunction) {\n        const hashMap = {};\n       \n        entries.forEach((entry, i) => {\n            hashMap[hashFunction(entry, i)] = entry;\n        });\n\n        return hashMap;\n    }\n\n    _createHash(entry) {\n        return `${entry.internal.curve}.${entry.internal.orientation}`;\n    }\n}","import CastMap from \"./CastMap\";\n\nexport default class Middleware {\n    constructor(...entries) {\n        this._presets = entries.map(entry => entry.internal);\n        this._castMap = new CastMap(entries);\n    }\n\n    isEditingSupported() {\n        // Some frameworks don't allow custom easing curves, this flag is used to disable ease editor in such cases.\n        return true;\n    }\n\n    isFormatSupported(externalEase) {\n        return !!externalEase && this._castMap.hasExternal(externalEase);\n    }\n\n    import(externalEase) {\n        return this._castMap.externalToInternal(externalEase);\n    }\n\n    export(internalEase) {\n        return this._castMap.internalToExternal(internalEase);\n    }\n\n    toString() {\n        return `[object ${Middleware.CLASS_NAME}]`;\n    }\n\n    get presets() {\n        return this._presets;\n    }\n\n    static CLASS_NAME = \"DatGuiEaseMiddleware\";\n}","// Module\nvar code = \"<div class=\\\"ease-gui mode-select\\\">\\n    <div class=\\\"header\\\">\\n        <div class=\\\"property-name\\\"></div>\\n        <div class=\\\"c\\\">\\n            <div class=\\\"ease-selector\\\">\\n                <div class=\\\"corner-curve-container\\\">\\n                    <div class=\\\"ratio-box\\\">\\n                        <div class=\\\"ratio-box-inner\\\">\\n                            <canvas class=\\\"corner-curve\\\"></canvas>\\n                        </div>\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"template-selector\\\">\\n                    <div class=\\\"curve-selector-container\\\">\\n                        <select class=\\\"curve-selector\\\" dir=\\\"rtl\\\"></select>\\n                    </div>\\n                    <div class=\\\"orientation-selector-container\\\">\\n                        <select class=\\\"orientation-selector\\\"></select>\\n                    </div>\\n                    <div class=\\\"edit-button-container\\\">\\n                        <svg class=\\\"edit-button\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"18px\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"18px\\\" fill=\\\"#606060\\\"><path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\"/><path d=\\\"M19.5 9.5c-1.03 0-1.9.62-2.29 1.5h-2.92c-.39-.88-1.26-1.5-2.29-1.5s-1.9.62-2.29 1.5H6.79c-.39-.88-1.26-1.5-2.29-1.5C3.12 9.5 2 10.62 2 12s1.12 2.5 2.5 2.5c1.03 0 1.9-.62 2.29-1.5h2.92c.39.88 1.26 1.5 2.29 1.5s1.9-.62 2.29-1.5h2.92c.39.88 1.26 1.5 2.29 1.5 1.38 0 2.5-1.12 2.5-2.5s-1.12-2.5-2.5-2.5z\\\"/></svg>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"editor-container\\\">\\n        <div class=\\\"ratio-box\\\">\\n            <div class=\\\"ratio-box-inner\\\">\\n                <canvas class=\\\"editor\\\"></canvas>\\n            </div>\\n        </div>\\n        <div class=\\\"path-selector-container\\\">\\n            <input type=\\\"text\\\" class=\\\"path-selector\\\" onclick=\\\"this.select();\\\" value=\\\"M0,0 C20, 23,123\\\" />\\n            <div class=\\\"copy-button-container\\\">\\n                <svg class=\\\"copy-button\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"18px\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"18px\\\" fill=\\\"#606060\\\"><path d=\\\"M0 0h24v24H0V0z\\\" fill=\\\"none\\\"/><path d=\\\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\\\"/></svg>\\n            </div>\\n        </div>\\n        <div class=\\\"editor-buttons\\\">\\n            <div class=\\\"decline-button\\\">\\n                <div class=\\\"icon-container\\\">\\n                    <svg class=\\\"icon\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"24px\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"24px\\\" fill=\\\"#c93333\\\"><path d=\\\"M0 0h24v24H0V0z\\\" fill=\\\"none\\\"/><path d=\\\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\\\"/></svg>\\n                </div>\\n                <div class=\\\"label-container\\\">\\n                    <div class=\\\"label\\\">DISCARD</div>\\n                </div>\\n            </div>\\n            <div class=\\\"accept-button\\\">\\n                <div class=\\\"label-container\\\">\\n                    <div class=\\\"label\\\">ACCEPT</div>\\n                </div>\\n                <div class=\\\"icon-container\\\">\\n                    <svg class=\\\"icon\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"24px\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"24px\\\" fill=\\\"#84be18\\\"><path d=\\\"M0 0h24v24H0V0z\\\" fill=\\\"none\\\"/><path d=\\\"M9 16.2l-3.5-3.5c-.39-.39-1.01-.39-1.4 0-.39.39-.39 1.01 0 1.4l4.19 4.19c.39.39 1.02.39 1.41 0L20.3 7.7c.39-.39.39-1.01 0-1.4-.39-.39-1.01-.39-1.4 0L9 16.2z\\\"/></svg>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div>\\n        \\n    </div>\\n</div>\";\n// Exports\nexport default code;","// extracted by mini-css-extract-plugin\nexport {};","module.exports = __WEBPACK_EXTERNAL_MODULE_dat_gui__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import styles from \"./index.scss\";\nimport EaseManager from \"./EaseManager\";\nimport addEaseGUI from \"./gui/addEaseGUI\";\nimport Middleware from \"./middleware/Middleware\";\nimport CastEntry from \"./middleware/CastEntry\";\nimport Ease, { Handle, Anchor, Point } from \"./gui/ease/Ease\";\nimport EasePreset from \"./gui/ease/preset/EasePreset\";\nimport * as presets from \"./gui/editor/presets\";\n\nconst easeManager = new EaseManager();\n\nfunction addEase(object, property) {\n    const ease = object[property];\n        \n    if (easeManager.supports(ease)) {\n        return addEaseGUI.call(this, object, property, easeManager.getCompatibleMiddleware(ease));\n    }\n    else {\n        console.warn(\"No compatible middleware found.\");\n    }\n}\n\nexport function extend(dat) {\n    dat.gui.ease = easeManager;\n\n    const add = dat.GUI.prototype.add;\n    function addOverride(object, property) {\n        const value = object[property] || object;\n\n        if (easeManager.supports(value)) {\n            return addEase.call(this, ...arguments);\n        }\n        else {\n            return add.call(this, ...arguments);\n        }\n    }\n\n    dat.GUI.prototype.add = addOverride;\n    dat.gui.GUI.prototype.add = addOverride;\n\n    dat.GUI.prototype.addEase = addEase;\n    dat.gui.GUI.prototype.addEase = addEase;\n\n    return easeManager;\n}\n\nexport {\n    Middleware,\n    CastEntry,\n    Ease,\n    EasePreset,\n    Handle,\n    Anchor,\n    Point,\n    presets,\n    easeManager as manager\n}\n\nexport default {\n    extend\n};"],"sourceRoot":""}