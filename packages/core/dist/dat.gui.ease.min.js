!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("dat.gui")):"function"==typeof define&&define.amd?define(["dat.gui"],e):"object"==typeof exports?exports["dat.gui.ease"]=e(require("dat.gui")):t["dat.gui.ease"]=e(t["dat.gui"])}(self,(function(t){return(()=>{"use strict";var e={249:(t,e,n)=>{n.d(e,{Z:()=>i});var o=n(609),r=n.n(o)()((function(t){return t[1]}));r.push([t.id,".dg .cr.ease{height:auto;border-left:3px solid #ace247;padding:0}.dg .cr.ease .ease-gui{display:flex;flex-direction:column;justify-content:stretch}.dg .cr.ease .ease-gui .header{display:flex;width:100%}.dg .cr.ease .ease-gui .header .property-name{padding-left:4px}.dg .cr.ease .ease-gui .header .c{padding-right:5px;float:right}.dg .cr.ease .ease-gui .header .c .ease-selector{display:flex;justify-content:stretch;align-items:stretch;height:30px}.dg .cr.ease .ease-gui .header .c .ease-selector .corner-curve-container{min-width:30px;max-width:30px;background-color:#1A1A1A}.dg .cr.ease .ease-gui .header .c .ease-selector .corner-curve-container .corner-curve{box-sizing:border-box;width:100%;height:100%}.dg .cr.ease .ease-gui .header .c .ease-selector .template-selector{flex-grow:1;display:flex;align-items:stretch}.dg .cr.ease .ease-gui .header .c .ease-selector .template-selector .curve-selector-container{flex-grow:1;max-width:70px;min-width:64px;margin:0;background-color:#88CE02;font-weight:bold;text-align:right}.dg .cr.ease .ease-gui .header .c .ease-selector .template-selector .curve-selector-container .curve-selector{width:100%;height:100%;background-color:transparent;font-weight:bold;text-align:right;padding-right:8px}.dg .cr.ease .ease-gui .header .c .ease-selector .template-selector .orientation-selector-container{flex-grow:2;margin:0}.dg .cr.ease .ease-gui .header .c .ease-selector .template-selector .orientation-selector-container .orientation-selector{width:100%;height:100%;text-decoration:underline;color:#ffffff;background-color:#303030;padding-left:6px}.dg .cr.ease .ease-gui .header .c .ease-selector .template-selector .edit-button-container{width:12px;background-color:#303030;border-radius:0px 4px 4px 0px;display:flex;flex-direction:column;align-items:center;justify-content:center}.dg .cr.ease .ease-gui .header .c .ease-selector .template-selector .edit-button-container .edit-button{width:22px;height:100%;margin-right:4px;transform:rotateZ(90deg);cursor:pointer;transition:fill .2s}.dg .cr.ease .ease-gui .header .c .ease-selector .template-selector .edit-button-container .edit-button:hover{fill:#88CE02}.dg .cr.ease .ease-gui .header .c .ease-selector .template-selector select{appearance:none;padding:4px;margin:0;outline:none;border:none;cursor:pointer}.dg .cr.ease .ease-gui .header .c .ease-selector .template-selector select option{background-color:#000000;color:#ffffff}.dg .cr.ease .ease-gui .header .c .ease-selector .template-selector select:disabled{cursor:auto}.dg .cr.ease .ease-gui .editor-container{width:100%;background-color:#303030}.dg .cr.ease .ease-gui .editor-container .editor{width:100%;height:100%}.dg .cr.ease .ease-gui .editor-container .path-selector-container{height:22px;background-color:#303030;display:flex}.dg .cr.ease .ease-gui .editor-container .path-selector-container .path-selector{flex-grow:1;background-color:transparent;font-size:11px;font-style:italic;color:#a2a2a2;padding-left:6px;width:100%;height:100%;margin:0;outline:none;border:none;border-top:1px solid #424242}.dg .cr.ease .ease-gui .editor-container .path-selector-container .copy-button-container{display:flex;flex-direction:column;justify-content:center}.dg .cr.ease .ease-gui .editor-container .path-selector-container .copy-button-container .copy-button{cursor:pointer;transition:fill .2s}.dg .cr.ease .ease-gui .editor-container .path-selector-container .copy-button-container .copy-button:hover{fill:#88CE02}.dg .cr.ease .ease-gui .editor-container .editor-buttons{display:flex;justify-content:center;align-items:stretch}.dg .cr.ease .ease-gui .editor-container .editor-buttons .accept-button,.dg .cr.ease .ease-gui .editor-container .editor-buttons .decline-button{background-color:#1A1A1A;flex-grow:1;display:flex;align-items:stretch;user-select:none;cursor:pointer}.dg .cr.ease .ease-gui .editor-container .editor-buttons .accept-button .label-container,.dg .cr.ease .ease-gui .editor-container .editor-buttons .decline-button .label-container{flex-grow:1;display:flex;justify-content:center;align-items:stretch}.dg .cr.ease .ease-gui .editor-container .editor-buttons .accept-button .label-container .label,.dg .cr.ease .ease-gui .editor-container .editor-buttons .decline-button .label-container .label{font-weight:bold;font-size:11px;padding-top:3px}.dg .cr.ease .ease-gui .editor-container .editor-buttons .accept-button .icon-container,.dg .cr.ease .ease-gui .editor-container .editor-buttons .decline-button .icon-container{width:36px;height:30px;display:flex;align-items:center;justify-content:center}.dg .cr.ease .ease-gui .editor-container .editor-buttons .accept-button .label,.dg .cr.ease .ease-gui .editor-container .editor-buttons .decline-button .label{transition:color .1s}.dg .cr.ease .ease-gui .editor-container .editor-buttons .accept-button .icon,.dg .cr.ease .ease-gui .editor-container .editor-buttons .decline-button .icon{transform-origin:center;transition:fill .1s, transform .1s}.dg .cr.ease .ease-gui .editor-container .editor-buttons .accept-button:hover .icon,.dg .cr.ease .ease-gui .editor-container .editor-buttons .decline-button:hover .icon{transform:scale(1.2, 1.2)}.dg .cr.ease .ease-gui .editor-container .editor-buttons .accept-button{border-top:1px solid #3c4c1c}.dg .cr.ease .ease-gui .editor-container .editor-buttons .accept-button .label{text-align:right;color:#84be18}.dg .cr.ease .ease-gui .editor-container .editor-buttons .accept-button:hover .label{color:#ace247}.dg .cr.ease .ease-gui .editor-container .editor-buttons .accept-button:hover .icon{fill:#ace247}.dg .cr.ease .ease-gui .editor-container .editor-buttons .decline-button{border-top:1px solid #5a2323}.dg .cr.ease .ease-gui .editor-container .editor-buttons .decline-button .label{text-align:left;color:#c93333}.dg .cr.ease .ease-gui .editor-container .editor-buttons .decline-button:hover .label{color:#f60d0d}.dg .cr.ease .ease-gui .editor-container .editor-buttons .decline-button:hover .icon{fill:#f60d0d}.dg .cr.ease .ease-gui.mode-edit .edit-button{display:none}.dg .cr.ease .ease-gui.mode-select .copy-button,.dg .cr.ease .ease-gui.mode-select .editor-container{display:none}.dg .cr.ease .ease-gui.mode-custom-path .curve-selector-container{border-radius:0px 4px 4px 0px}.dg .cr.ease .ease-gui.mode-custom-path .curve-selector-container .curve-selector{display:none}.dg .cr.ease .ease-gui.mode-custom-path .orientation-selector-container{visibility:hidden}.dg .cr.ease .ease-gui.mode-custom-path .edit-button-container{visibility:hidden}.dg .cr.ease .ratio-box{width:100%;height:0;overflow:hidden;padding-top:100%;position:relative}.dg .cr.ease .ratio-box .ratio-box-inner{position:absolute;top:0;left:0;width:100%;height:100%}\n",""]);const i=r},609:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(r[c]=!0)}for(var s=0;s<t.length;s++){var a=[].concat(t[s]);o&&r[a[0]]||(n&&(a[2]?a[2]="".concat(n," and ").concat(a[2]):a[2]=n),e.push(a))}},e}},62:(t,e,n)=>{var o,r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function c(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},o=[],r=0;r<t.length;r++){var s=t[r],a=e.base?s[0]+e.base:s[0],u=n[a]||0,l="".concat(a," ").concat(u);n[a]=u+1;var p=c(l),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==p?(i[p].references++,i[p].updater(h)):i.push({identifier:l,updater:v(h,e),references:1}),o.push(l)}return o}function a(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var c=r(t.insert||"head");if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");c.appendChild(e)}return e}var u,l=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function p(t,e,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=l(e,r);else{var i=document.createTextNode(r),c=t.childNodes;c[e]&&t.removeChild(c[e]),c.length?t.insertBefore(i,c[e]):t.appendChild(i)}}function h(t,e,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var f=null,d=0;function v(t,e){var n,o,r;if(e.singleton){var i=d++;n=f||(f=a(e)),o=p.bind(null,n,i,!1),r=p.bind(null,n,i,!0)}else n=a(e),o=h.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var r=c(n[o]);i[r].references--}for(var a=s(t,e),u=0;u<n.length;u++){var l=c(n[u]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=a}}}},733:e=>{e.exports=t}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={id:t,exports:{}};return e[t](i,i.exports,o),i.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{o.r(r),o.d(r,{Anchor:()=>m,Curve:()=>x,Ease:()=>R,EaseCaster:()=>yt,EaseTemplate:()=>St,Handle:()=>d,Middleware:()=>ht,Orientation:()=>w,Point:()=>a,default:()=>Zt,templates:()=>t});var t={};o.r(t),o.d(t,{BackIn:()=>Ft,BackInOut:()=>$t,BackOut:()=>Kt,CircIn:()=>Vt,CircInOut:()=>Wt,CircOut:()=>Ht,CubicIn:()=>At,CubicInOut:()=>Ut,CubicOut:()=>Rt,Custom:()=>Gt,ExpoIn:()=>qt,ExpoInOut:()=>Qt,ExpoOut:()=>Dt,Linear:()=>Et,QuadIn:()=>It,QuadInOut:()=>Mt,QuadOut:()=>Pt,QuartIn:()=>Nt,QuartInOut:()=>Lt,QuartOut:()=>Bt,QuintIn:()=>zt,QuintInOut:()=>Xt,QuintOut:()=>Yt,SineIn:()=>kt,SineInOut:()=>jt,SineOut:()=>Tt});var e=o(733),n=o(62),i=o.n(n),c=o(249);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i()(c.Z,{insert:"head",singleton:!1}),c.Z.locals;var a=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;s(this,t),this.x=e,this.y=n};function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(r,t);var e,n,o=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=f(e);if(n){var r=f(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return h(this,t)});function r(){return l(this,r),o.apply(this,arguments)}return r}(a);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(r,t);var e,n,o=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=g(e);if(n){var r=g(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return b(this,t)});function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=o.call(this,t,e)).handle=new d(t,e),n}return r}(a);const x=Object.freeze({LINEAR:"Linear",SINE:"Sine",QUAD:"Quad",CUBIC:"Cubic",QUART:"Quart",QUINT:"Quint",EXPO:"Expo",CIRC:"Circ",BACK:"Back",ELASTIC:"Elastic",BOUNCE:"Bounce",CUSTOM:"Custom"}),w=Object.freeze({IN:"in",OUT:"out",IN_OUT:"inOut",NONE:"none"});function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t){return function(t){if(Array.isArray(t))return S(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function O(t,e){O=function(t,e){return new i(t,void 0,e)};var n=k(RegExp),o=RegExp.prototype,r=new WeakMap;function i(t,e,o){var i=n.call(this,t,e);return r.set(i,o||r.get(t)),i}function c(t,e){var n=r.get(e);return Object.keys(n).reduce((function(e,o){return e[o]=t[n[o]],e}),Object.create(null))}return E(i,n),i.prototype.exec=function(t){var e=o.exec.call(this,t);return e&&(e.groups=c(e,this)),e},i.prototype[Symbol.replace]=function(t,e){if("string"==typeof e){var n=r.get(this);return o[Symbol.replace].call(this,t,e.replace(/\$<([^>]+)>/g,(function(t,e){return"$"+n[e]})))}if("function"==typeof e){var i=this;return o[Symbol.replace].call(this,t,(function(){var t=[];return t.push.apply(t,arguments),"object"!==_(t[t.length-1])&&t.push(c(t,i)),e.apply(this,t)}))}return o[Symbol.replace].call(this,t,e)},O.apply(this,arguments)}function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}function k(t){var e="function"==typeof Map?new Map:void 0;return(k=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return T(t,arguments,P(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),I(o,t)})(t)}function T(t,e,n){return(T=j()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&I(r,n.prototype),r}).apply(null,arguments)}function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var R=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.CUSTOM;M(this,t),this.curve=e;for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];this._anchors=o}var e,n,o;return e=t,o=[{key:"fromSVGPath",value:function(e){var n=new t,o=e.match(O(/M ?([0-9]+),([0-9]+)/,{x:1,y:2})).groups,r=o.x,i=o.y,c=e.replace(/^M.*C ?/,"").replace(/ ?$/,"").split(" ").reduce((function(t,e){return[].concat(C(t),C(e.split(",").map(Number.parseFloat)))}),[]);n.anchors[0]=new m(r,i),n.anchors[0].handle.x=c[0],n.anchors[0].handle.y=c[1];for(var s=2;s<c.length-4;s+=6){var a=(s-2)/6+1;n.anchors[a]=new m(c[s+2],c[s+3]),n.anchors[a].handle.x=c[s],n.anchors[a].handle.y=c[s+1],n.anchors[a+1]=new m(c[s+2],c[s+3]),n.anchors[a+1].handle.x=c[s+4],n.anchors[a+1].handle.y=c[s+5]}var u=T(m,C(c.slice(-2)));return u.handle.x=c[c.length-4],u.handle.y=c[c.length-3],n.anchors.push(u),n}}],(n=[{key:"anchors",get:function(){return this._anchors}},{key:"firstAnchor",get:function(){return this._anchors[0]}},{key:"lastAnchor",get:function(){return this._anchors[this._anchors.length-1]}},{key:"addAnchor",value:function(t,e){var n=new m(t,e);return this.anchors.push(n),n}},{key:"toString",value:function(){for(var t="M ".concat(this.firstAnchor.x,",").concat(this.firstAnchor.y," C"),e=0;e<this.anchors.length;e+=2){var n=this.anchors[e],o=this.anchors[e+1];t+=" ".concat(n.handle.x,",").concat(n.handle.y," ").concat(o.handle.x,",").concat(o.handle.y," ").concat(o.x,",").concat(o.y)}return t}}])&&A(e.prototype,n),o&&A(e,o),t}();function U(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var N=function(){function t(e,n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n,this.r=r/2,this.color=o,this.ctx=i}var e,n;return e=t,(n=[{key:"draw",value:function(){this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.r,0,2*Math.PI,!1),this.ctx.closePath(),this.ctx.fill()}}])&&U(e.prototype,n),t}();function B(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var L=function(){function t(e,n,o,r,i,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cpDist=c,this.color=r,this.size=i,this.position=new N(e,n,this.color,this.size,o),this.cp1=new N(e-this.cpDist,n,this.color,this.size,o),this.cp2=new N(e+this.cpDist,n,this.color,this.size,o),this.ctx=o,this.r=2,this.collapsed=!1}var e,n;return e=t,(n=[{key:"collapse",value:function(){this.collapsed?(this.collapsed=!1,this.cp1.x=this.position.x-this.cpDist,this.cp2.x=this.position.x+this.cpDist):(this.collapsed=!0,this.cp1.x=this.cp2.x=this.position.x,this.cp1.y=this.cp2.y=this.position.y)}},{key:"move",value:function(){this.collapsed?this.v1x=this.v1y=this.v2x=this.v2y=0:(this.v1x=this.cp1.x-this.position.x,this.v1y=this.cp1.y-this.position.y,this.v2x=this.cp2.x-this.position.x,this.v2y=this.cp2.y-this.position.y)}},{key:"setPointStyle",value:function(t,e){this.position.color=t,this.cp1.color=t,this.cp2.color=t,this.position.r=e/2,this.cp1.r=e/2,this.cp2.r=e/2}},{key:"draw",value:function(){this.ctx.lineWidth=.2,this.ctx.beginPath(),this.ctx.moveTo(this.position.x,this.position.y),this.ctx.lineTo(this.cp1.x,this.cp1.y),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(this.position.x,this.position.y),this.ctx.lineTo(this.cp2.x,this.cp2.y),this.ctx.stroke(),this.position.draw(),this.cp1.draw(),this.cp2.draw()}}])&&B(e.prototype,n),t}();function z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Y=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.BezierPoint=L,this.cpDist=o||.2*e.canvas.width,this.pointColor="#f00",this.pointSize=4,this.lineColor="#fff",this.lineWidth=1,this.points=[new L(0,e.canvas.height,e,this.pointColor,this.pointSize,this.cpDist),new L(e.canvas.width,0,e,this.pointColor,this.pointSize,this.cpDist)],this.ctx=e,this.cw=e.canvas.width,this.ch=e.canvas.height,this.mouseX=0,this.mouseY=0,this.events={},this.interval=n,this.canvasEvents(),this.createLUT(),this.draw()}var e,n;return e=t,(n=[{key:"xGetY",value:function(t){for(var e=0,n=5e3,o=(e+n)/2,r=t/this.interval,i=this.lookupX[o],c=0;Math.abs(r-i)>1e-4&&(c++,i>r?n=o:i<r&&(e=o),o=Math.round((e+n)/2),i=this.lookupX[o],!(c>20)););return this.lookupY[o]}},{key:"createLUT",value:function(){this.lookupX=[],this.lookupY=[];for(var t=1;t<this.points.length;t++)for(var e=this.points[t-1],n=this.points[t],o=n.position.x/this.cw-e.position.x/this.cw,r=0;r<1;r+=1/(5e3*o)){var i=Math.pow(1-r,3)*e.position.x+3*Math.pow(1-r,2)*r*e.cp2.x+3*(1-r)*Math.pow(r,2)*n.cp1.x+Math.pow(r,3)*n.position.x,c=Math.pow(1-r,3)*e.position.y+3*Math.pow(1-r,2)*r*e.cp2.y+3*(1-r)*Math.pow(r,2)*n.cp1.y+Math.pow(r,3)*n.position.y;this.lookupX.push(i/this.cw),this.lookupY.push(-c/this.ch+1)}}},{key:"on",value:function(t,e){this.events["on"+t]=e.bind(this)}},{key:"canvasEvents",value:function(){var t,e,n,o,r,i,c=this;this.ctx.canvas.addEventListener("mousemove",(function(s){var a=this.getBoundingClientRect();t=s.clientX-a.left,e=s.clientY-a.top,c.mouseX=t,c.mouseY=e;for(var u=0;u<c.points.length;u++){var l=c.points[u];if(!i){if((n=Math.sqrt((t-l.position.x)*(t-l.position.x)+(e-l.position.y)*(e-l.position.y)))<=c.pointSize/2+2){this.style.cursor="pointer",o=u;break}if((n=Math.sqrt((t-l.cp1.x)*(t-l.cp1.x)+(e-l.cp1.y)*(e-l.cp1.y)))<=c.pointSize/2+2){this.style.cursor="pointer",o=u,r="cp1";break}if((n=Math.sqrt((t-l.cp2.x)*(t-l.cp2.x)+(e-l.cp2.y)*(e-l.cp2.y)))<=c.pointSize/2+2){this.style.cursor="pointer",o=u,r="cp2";break}this.style.cursor="initial",o=!1,r=!1}}if(X[18]){var p=c.cw/20,h=c.ch/10,f=Math.floor((t+p/2)/p),d=Math.floor((e+h/2)/h);t=p*f,e=h*d}if(i){if("cp1"==r)c.points[o].cp1.x=t,c.points[o].cp1.y=e,c.points[o].move(),X[16]||(c.points[o].cp2.x=t-2*c.points[o].v1x,c.points[o].cp2.y=e-2*c.points[o].v1y);else if("cp2"==r)c.points[o].cp2.x=t,c.points[o].cp2.y=e,c.points[o].move(),X[16]||(c.points[o].cp1.x=t-2*c.points[o].v2x,c.points[o].cp1.y=e-2*c.points[o].v2y);else{var v;c.points[o].move(),c.points[o].position.x=t,c.points[o].position.y=e,0===o&&(c.points[o].position.x=0),o==c.points.length-1&&(c.points[o].position.x=c.cw),c.points[o].cp1.x=c.points[o].position.x+c.points[o].v1x,c.points[o].cp1.y=c.points[o].position.y+c.points[o].v1y,c.points[o].cp2.x=c.points[o].position.x+c.points[o].v2x,c.points[o].cp2.y=c.points[o].position.y+c.points[o].v2y,c.points[o-1]&&c.points[o+1]&&(c.points[o].position.x>c.points[o+1].position.x&&(v=c.points[o],c.points[o]=c.points[o+1],c.points[o+1]=v,o++),c.points[o-1].position.x>c.points[o].position.x&&(v=c.points[o],c.points[o]=c.points[o-1],c.points[o-1]=v,o--))}c.events.ondrag&&c.events.ondrag(),c.draw()}c.events.onmousemove&&c.events.onmousemove()})),this.ctx.canvas.addEventListener("mousedown",(function(r){r.preventDefault(),o||0===o?i=!0:n>5&&(o=c.addPoint(t,e),i=!0,this.style.cursor="pointer",c.draw(),c.events.onnewpoint&&c.events.onnewpoint())})),this.ctx.canvas.addEventListener("mouseup",(function(s){i=!1,n>5&&(o=r=!1);for(var a=0;a<c.points.length;a++){var u=c.points[a];if((n=Math.sqrt((t-u.position.x)*(t-u.position.x)+(e-u.position.y)*(e-u.position.y)))<=c.pointSize/2+2){this.style.cursor="pointer",o=a;break}}c.createLUT()})),this.ctx.canvas.addEventListener("mouseleave",(function(n){i&&(n.offsetX<0||n.offsetX>c.cw?n.offsetX<0?"cp1"==r?(c.points[o].cp1.x=0,c.points[o].move(),X[16]||(c.points[o].cp2.x=0-2*c.points[o].v1x,c.points[o].cp2.y=e-2*c.points[o].v1y)):"cp2"==r?(c.points[o].cp2.x=0,c.points[o].move(),X[16]||(c.points[o].cp1.x=0-2*c.points[o].v2x,c.points[o].cp1.y=e-2*c.points[o].v2y)):(c.points[o].position.x=0,c.points[o].cp1.x=0+c.points[o].v1x,c.points[o].cp2.x=0+c.points[o].v2x):"cp1"==r?(c.points[o].cp1.x=c.cw,c.points[o].move(),X[16]||(c.points[o].cp2.x=c.cw-2*c.points[o].v1x,c.points[o].cp2.y=e-2*c.points[o].v1y)):"cp2"==r?(c.points[o].cp2.x=c.cw,c.points[o].move(),X[16]||(c.points[o].cp1.x=c.cw-2*c.points[o].v2x,c.points[o].cp1.y=e-2*c.points[o].v2y)):(c.points[o].position.x=c.cw,c.points[o].cp1.x=c.cw+c.points[o].v1x,c.points[o].cp2.x=c.cw+c.points[o].v2x):(n.offsetY<0||n.offsetY>c.ch)&&(n.offsetY<0?"cp1"==r?(c.points[o].cp1.y=0,c.points[o].move(),X[16]||(c.points[o].cp2.x=t-2*c.points[o].v1x,c.points[o].cp2.y=0-2*c.points[o].v1y)):"cp2"==r?(c.points[o].cp2.y=0,c.points[o].move(),X[16]||(c.points[o].cp1.x=t-2*c.points[o].v2x,c.points[o].cp1.y=0-2*c.points[o].v2y)):(c.points[o].position.y=0,c.points[o].cp1.y=0+c.points[o].v1y,c.points[o].cp2.y=0+c.points[o].v2y):"cp1"==r?(c.points[o].cp1.y=c.ch,c.points[o].move(),X[16]||(c.points[o].cp2.x=t-2*c.points[o].v1x,c.points[o].cp2.y=c.ch-2*c.points[o].v1y)):"cp2"==r?(c.points[o].cp2.y=c.ch,c.points[o].move(),X[16]||(c.points[o].cp1.x=t-2*c.points[o].v2x,c.points[o].cp1.y=c.ch-2*c.points[o].v2y)):(c.points[o].position.y=c.ch,c.points[o].cp1.y=c.ch+c.points[o].v1y,c.points[o].cp2.y=c.ch+c.points[o].v2y))),c.draw(),c.createLUT(),i=o=r=!1})),this.ctx.canvas.addEventListener("click",(function(t){X[16]&&!r&&(c.points[o].collapse(),c.draw(),c.createLUT(),c.events.ontogglecontrol&&c.events.ontogglecontrol())})),this.ctx.canvas.addEventListener("dblclick",(function(t){c.points.splice(o,1),i=o=r=!1,n=1e3,this.style.cursor="initial",c.draw(),c.createLUT(),c.events.onremovepoint&&c.events.onremovepoint()}))}},{key:"addPoint",value:function(t,e){this.points.push(new L(t,e,this.ctx,this.pointColor,this.pointSize,this.cpDist)),this.points.sort((function(t,e){return t.position.x-e.position.x}));for(var n=0;n<this.points.length;n++){var o=this.points[n];if(t==o.position.x&&e==o.position.y)return n}}},{key:"setPointStyle",value:function(t,e){for(var n=0;n<this.points.length;n++)this.points[n].setPointStyle(t,e),this.pointColor=t,this.pointSize=e;this.draw()}},{key:"setLineStyle",value:function(t,e){this.lineColor=t,this.lineWidth=e,this.draw()}},{key:"draw",value:function(){this.ctx.clearRect(0,0,this.cw,this.ch),this.ctx.strokeStyle="#444",this.ctx.lineWidth=1;for(var t=1;t<10;t++)this.ctx.beginPath(),this.ctx.moveTo(this.cw/10*t-.5,0),this.ctx.lineTo(this.cw/10*t-.5,this.ch),this.ctx.stroke();for(var e=1;e<5;e++)this.ctx.beginPath(),this.ctx.moveTo(0,this.ch/5*e-.5),this.ctx.lineTo(this.cw,this.ch/5*e-.5),this.ctx.stroke();this.ctx.lineWidth=.5;for(var n=1;n<20;n++)this.ctx.beginPath(),this.ctx.moveTo(this.cw/20*n-.5,0),this.ctx.lineTo(this.cw/20*n-.5,this.ch),this.ctx.stroke();for(var o=1;o<10;o++)this.ctx.beginPath(),this.ctx.moveTo(0,this.ch/10*o-.5),this.ctx.lineTo(this.cw,this.ch/10*o-.5),this.ctx.stroke();this.ctx.strokeStyle=this.lineColor,this.ctx.lineWidth=this.lineWidth,this.ctx.beginPath(),this.ctx.moveTo(this.points[0].position.x,this.points[0].position.y);for(var r=1;r<this.points.length;r++){var i=this.points[r],c=this.points[r-1];this.ctx.bezierCurveTo(c.cp2.x,c.cp2.y,i.cp1.x,i.cp1.y,i.position.x,i.position.y)}this.ctx.stroke();for(var s=0;s<this.points.length;s++)this.points[s].draw()}}])&&z(e.prototype,n),t}(),X=[];function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Q(t){var e="function"==typeof Map?new Map:void 0;return(Q=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return V(t,arguments,F(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),W(o,t)})(t)}function V(t,e,n){return(V=H()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&W(r,n.prototype),r}).apply(null,arguments)}function H(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}window.addEventListener("keydown",(function(t){X[t.keyCode]=!0})),window.addEventListener("keyup",(function(t){delete X[t.keyCode]}));var K,$,G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(r,t);var e,n,o=(e=r,n=H(),function(){var t,o=F(e);if(n){var r=F(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return D(this,t)});function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),o.call(this,r.KEY)}return r}(Q(CustomEvent));function Z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}$="editorCurveChangeEvent","KEY"in(K=G)?Object.defineProperty(K,"KEY",{value:$,enumerable:!0,configurable:!0,writable:!0}):K.KEY=$;var J=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._canvas=e,this._ctx=this._prepareContext(e),this._curve=this._createCurveJSInstance(this._ctx),this._propagateEvents(this._curve,e)}var e,n;return e=t,(n=[{key:"ease",get:function(){for(var t=new R,e=this._curve,n=(e.cw,e.ch,e.points),o=0;o<n.length-1;o++){var r=n[o],i=t.addAnchor(this._fromCanvasX(r.position.x),this._fromCanvasY(r.position.y));i.handle.x=this._fromCanvasX(r.cp2.x),i.handle.y=this._fromCanvasY(r.cp2.y);var c=n[o+1],s=t.addAnchor(this._fromCanvasX(c.position.x),this._fromCanvasY(c.position.y));s.handle.x=this._fromCanvasX(c.cp1.x),s.handle.y=this._fromCanvasY(c.cp1.y)}return t},set:function(t){var e=this._curve,n=e.points,o=e.pointColor,r=e.pointSize,i=e.cpDist,c=t.anchors,s=t.firstAnchor,a=t.lastAnchor;n.length=0;var u=new L(this._toCanvasX(s.x),this._toCanvasY(s.y),this._ctx,o,r,i);u.cp2.x=this._toCanvasX(s.handle.x),u.cp2.y=this._toCanvasY(s.handle.y),u.cp1.x=-u.cp2.x,u.cp1.y=-u.cp2.y,n.push(u);for(var l=1;l<c.length-1;l+=2){var p=c[l],h=c[l+1],f=new L(this._toCanvasX(p.x),this._toCanvasY(p.y),this._ctx,o,r,i);f.cp1.x=this._toCanvasX(p.handle.x),f.cp1.y=this._toCanvasY(p.handle.y),f.cp2.x=this._toCanvasX(h.handle.x),f.cp2.y=this._toCanvasY(h.handle.y),n.push(f)}var d=new L(this._toCanvasX(a.x),this._toCanvasY(a.y),this._ctx,o,r,i);d.cp1.x=this._toCanvasX(a.handle.x),d.cp1.y=this._toCanvasY(a.handle.y),d.cp2.x=-d.cp1.x,d.cp2.y=-d.cp1.y,n.push(d),this._curve.draw()}},{key:"_prepareContext",value:function(t){var e=t.getContext("2d");return e.canvas.width=t.clientWidth,e.canvas.height=t.clientHeight,e}},{key:"_createCurveJSInstance",value:function(t){var e=new Y(t);return e.setPointStyle("#ffffff",8),e.setLineStyle("#ace247",2),e}},{key:"_propagateEvents",value:function(t,e){t.on("drag",(function(){return e.dispatchEvent(new G)})),t.on("newpoint",(function(){return e.dispatchEvent(new G)})),t.on("removepoint",(function(){return e.dispatchEvent(new G)}))}},{key:"_toCanvasX",value:function(t){return t*this._curve.cw}},{key:"_toCanvasY",value:function(t){return(1-t)*this._curve.ch}},{key:"_fromCanvasX",value:function(t){return this._round(t/this._curve.cw)}},{key:"_fromCanvasY",value:function(t){return this._round(1-t/this._curve.ch)}},{key:"_round",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e);return Math.round(t*n)/n}}])&&Z(e.prototype,n),t}();function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ot(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function rt(t,e,n){return(rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=st(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ct(t,e){return!e||"object"!==tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(c,t);var e,n,o,r,i=(o=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=st(o);if(r){var n=st(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ct(this,t)});function c(t,e,n){var o;nt(this,c),(o=i.apply(this,arguments))._middleware=n,o._initDOM();var r=t[e],s=n.import(r);return o._orientation=s.orientation,o._ease=s,o._editor=null,o._isCustomCurve=s.curve===x.CUSTOM,o.domElement.querySelector(".property-name").innerHTML=e,o._updateSelectors(s),o._updateCornerCurve(s),o}return e=c,(n=[{key:"setValue",value:function(t){rt(st(c.prototype),"setValue",this).call(this,this._middleware.export(t))}},{key:"_initDOM",value:function(){this.domElement=this._renderTemplate('<div class="ease-gui mode-select"> <div class="header"> <div class="property-name"></div> <div class="c"> <div class="ease-selector"> <div class="corner-curve-container"> <div class="ratio-box"> <div class="ratio-box-inner"> <canvas class="corner-curve"></canvas> </div> </div> </div> <div class="template-selector"> <div class="curve-selector-container"> <select class="curve-selector" dir="rtl"></select> </div> <div class="orientation-selector-container"> <select class="orientation-selector"></select> </div> <div class="edit-button-container"> <svg class="edit-button" xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 0 24 24" width="18px" fill="#606060"><path d="M0 0h24v24H0z" fill="none"/><path d="M19.5 9.5c-1.03 0-1.9.62-2.29 1.5h-2.92c-.39-.88-1.26-1.5-2.29-1.5s-1.9.62-2.29 1.5H6.79c-.39-.88-1.26-1.5-2.29-1.5C3.12 9.5 2 10.62 2 12s1.12 2.5 2.5 2.5c1.03 0 1.9-.62 2.29-1.5h2.92c.39.88 1.26 1.5 2.29 1.5s1.9-.62 2.29-1.5h2.92c.39.88 1.26 1.5 2.29 1.5 1.38 0 2.5-1.12 2.5-2.5s-1.12-2.5-2.5-2.5z"/></svg> </div> </div> </div> </div> </div> <div class="editor-container"> <div class="ratio-box"> <div class="ratio-box-inner"> <canvas class="editor"></canvas> </div> </div> <div class="path-selector-container"> <input type="text" class="path-selector" onclick="this.select()" value="M0,0 C20, 23,123"/> <div class="copy-button-container"> <svg class="copy-button" xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 0 24 24" width="18px" fill="#606060"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> </div> </div> <div class="editor-buttons"> <div class="decline-button"> <div class="icon-container"> <svg class="icon" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#c93333"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </div> <div class="label-container"> <div class="label">DISCARD</div> </div> </div> <div class="accept-button"> <div class="label-container"> <div class="label">ACCEPT</div> </div> <div class="icon-container"> <svg class="icon" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#84be18"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M9 16.2l-3.5-3.5c-.39-.39-1.01-.39-1.4 0-.39.39-.39 1.01 0 1.4l4.19 4.19c.39.39 1.02.39 1.41 0L20.3 7.7c.39-.39.39-1.01 0-1.4-.39-.39-1.01-.39-1.4 0L9 16.2z"/></svg> </div> </div> </div> </div> <div> </div> </div>'),this._initCurveSelector(),this._initOrientationSelector(),this._initCustomPathSelector(),this._initButtons()}},{key:"_initCurveSelector",value:function(){var t,e=this,n=this.domElement.querySelector(".curve-selector"),o=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return et(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){s=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}(new Set(this._middleware.templates.map((function(t){return t.curve}))));try{for(o.s();!(t=o.n()).done;){var r=t.value;n.options.add(new Option(r,r))}}catch(t){o.e(t)}finally{o.f()}var i=new Option(x.CUSTOM,x.CUSTOM);i.setAttribute("hidden",!0),n.options.add(i),n.onchange=function(){var t=n.value,o=e._ease;e._updateOrientations(e._getCurveOrientations(t),o.orientation),e._ease=e._getEaseTemplate(),e._editor&&(e._editor.ease=e._ease),e._updatePathInspector(e._ease),e._updateCornerCurve(e._ease),e.setValue(e._ease)}}},{key:"_initOrientationSelector",value:function(){var t=this;this.domElement.querySelector(".orientation-selector").onchange=function(){t._ease=t._getEaseTemplate(),t._editor&&(t._editor.ease=t._ease),t._updatePathInspector(t._ease),t._updateCornerCurve(t._ease),t.setValue(t._ease)}}},{key:"_initCustomPathSelector",value:function(){var t=this,e=this.domElement.querySelector(".path-selector");e.oninput=function(n){var o=e.value;try{var r=R.fromSVGPath(e.value);t._editor.ease=r,t._updateCornerCurve(r),t.setValue(r)}catch(t){console.warn("Couldn't parse SVG path ".concat(o))}}}},{key:"_initButtons",value:function(){this._initEditButton(),this._initCopyButton(),this._initAcceptButton(),this._initDeclineButton()}},{key:"_initEditButton",value:function(){var t=this,e=this.domElement.querySelector(".edit-button");this._middleware.isEditingSupported()?e.addEventListener("click",(function(){t._preEditEase=t._ease,t._openEditor(t._ease)})):e.style.display="none"}},{key:"_initCopyButton",value:function(){var t=this.domElement.querySelector(".copy-button"),e=this.domElement.querySelector(".path-selector");t.addEventListener("click",(function(){e.select(),document.execCommand("copy"),console.info("Copied ".concat(e.value))}))}},{key:"_initAcceptButton",value:function(){var t=this;this.domElement.querySelector(".accept-button").addEventListener("click",(function(){return t._closeEditor()}))}},{key:"_initDeclineButton",value:function(){var t=this;this.domElement.querySelector(".decline-button").addEventListener("click",(function(){t._closeEditor(),t._ease=t._preEditEase,t._updateSelectors(t._ease),t._updateCornerCurve(t._ease),t.setValue(t._ease)}))}},{key:"_openEditor",value:function(t){var e=this;this._toggleEditMode(!0);var n=this.domElement.querySelector(".editor"),o=new J(n);this.domElement.querySelector(".curve-selector"),o.ease=t,n.addEventListener(G.KEY,(function(){e._ease=o.ease,e._updateSelectors(e._ease),e._updateCornerCurve(e._ease),e.setValue(e._ease)})),this._editor=o}},{key:"_closeEditor",value:function(){var t=this.domElement.querySelector(".editor"),e=t.cloneNode(!0);t.parentNode.replaceChild(e,t),this._toggleEditMode(!1),this._editor=null}},{key:"_updateOrientations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this.domElement.querySelector(".orientation-selector");n.options.length=0,t.length>0?(t.forEach((function(t){return n.options.add(new Option(t,t))})),n.value=t.includes(e)?e:t[0],n.removeAttribute("disabled")):n.setAttribute("disabled",!0)}},{key:"_updateSelectors",value:function(t){var e=this.domElement.querySelector(".curve-selector"),n=this.domElement.querySelector(".path-selector");e.value=t.curve,n.value=t.toString(),this._updateOrientations(this._getCurveOrientations(t.curve),t.orientation)}},{key:"_updateCornerCurve",value:function(t){var e=this.domElement.querySelector("canvas.corner-curve").getContext("2d"),n=e.canvas.width=60,o=e.canvas.height=60;e.strokeStyle=e.fillStyle="#88CE02",e.lineWidth=1,e.clearRect(0,0,n,o),e.beginPath(),e.moveTo(t.firstAnchor.x*n,(1-t.firstAnchor.y)*o);for(var r=0;r<t.anchors.length;r+=2){var i=t.anchors[r],c=t.anchors[r+1];e.bezierCurveTo(i.handle.x*n,(1-i.handle.y)*o,c.handle.x*n,(1-c.handle.y)*o,c.x*n,(1-c.y)*o)}e.lineTo(n,o),e.lineTo(0,o),e.stroke(),e.fill()}},{key:"_updatePathInspector",value:function(t){this.domElement.querySelector(".path-selector").value=t.toString()}},{key:"_toggleEditMode",value:function(t){t?(this.domElement.classList.remove("mode-select"),this.domElement.classList.add("mode-edit")):(this.domElement.classList.remove("mode-edit"),this.domElement.classList.add("mode-select"))}},{key:"_toggleCustomPathMode",value:function(t){t?this.domElement.classList.add("mode-custom-path"):this.domElement.classList.remove("mode-custom-path")}},{key:"_renderTemplate",value:function(t){return(new DOMParser).parseFromString(t,"text/html").body.firstChild}},{key:"_getCurveOrientations",value:function(t){return this._getCurveTemplates(t).map((function(t){return t.orientation}))}},{key:"_getCurveTemplates",value:function(t){return this._middleware.templates.filter((function(e){return e.curve===t}))}},{key:"_getEaseTemplate",value:function(){var t=this.domElement.querySelector(".curve-selector").value,e=this.domElement.querySelector(".orientation-selector").value;return this._middleware.templates.find((function(n){return n.curve===t&&n.orientation===e}))}}])&&ot(e.prototype,n),c}(e.controllers.Controller),ut=e.dom.dom;function lt(t,n,o){var r=new at(t,n,o),i=document.createElement("li");return i.appendChild(r.domElement),this.__ul.appendChild(i),this.onResize(),ut.addClass(i,e.GUI.CLASS_CONTROLLER_ROW),ut.addClass(i,"ease"),r.__li=i,r.__gui=this,r.name=function(t){return this.__li.firstElementChild.firstElementChild.innerHTML=t,this},r.listen=function(){return this.__gui.listen(this),this},r.remove=function(){return this.__gui.remove(this),this},this.__controllers.push(r),r}function pt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ht=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._caster=e}var e,n;return e=t,(n=[{key:"isEditingSupported",value:function(){return!0}},{key:"isFormatSupported",value:function(t){return this._caster.isSupported(t)}},{key:"import",value:function(t){return this._caster.externalToInternal(t)}},{key:"export",value:function(t){return this._caster.internalToExternal(t)}},{key:"toString",value:function(){return"[object EaseMiddleware]"}},{key:"templates",get:function(){return this._caster.supportedTemplates}}])&&pt(e.prototype,n),t}();function ft(t,e){if(t){if("string"==typeof t)return dt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dt(t,e):void 0}}function dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function vt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var yt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._castMap=this._createCastMap()}var e,n;return e=t,(n=[{key:"internalToExternal",value:function(t){var e,n,o,r=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=ft(t))){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){s=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}(this._castMap);try{for(r.s();!(e=r.n()).done;){var i=(n=e.value,o=2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,r=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(o=(c=s.next()).done)&&(n.push(c.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}return n}}(n,o)||ft(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0];if(i[1]===t)return c}}catch(t){r.e(t)}finally{r.f()}}},{key:"externalToInternal",value:function(t){return this._castMap.get(t)}},{key:"isSupported",value:function(t){return this._castMap.has(t)}},{key:"supportedTemplates",get:function(){return Array.from(this._castMap.values())}},{key:"_createCastMap",value:function(){return new Map}}])&&vt(e.prototype,n),t}();function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t){return function(t){if(Array.isArray(t))return mt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return mt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _t(t,e){return!e||"object"!==bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ct(t){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(r,t);var e,n,o=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=Ct(e);if(n){var r=Ct(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return _t(this,t)});function r(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.LINEAR,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.NONE,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[x1=0,y1=0,x2=0,y2=0];return xt(this,r),(t=o.call.apply(o,[this,e].concat(gt(Ot(i))))).orientation=n,t}return r}(R);function Ot(t){var e=new m(0,0),n=new m(1,1);return e.handle.x=t[0],e.handle.y=t[1],n.handle.x=t[2],n.handle.y=t[3],[e,n]}var Et=new St(x.LINEAR,w.NONE,[0,0,1,1]),kt=new St(x.SINE,w.IN,[.12,0,.39,0]),Tt=new St(x.SINE,w.OUT,[.61,1,.88,1]),jt=new St(x.SINE,w.IN_OUT,[.37,0,.63,1]),It=new St(x.QUAD,w.IN,[.11,0,.5,0]),Pt=new St(x.QUAD,w.OUT,[.5,1,.89,1]),Mt=new St(x.QUAD,w.IN_OUT,[.45,0,.55,1]),At=new St(x.CUBIC,w.IN,[.32,0,.67,0]),Rt=new St(x.CUBIC,w.OUT,[.33,1,.68,1]),Ut=new St(x.CUBIC,w.IN_OUT,[.65,0,.35,1]),Nt=new St(x.QUART,w.IN,[.5,0,.75,0]),Bt=new St(x.QUART,w.OUT,[.25,1,.5,1]),Lt=new St(x.QUART,w.IN_OUT,[.76,0,.24,1]),zt=new St(x.QUINT,w.IN,[.64,0,.78,0]),Yt=new St(x.QUINT,w.OUT,[.22,1,.36,1]),Xt=new St(x.QUINT,w.IN_OUT,[.83,0,.17,1]),qt=new St(x.EXPO,w.IN,[.7,0,.84,0]),Dt=new St(x.EXPO,w.OUT,[.16,1,.3,1]),Qt=new St(x.EXPO,w.IN_OUT,[.87,0,.13,1]),Vt=new St(x.CIRC,w.IN,[.55,0,1,.45]),Ht=new St(x.CIRC,w.OUT,[0,.55,.45,1]),Wt=new St(x.CIRC,w.IN_OUT,[.85,0,.15,1]),Ft=new St(x.BACK,w.IN,[.36,0,.66,-.56]),Kt=new St(x.BACK,w.OUT,[.34,1.56,.64,1]),$t=new St(x.BACK,w.IN_OUT,[.68,-.6,.32,1.6]),Gt=new St(x.CUSTOM,w.NONE,[0,0,1,1]);function Zt(t){var e=[];return t.GUI.prototype.addEase=function(t,n){var o=t[n],r=e.find((function(t){return t.isFormatSupported(o)}));if(r)return lt.call(this,t,n,r);console.warn("No compatible middleware found.")},{use:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"[object EaseMiddleware]"===t.toString()?e.push(t):console.warn("Middleware instance expected")}}}})(),r})()}));