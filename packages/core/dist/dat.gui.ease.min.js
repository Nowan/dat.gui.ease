/*!
 * @license MIT License
 *
 * Copyright (c) 2021 Mykyta Dniprovskyi
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("dat.gui")):"function"==typeof define&&define.amd?define(["dat.gui"],e):"object"==typeof exports?exports.datGuiEase=e(require("dat.gui")):t.datGuiEase=e(t.dat)}(self,(function(e){return(()=>{var n={248:function(t,e,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(913)],void 0===(i="function"==typeof(r=function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=n(e);var u=function(){function t(){r(this,t),this._middlewares=[]}return i(t,[{key:"hasCompatibleMiddleware",value:function(t){return this._middlewares.some((function(e){return e.isFormatSupported(t)}))}},{key:"getCompatibleMiddleware",value:function(t){return this._middlewares.find((function(e){return e.isFormatSupported(t)}))||null}},{key:"use",value:function(t){t&&e.default.checkSignature(t)?this._middlewares.push(t):console.warn("Middleware instance expected")}}]),t}();t.default=u})?r.apply(e,o):r)||(t.exports=i)},224:function(t,e,n){var r,o,i;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(293),n(611)],void 0===(i="function"==typeof(r=function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}function i(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==u(t)&&"function"!=typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var c=i?Object.getOwnPropertyDescriptor(t,a):null;c&&(c.get||c.set)?Object.defineProperty(r,a,c):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=c,e=i(e),n=r(n);var a=e.dom.dom;function c(t,e,r){var o=new n.default(t,e,r);f(this,o);var i=l(this);return a.addClass(i,"cr"),a.addClass(i,"ease"),i.appendChild(o.domElement),p(this,i,o),this.__controllers.push(o),o}var s="Default";function f(t,e){var n=t.getRoot(),r=n.__rememberedObjects.indexOf(e.object);if(-1!==r){var o=n.__rememberedObjectIndecesToControllers[r];if(void 0===o&&(o={},n.__rememberedObjectIndecesToControllers[r]=o),o[e.property]=e,n.load&&n.load.remembered){var i,u=n.load.remembered;if(u[t.preset])i=u[t.preset];else{if(!u[s])return;i=u[s]}if(i[r]&&void 0!==i[r][e.property]){var a=i[r][e.property];e.initialValue=a,e.setValue(a)}}}}function l(t){var e=document.createElement("li");return t.__ul.appendChild(e),t.onResize(),e}function p(t,e,n){n.__li=e,n.__gui=this,n.name=function(t){return this.__li.querySelector(".property-name").innerHTML=t,this},n.listen=function(){return this.__gui.listen(this),this},n.remove=function(){return this.__gui.remove(this),this},t.getRoot().__preset_select&&(n.onValueModified=y.bind(null,t,!0))}function y(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+"*":n.value}})?r.apply(e,o):r)||(t.exports=i)},611:function(t,e,n){var r,o,i;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(293),n(99),n(678),n(3),n(866)],void 0===(i="function"==typeof(r=function(t,e,n,r,o,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function c(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(c=function(t){return t?n:e})(t)}function s(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==u(t)&&"function"!=typeof t)return{default:t};var n=c(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=m();return function(){var n,r=_(t);if(e){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=s(e),n=a(n),r=a(r),o=s(o),i=a(i);var x=function(t){y(u,t);var e=h(u);function u(t,n,r){var a;f(this,u),a=e.apply(this,arguments);var c=t[n],s=r.import(c);return a._middleware=r,a._model=new i.default(r),a._view=new o.default(a._model.curves),a._model.activePreset=s,a._view.setOrientations(a._model.getCurveOrientations(s.curve)),a._view.setPreset(s),a._middleware.isEditingSupported()&&a._view.showEditButton(),a._view.on(o.GUIViewEvent.CURVE_PRESET_SELECTED,a._onCurvePresetSelected.bind(b(a))),a._view.on(o.GUIViewEvent.ORIENTATION_PRESET_SELECTED,a._onOrientationPresetSelected.bind(b(a))),a._view.on(o.GUIViewEvent.EDIT_EASE_CLICKED,a._onEditEaseClicked.bind(b(a))),a._view.on(o.GUIViewEvent.EASE_MODIFIED,a._onEaseModified.bind(b(a))),a._view.on(o.GUIViewEvent.ACCEPT_EASE_EDIT_CLICKED,a._onAcceptEaseEditClicked.bind(b(a))),a._view.on(o.GUIViewEvent.DISCARD_EASE_EDIT_CLICKED,a._onDiscardEaseEditClicked.bind(b(a))),a.domElement=a._view.domElement,a._onValueModified=null,a}return p(u,[{key:"getValue",value:function(){return this._model.activePreset.ease.toString()}},{key:"setValue",value:function(t){var e=n.default.fromSVGPath(t),o=this._model.getPresetMatchingEase(e);this._model.activePreset=o||new r.default(e,r.default.CURVE.CUSTOM,r.default.ORIENTATION.NONE),this._view.setOrientations(this._model.getCurveOrientations(this._model.activePreset.curve)),this._view.setPreset(this._model.activePreset),this._applyRevertedValue(this._model.activePreset)}},{key:"onValueModified",set:function(t){this._onValueModified=t}},{key:"_applyValue",value:function(t){this._applyRevertedValue(t),this._onValueModified&&this._onValueModified()}},{key:"_applyRevertedValue",value:function(t){var e=this._middleware.export(t);this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.__onFinishChange&&this.__onFinishChange.call(this,e),this.updateDisplay()}},{key:"_onCurvePresetSelected",value:function(t){var e=this._model.activePreset.orientation,n=this._model.getCurveOrientations(t),r=n.includes(e)?e:n[0],o=this._model.getMatchingPreset(t,r);this._model.activePreset=o,this._view.setOrientations(n),this._view.setPreset(o),this._applyValue(o)}},{key:"_onOrientationPresetSelected",value:function(t){var e=this._model.getMatchingPreset(this._model.activePreset.curve,t);this._model.activePreset=e,this._view.setPreset(e),this._applyValue(e)}},{key:"_onEditEaseClicked",value:function(){this._model.preEditPreset=this._model.activePreset.clone(),this._view.openEditor(this._model.activePreset.ease)}},{key:"_onEaseModified",value:function(t){var e=this._model.getPresetMatchingEase(t);this._model.activePreset=e||new r.default(t,r.default.CURVE.CUSTOM,r.default.ORIENTATION.NONE),this._view.setPreset(this._model.activePreset),this._applyValue(this._model.activePreset)}},{key:"_onAcceptEaseEditClicked",value:function(){this._view.closeEditor(),this._view.setPreset(this._model.activePreset),this._applyValue(this._model.activePreset)}},{key:"_onDiscardEaseEditClicked",value:function(){this._model.activePreset=this._model.preEditPreset,this._view.closeEditor(),this._view.setPreset(this._model.activePreset),this._applyValue(this._model.activePreset)}}]),u}(e.controllers.Controller);t.default=x})?r.apply(e,o):r)||(t.exports=i)},866:function(t,e){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],void 0===(o="function"==typeof(n=function(t){"use strict";function e(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,u=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw u}}}}function n(t){return u(t)||i(t)||o(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function i(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function u(t){if(Array.isArray(t))return a(t)}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t){return t.reduce((function(t,e){return t.includes(e.curve)?t:[].concat(n(t),[e.curve])}),[])}function p(t,n){var r,o=new Map,i=e(n);try{var u=function(){var e=r.value,n=t.filter((function(t){return t.curve===e})).map((function(t){return t.orientation}));o.set(e,n)};for(i.s();!(r=i.n()).done;)u()}catch(t){i.e(t)}finally{i.f()}return o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var y=function(){function t(e){c(this,t),this._presets=e.presets,this._curves=l(this._presets),this._orientationsMap=p(this._presets,this._curves),this._activePreset=null,this._preEditPreset=null}return f(t,[{key:"presets",get:function(){return this._presets}},{key:"curves",get:function(){return this._curves}},{key:"activePreset",get:function(){return this._activePreset},set:function(t){this._activePreset=t}},{key:"preEditPreset",get:function(){return this._preEditPreset},set:function(t){this._preEditPreset=t}},{key:"getCurveOrientations",value:function(t){return this._orientationsMap.get(t)||[]}},{key:"getMatchingPreset",value:function(t,e){return this._presets.find((function(n){return n.curve===t&&n.orientation===e}))}},{key:"getPresetMatchingEase",value:function(t){return this._presets.find((function(e){return e.ease.equals(t)}))}}]),t}();t.default=y})?n.apply(e,r):n)||(t.exports=o)},99:function(t,e,n){var r,o,i;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(30),n(117),n(724),n(151),n(687)],void 0===(i="function"==typeof(r=function(t,e,n,r,o,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=x(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function s(){s=function(t,e){return new n(t,void 0,e)};var t=RegExp.prototype,e=new WeakMap;function n(t,r,o){var i=new RegExp(t,r);return e.set(i,o||e.get(t)),y(i,n.prototype)}function r(t,n){var r=e.get(n);return Object.keys(r).reduce((function(e,n){return e[n]=t[r[n]],e}),Object.create(null))}return f(n,RegExp),n.prototype.exec=function(e){var n=t.exec.call(this,e);return n&&(n.groups=r(n,this)),n},n.prototype[Symbol.replace]=function(n,o){if("string"==typeof o){var i=e.get(this);return t[Symbol.replace].call(this,n,o.replace(/\$<([^>]+)>/g,(function(t,e){return"$"+i[e]})))}if("function"==typeof o){var a=this;return t[Symbol.replace].call(this,n,(function(){var t=arguments;return"object"!=u(t[t.length-1])&&(t=[].slice.call(t)).push(r(t,a)),o.apply(this,t)}))}return t[Symbol.replace].call(this,n,o)},s.apply(this,arguments)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}function l(t,e,n){return(l=p()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&y(o,n.prototype),o}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return b(t)||v(t)||x(t)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function b(t){if(Array.isArray(t))return g(t)}function m(t,e){return O(t)||w(t,e)||x(t,e)||_()}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}function O(t){if(Array.isArray(t))return t}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e,n){return e&&P(t.prototype,e),n&&P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Anchor",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"Handle",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"InvalidSVGPathException",{enumerable:!0,get:function(){return o.default}}),t.default=void 0,e=a(e),n=a(n),r=a(r),o=a(o);var S=function(){function t(){E(this,t);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._anchors=Array.from(n)}return C(t,[{key:"anchors",get:function(){return this._anchors}},{key:"firstAnchor",get:function(){return this._anchors[0]}},{key:"lastAnchor",get:function(){return this._anchors[this._anchors.length-1]}},{key:"svgPath",get:function(){return t.toSVGPath(this)}},{key:"points",get:function(){for(var t=[],e=0;e<this.anchors.length;e+=2){var n=this.anchors[e],r=this.anchors[e+1];t.push(n.toPoint(),n.handle.toPoint(),r.handle.toPoint(),r.toPoint())}return t}},{key:"computeValue",value:function(t){var e=m(j(this._anchors,t),2),n=e[0],r=e[1],o=(t-n.x)/(r.x-n.x);if("0.000"===o.toFixed(3)||"1.000"===o.toFixed(3))return(0===o?n:r).y;var u=new i.Bezier(n,n.handle,r.handle,r),a=u.intersects({p1:{x:t,y:-10},p2:{x:t,y:10}}).shift();return u.get(a).y}},{key:"equals",value:function(t){return this.svgPath===t.svgPath}},{key:"addAnchor",value:function(t,n){var r=new e.default(t,n);return this.anchors.push(r),r}},{key:"toString",value:function(){return this.svgPath}},{key:"clone",value:function(){return t.of.apply(t,d(this._anchors.map((function(t){return t.clone()}))))}}],[{key:"of",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return l(t,n)}},{key:"ofSVGPath",value:function(n){try{var i=n.trim(),u=m(i.match(s(/^M *([\.0-9]+),([\.0-9]+)/,{x:1,y:2})).splice(-2).map(T),2),a=u[0],c=u[1],f=i.replace(/^M.*C */,"").replace(/ *$/,"").split(/[ ,]/).map(T);if(f.length%6!=0)throw new Error("Irregular number of coordinates provided.");var l=[];l[0]=e.default.ofOriginAndHandle(r.default.of(a,c),r.default.of(f[0],f[1]));for(var p=2;p<f.length-4;p+=6){var y=(p-2)/3+1;l[y]=e.default.ofOriginAndHandle(r.default.of(f[p+2],f[p+3]),r.default.of(f[p],f[p+1])),l[y+1]=e.default.ofOriginAndHandle(r.default.of(f[p+2],f[p+3]),r.default.of(f[p+4],f[p+5]))}var h=e.default.ofOriginAndHandle(r.default.of.apply(r.default,d(f.slice(-2))),r.default.of(f[f.length-4],f[f.length-3]));return l.push(h),t.of.apply(t,l)}catch(t){throw new o.default(t)}}},{key:"toSVGPath",value:function(t){for(var e="M ".concat(t.firstAnchor.x,",").concat(t.firstAnchor.y," C"),n=0;n<t.anchors.length;n+=2){var r=t.anchors[n],o=t.anchors[n+1];e+=" ".concat(r.handle.x,",").concat(r.handle.y," ").concat(o.handle.x,",").concat(o.handle.y," ").concat(o.x,",").concat(o.y)}var i,u=t.points,a=u.shift(),s=("M ".concat(a.x,",").concat(a.y," C"),c(u));try{for(s.s();!(i=s.n()).done;){var f=i.value;" ".concat(f.x,",").concat(f.y)}}catch(t){s.e(t)}finally{s.f()}return e}}]),t}();function j(t,e){for(var n,r,o=0;o<t.length&&(n=t[o],r=t[o+1],!(n.x<=e&&r.x>=e));o++);return[n,r]}function T(t){var e=Number.parseFloat(t);if(NaN===e)throw new Error('Error parsing coordinate "'.concat(t,'"'));return e}t.default=S})?r.apply(e,o):r)||(t.exports=i)},30:function(t,e,n){var r,o,i;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(117),n(724)],void 0===(i="function"==typeof(r=function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=y();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=r(e);var h=function(t){c(i,t);var r=f(i);function i(t,n){var u;return o(this,i),(u=r.call(this,t,n)).handle=new e.default(t,n),u}return a(i,[{key:"toPoint",value:function(){return n.default.of(this.x,this.y)}},{key:"clone",value:function(){var t=i.ofOrigin(this);return t.handle.copy(this.handle),t}}],[{key:"ofOriginAndHandle",value:function(t,e){var n=i.ofOrigin(t);return n.handle.copy(e),n}},{key:"ofOrigin",value:function(t){return i.of(t.x,t.y)}},{key:"of",value:function(t,e){return new i(t,e)}}]),i}((n=r(n)).default);t.default=h})?r.apply(e,o):r)||(t.exports=i)},117:function(t,e,n){var r,o,i;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(724)],void 0===(i="function"==typeof(r=function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=p();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=function(t){a(o,t);var n=s(o);function o(){return r(this,o),n.apply(this,arguments)}return i(o,[{key:"toPoint",value:function(){return e.default.of(this.x,this.y)}}],[{key:"of",value:function(t,e){return new o(t,e)}}]),o}((e=n(e)).default);t.default=d})?r.apply(e,o):r)||(t.exports=i)},724:function(t,e){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],void 0===(o="function"==typeof(n=function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e(this,t),this.x=n,this.y=r}return r(t,[{key:"copy",value:function(t){this.x=t.x,this.y=t.y}}],[{key:"of",value:function(e,n){return new t(e,n)}}]),t}();t.default=o})?n.apply(e,r):n)||(t.exports=o)},151:function(t,e){var n,r,o;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],void 0===(o="function"==typeof(n=function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}function r(t){var e=s();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}function o(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){var e="function"==typeof Map?new Map:void 0;return(a=function(t){if(null===t||!f(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return c(t,arguments,p(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,t)})(t)}function c(t,e,n){return(c=s()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&l(o,n.prototype),o}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function f(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var y=function(t){n(i,t);var o=r(i);function i(){return e(this,i),o.apply(this,arguments)}return i}(a(Error));t.default=y})?n.apply(e,r):n)||(t.exports=o)},678:function(t,e,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(99),n(203),n(313)],void 0===(i="function"==typeof(r=function(t,e,n,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Curve",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Orientation",{enumerable:!0,get:function(){return r.default}}),t.default=void 0,e=o(e),n=o(n),r=o(r);var s=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.CURVE.UNDEFINED,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.ORIENTATION.NONE;i(this,t),this.ease=n instanceof e.default?n:e.default.ofSVGPath(n),this.curve=r,this.orientation=o}return a(t,[{key:"clone",value:function(){return t.of(this.ease.toString(),this.curve,this.orientation)}},{key:"toString",value:function(){return"[".concat(this.ease.toString(),"][").concat(this.curve,".").concat(this.orientation,"]")}},{key:"equals",value:function(t){return this.toString()===t.toString()}}],[{key:"of",value:function(e){return new t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.CURVE.UNDEFINED,arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.ORIENTATION.NONE)}}]),t}();c(s,"CURVE",n.default),c(s,"ORIENTATION",r.default);var f=s;t.default=f})?r.apply(e,o):r)||(t.exports=i)},96:function(t,e,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(678),n(203)],void 0===(i="function"==typeof(r=function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n=r(n);var a=function(){function t(e){o(this,t),this._providerFunction=e,this._curveAlias=null,this._orientationAlias=null}return u(t,[{key:"withAlias",value:function(t){return this._curveAlias=t,this}},{key:"withOrientation",value:function(t){return this._orientationAlias=t,this}},{key:"next",value:function(){var t=this._providerFunction();return this._curveAlias&&(t.curve=this._curveAlias),this._orientationAlias&&(t.orientation=this._orientationAlias),t}}],[{key:"ofSample",value:function(e){return new t((function(){return e.clone()}))}}]),t}();t.default=a})?r.apply(e,o):r)||(t.exports=i)},203:function(t,e){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],void 0===(o="function"==typeof(n=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=Object.freeze({LINEAR:"Linear",SINE:"Sine",QUAD:"Quad",CUBIC:"Cubic",QUART:"Quart",QUINT:"Quint",EXPO:"Expo",CIRC:"Circ",BACK:"Back",ELASTIC:"Elastic",BOUNCE:"Bounce",CUSTOM:"Custom",UNDEFINED:"Undefined"});t.default=e})?n.apply(e,r):n)||(t.exports=o)},313:function(t,e){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],void 0===(o="function"==typeof(n=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=Object.freeze({IN:"in",OUT:"out",IN_OUT:"inOut",NONE:"none"});t.default=e})?n.apply(e,r):n)||(t.exports=o)},564:function(t,e,n){var r,o,i;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(678),n(96)],void 0===(i="function"==typeof(r=function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}function i(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==u(t)&&"function"!=typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var c=i?Object.getOwnPropertyDescriptor(t,a):null;c&&(c.get||c.set)?Object.defineProperty(r,a,c):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}Object.defineProperty(t,"__esModule",{value:!0}),t.BackInOut=t.BackOut=t.BackIn=t.CircInOut=t.CircOut=t.CircIn=t.ExpoInOut=t.ExpoOut=t.ExpoIn=t.QuartInOut=t.QuartOut=t.QuartIn=t.CubicInOut=t.CubicOut=t.CubicIn=t.QuadInOut=t.QuadOut=t.QuadIn=t.SineInOut=t.SineOut=t.SineIn=t.Linear=void 0,e=i(e);var a=(n=r(n)).default.ofSample(e.default.of("M 0,0 C 0,0 1,1 1,1",e.Curve.LINEAR,e.Orientation.NONE));t.Linear=a;var c=n.default.ofSample(e.default.of("M 0,0 C 0.12,0 0.39,0 1,1",e.Curve.SINE,e.Orientation.IN));t.SineIn=c;var s=n.default.ofSample(e.default.of("M 0,0 C 0.61,1 0.88,1 1,1",e.Curve.SINE,e.Orientation.OUT));t.SineOut=s;var f=n.default.ofSample(e.default.of("M 0,0 C 0.37,0 0.63,1 1,1",e.Curve.SINE,e.Orientation.IN_OUT));t.SineInOut=f;var l=n.default.ofSample(e.default.of("M 0,0 C 0.11,0 0.5,0 1,1",e.Curve.QUAD,e.Orientation.IN));t.QuadIn=l;var p=n.default.ofSample(e.default.of("M 0,0 C 0.5,1 0.89,1 1,1",e.Curve.QUAD,e.Orientation.OUT));t.QuadOut=p;var y=n.default.ofSample(e.default.of("M 0,0 C 0.45,0 0.55,1 1,1",e.Curve.QUAD,e.Orientation.IN_OUT));t.QuadInOut=y;var d=n.default.ofSample(e.default.of("M 0,0 C 0.32,0 0.67,0 1,1",e.Curve.CUBIC,e.Orientation.IN));t.CubicIn=d;var h=n.default.ofSample(e.default.of("M 0,0 C 0.33,1 0.68,1 1,1",e.Curve.CUBIC,e.Orientation.OUT));t.CubicOut=h;var v=n.default.ofSample(e.default.of("M 0,0 C 0.65,0 0.35,1 1,1",e.Curve.CUBIC,e.Orientation.IN_OUT));t.CubicInOut=v;var b=n.default.ofSample(e.default.of("M 0,0 C 0.5,0 0.75,0 1,1",e.Curve.QUART,e.Orientation.IN));t.QuartIn=b;var m=n.default.ofSample(e.default.of("M 0,0 C 0.25,1 0.5,1 1,1",e.Curve.QUART,e.Orientation.OUT));t.QuartOut=m;var _=n.default.ofSample(e.default.of("M 0,0 C 0.76,0 0.24,1 1,1",e.Curve.QUART,e.Orientation.IN_OUT));t.QuartInOut=_;var x=n.default.ofSample(e.default.of("M 0,0 C 0.7,0 0.84,0 1,1",e.Curve.EXPO,e.Orientation.IN));t.ExpoIn=x;var g=n.default.ofSample(e.default.of("M 0,0 C 0.16,1 0.3,1 1,1",e.Curve.EXPO,e.Orientation.OUT));t.ExpoOut=g;var w=n.default.ofSample(e.default.of("M 0,0 C 0.87,0 0.13,1 1,1",e.Curve.EXPO,e.Orientation.IN_OUT));t.ExpoInOut=w;var O=n.default.ofSample(e.default.of("M 0,0 C 0.55,0 1,0.45 1,1",e.Curve.CIRC,e.Orientation.IN));t.CircIn=O;var E=n.default.ofSample(e.default.of("M 0,0 C 0,0.55 0.45,1 1,1",e.Curve.CIRC,e.Orientation.OUT));t.CircOut=E;var P=n.default.ofSample(e.default.of("M 0,0 C 0.85,0 0.15,1 1,1",e.Curve.CIRC,e.Orientation.IN_OUT));t.CircInOut=P;var C=n.default.ofSample(e.default.of("M 0,0 C 0.36,0 0.66,-0.56 1,1",e.Curve.BACK,e.Orientation.IN));t.BackIn=C;var S=n.default.ofSample(e.default.of("M 0,0 C 0.34,1.56 0.64,1 1,1",e.Curve.BACK,e.Orientation.OUT));t.BackOut=S;var j=n.default.ofSample(e.default.of("M 0,0 C 0.68,-0.6 0.32,1.6 1,1",e.Curve.BACK,e.Orientation.IN_OUT));t.BackInOut=j})?r.apply(e,o):r)||(t.exports=i)},3:function(t,e,n){var r,o,i;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(517),n(612),n(44),n(116),n(419)],void 0===(i="function"==typeof(r=function(t,e,n,r,o,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=v();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return h(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t){return(new DOMParser).parseFromString(t,"text/html").body.firstChild}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GUIViewEvent",{enumerable:!0,get:function(){return n.default}}),t.default=void 0,e=a(e),n=a(n),r=a(r),o=a(o),i=a(i);var _=function(t){l(u,t);var o=y(u);function u(t){var i;return c(this,u),(i=o.call(this,m(e.default)))._easePanelDirector=new r.default(i._element,t),i._easeEditorDirector=null,i._easePanelDirector.on(n.default.CURVE_PRESET_SELECTED,(function(){for(var t,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(t=i).emit.apply(t,[n.default.CURVE_PRESET_SELECTED].concat(r))})),i._easePanelDirector.on(n.default.ORIENTATION_PRESET_SELECTED,(function(){for(var t,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(t=i).emit.apply(t,[n.default.ORIENTATION_PRESET_SELECTED].concat(r))})),i._easePanelDirector.on(n.default.EDIT_EASE_CLICKED,(function(){for(var t,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(t=i).emit.apply(t,[n.default.EDIT_EASE_CLICKED].concat(r))})),i}return f(u,[{key:"setOrientations",value:function(t){this._easePanelDirector.setOrientations(t)}},{key:"setPreset",value:function(t){this._easePanelDirector.setPreset(t),this._isEditorOpen()&&(this._easeEditorDirector.ease=t.ease)}},{key:"openEditor",value:function(t){var e=this;this._isEditorOpen()||(this._element.classList.remove("mode-select"),this._element.classList.add("mode-edit"),this._easeEditorDirector=new i.default(this._element),this._easeEditorDirector.on(n.default.ACCEPT_EASE_EDIT_CLICKED,(function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.emit.apply(e,[n.default.ACCEPT_EASE_EDIT_CLICKED].concat(r))})),this._easeEditorDirector.on(n.default.DISCARD_EASE_EDIT_CLICKED,(function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.emit.apply(e,[n.default.DISCARD_EASE_EDIT_CLICKED].concat(r))})),this._easeEditorDirector.on(n.default.EASE_MODIFIED,(function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.emit.apply(e,[n.default.EASE_MODIFIED].concat(r))})),this._easeEditorDirector.ease=t)}},{key:"closeEditor",value:function(){this._isEditorOpen()&&(this._element.classList.remove("mode-edit"),this._element.classList.add("mode-select"),this._easeEditorDirector.cleanUp(),this._easeEditorDirector=null)}},{key:"showEditButton",value:function(){this._easePanelDirector.showEditButton()}},{key:"domElement",get:function(){return this._element}},{key:"_isEditorOpen",value:function(){return!!this._easeEditorDirector}}]),u}(o.default);t.default=_})?r.apply(e,o):r)||(t.exports=i)},612:function(t,e){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],void 0===(o="function"==typeof(n=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=Object.freeze({CURVE_PRESET_SELECTED:"CurvePresetSelectedGUIViewEvent",ORIENTATION_PRESET_SELECTED:"OrientationPresetSelectedGUIViewEvent",EDIT_EASE_CLICKED:"EditEaseClickedGUIViewEvent",EASE_MODIFIED:"EaseModifiedGUIViewEvent",ACCEPT_EASE_EDIT_CLICKED:"AcceptEaseEditClickedGUIViewEvent",DISCARD_EASE_EDIT_CLICKED:"DiscardEaseEditClickedGUIViewEvent"});t.default=e})?n.apply(e,r):n)||(t.exports=o)},116:function(t,e){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],void 0===(o="function"==typeof(n=function(t){"use strict";function e(t){return i(t)||o(t)||r(t)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function o(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function i(t){if(Array.isArray(t))return u(t)}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var f=function(){function t(e){a(this,t),this._element=e}return s(t,[{key:"on",value:function(t,n){this._element.addEventListener(t,(function(t){return n.apply(void 0,e(t.detail))}))}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this._element.dispatchEvent(new CustomEvent(t,{detail:n}))}}]),t}();t.default=f})?n.apply(e,r):n)||(t.exports=o)},725:function(t,e,n){var r,o,i;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(116),n(105),n(678),n(612)],void 0===(i="function"==typeof(r=function(t,e,n,r,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return f(t)||s(t)||p(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function f(t){if(Array.isArray(t))return y(t)}function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=p(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function p(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=w();return function(){var n,r=O(t);if(e){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=i(e),o=i(o);var E=function(t){b(i,t);var e=_(i);function i(t,r){var u;d(this,i);var a,c=l((u=e.call(this,(0,n.curveSelector)(t)))._composeOptions(r));try{for(c.s();!(a=c.n()).done;){var s=a.value;u._element.options.add(s)}}catch(t){c.e(t)}finally{c.f()}return u._element.onchange=function(){return u.emit(o.default.CURVE_PRESET_SELECTED,u._element.value)},u}return v(i,[{key:"value",set:function(t){this._element.value=t}},{key:"_composeOptions",value:function(t){var e=t.map((function(t){return new Option(t,t)}));return[].concat(a(e),[this._createCustomCurveOption()])}},{key:"_createCustomCurveOption",value:function(){var t=new Option(r.Curve.CUSTOM,r.Curve.CUSTOM);return t.setAttribute("hidden",!0),t}}]),i}(e.default);t.default=E})?r.apply(e,o):r)||(t.exports=i)},419:function(t,e,n){var r,o,i;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(99),n(417),n(3),n(116),n(105)],void 0===(i="function"==typeof(r=function(t,e,n,r,o,i){"use strict";function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}function c(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==u(t)&&"function"!=typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var c=o?Object.getOwnPropertyDescriptor(t,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function s(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=m();return function(){var n,r=_(t);if(e){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=s(e),n=c(n);var x=function(t){y(u,t);var o=h(u);function u(t){var e;return f(this,u),(e=o.call(this,(0,i.editorCanvas)(t)))._editor=new n.default(e._element),e._element.addEventListener(n.EditorCurveChangeEvent.KEY,(function(){return e.emit(r.GUIViewEvent.EASE_MODIFIED,e._editor.ease)})),e._svgPathInspector=e._initSvgPathInspector(t),e._copyButton=e._initCopyButton(t,e._svgPathInspector),e._acceptButton=e._initAcceptButton(t),e._discardButton=e._initDiscardButton(t),e}return p(u,[{key:"ease",set:function(t){this._editor.ease=t,this._svgPathInspector.value=t.toString()}},{key:"cleanUp",value:function(){var t=this._element,e=t.cloneNode(!0);t.parentNode.replaceChild(e,t)}},{key:"_initSvgPathInspector",value:function(t){var n=this,o=(0,i.editorSvgPathInspector)(t);return o.oninput=function(t){try{var i=e.default.fromSVGPath(o.value);n._editor.ease=i,n.emit(r.GUIViewEvent.EASE_MODIFIED,i)}catch(t){console.warn("Couldn't parse SVG path ".concat(o.value))}},o}},{key:"_initCopyButton",value:function(t,e){var n=(0,i.editorSvgPathCopyButton)(t);return n.onclick=function(){e.select(),document.execCommand("copy"),console.info("Copied ".concat(e.value))},n}},{key:"_initAcceptButton",value:function(t){var e=this,n=(0,i.editorAcceptButton)(t);return n.onclick=function(){return e.emit(r.GUIViewEvent.ACCEPT_EASE_EDIT_CLICKED,e._editor.ease)},n}},{key:"_initDiscardButton",value:function(t){var e=this,n=(0,i.editorDeclineButton)(t);return n.onclick=function(){return e.emit(r.GUIViewEvent.DISCARD_EASE_EDIT_CLICKED)},n}}]),u}((o=s(o)).default);t.default=x})?r.apply(e,o):r)||(t.exports=i)},274:function(t,e,n){var r,o,i;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(116),n(105)],void 0===(i="function"==typeof(r=function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=y();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h=function(t){c(r,t);var e=f(r);function r(t){var i;return o(this,r),(i=e.call(this))._cornerCurveCanvas=(0,n.cornerCurveCanvas)(t),i._cornerCurveCanvas.width=i._cornerCurveCanvas.height=60,i._cornerCurveCanvasContext=i._cornerCurveCanvas.getContext("2d"),i}return a(r,[{key:"refresh",value:function(t){var e=this._cornerCurveCanvasContext,n=this._cornerCurveCanvas,r=n.width,o=n.height;e.strokeStyle=e.fillStyle="#88CE02",e.lineWidth=1,e.clearRect(0,0,r,o),e.beginPath(),e.moveTo(t.firstAnchor.x*r,(1-t.firstAnchor.y)*o);for(var i=0;i<t.anchors.length;i+=2){var u=t.anchors[i],a=t.anchors[i+1];e.bezierCurveTo(u.handle.x*r,(1-u.handle.y)*o,a.handle.x*r,(1-a.handle.y)*o,a.x*r,(1-a.y)*o)}e.lineTo(r,o),e.lineTo(0,o),e.stroke(),e.fill()}}]),r}((e=r(e)).default);t.default=h})?r.apply(e,o):r)||(t.exports=i)},44:function(t,e,n){var r,o,i;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(116),n(105),n(725),n(823),n(612),n(274)],void 0===(i="function"==typeof(r=function(t,e,n,r,o,i,a){"use strict";function c(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=b();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return v(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=c(e),r=c(r),o=c(o),i=c(i),a=c(a);var _=function(t){p(u,t);var e=d(u);function u(t,c){var f;return s(this,u),(f=e.call(this,(0,n.easePanel)(t)))._curveSelector=new r.default(t,c),f._curveSelector.on(i.default.CURVE_PRESET_SELECTED,(function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=f).emit.apply(t,[i.default.CURVE_PRESET_SELECTED].concat(n))})),f._orientationSelector=new o.default(t),f._orientationSelector.on(i.default.ORIENTATION_PRESET_SELECTED,(function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=f).emit.apply(t,[i.default.ORIENTATION_PRESET_SELECTED].concat(n))})),f._background=new a.default(t),f._editButtonElement=(0,n.editButton)(t),f._editButtonElement.style.display="none",f._editButtonElement.addEventListener("click",(function(){return f.emit(i.default.EDIT_EASE_CLICKED)})),f}return l(u,[{key:"setOrientations",value:function(t){this._orientationSelector.values=t}},{key:"setPreset",value:function(t){this._curveSelector.value=t.curve,this._orientationSelector.value=t.orientation,this._background.refresh(t.ease)}},{key:"showEditButton",value:function(){this._editButtonElement.style.display=null}}]),u}(e.default);t.default=_})?r.apply(e,o):r)||(t.exports=i)},823:function(t,e,n){var r,o,i;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(116),n(105),n(612)],void 0===(i="function"==typeof(r=function(t,e,n,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function a(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=b();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return v(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=o(e),r=o(r);var _=function(t){p(o,t);var e=d(o);function o(t){var i;return s(this,o),(i=e.call(this,(0,n.orientationSelector)(t)))._element.onchange=function(){return i.emit(r.default.ORIENTATION_PRESET_SELECTED,i._element.value)},i}return l(o,[{key:"values",set:function(t){if(this._element.options.length=0,t.length>0){var e,n=i(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._element.options.add(new Option(r,r))}}catch(t){n.e(t)}finally{n.f()}this._element.removeAttribute("disabled")}else this._element.setAttribute("disabled",!0)}},{key:"value",set:function(t){this._element.value=t}}]),o}(e.default);t.default=_})?r.apply(e,o):r)||(t.exports=i)},105:function(t,e){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],void 0===(o="function"==typeof(n=function(t){"use strict";function e(t){return t.querySelector(".ease-selector")}function n(t){return t.querySelector(".curve-selector")}function r(t){return t.querySelector(".orientation-selector")}function o(t){return t.querySelector("canvas.corner-curve")}function i(t){return t.querySelector(".edit-button")}function u(t){return t.querySelector("canvas.editor")}function a(t){return t.querySelector(".path-selector")}function c(t){return t.querySelector(".copy-button")}function s(t){return t.querySelector(".accept-button")}function f(t){return t.querySelector(".decline-button")}Object.defineProperty(t,"__esModule",{value:!0}),t.easePanel=e,t.curveSelector=n,t.orientationSelector=r,t.cornerCurveCanvas=o,t.editButton=i,t.editorCanvas=u,t.editorSvgPathInspector=a,t.editorSvgPathCopyButton=c,t.editorAcceptButton=s,t.editorDeclineButton=f})?n.apply(e,r):n)||(t.exports=o)},417:function(t,e,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(10),n(696),n(388),n(99)],void 0===(i="function"==typeof(r=function(t,e,n,r,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"EditorCurveChangeEvent",{enumerable:!0,get:function(){return r.EditorCurveChangeEvent}}),t.default=void 0,e=i(e),n=i(n),o=i(o);var s=function(){function t(e){u(this,t),this._canvas=e,this._ctx=this._prepareContext(e),this._curve=this._createCurveJSInstance(this._ctx),this._propagateEvents(this._curve,e)}return c(t,[{key:"ease",get:function(){for(var t=new o.default,e=this._curve,n=(e.cw,e.ch,e.points),r=0;r<n.length-1;r++){var i=n[r],u=t.addAnchor(this._fromCanvasX(i.position.x),this._fromCanvasY(i.position.y));u.handle.x=this._fromCanvasX(i.cp2.x),u.handle.y=this._fromCanvasY(i.cp2.y);var a=n[r+1],c=t.addAnchor(this._fromCanvasX(a.position.x),this._fromCanvasY(a.position.y));c.handle.x=this._fromCanvasX(a.cp1.x),c.handle.y=this._fromCanvasY(a.cp1.y)}return t},set:function(t){var e=this._curve,r=e.points,o=e.pointColor,i=e.pointSize,u=e.cpDist,a=t.anchors,c=t.firstAnchor,s=t.lastAnchor;r.length=0;var f=new n.default(this._toCanvasX(c.x),this._toCanvasY(c.y),this._ctx,o,i,u);f.cp2.x=this._toCanvasX(c.handle.x),f.cp2.y=this._toCanvasY(c.handle.y),f.cp1.x=-f.cp2.x,f.cp1.y=-f.cp2.y,r.push(f);for(var l=1;l<a.length-1;l+=2){var p=a[l],y=a[l+1],d=new n.default(this._toCanvasX(p.x),this._toCanvasY(p.y),this._ctx,o,i,u);d.cp1.x=this._toCanvasX(p.handle.x),d.cp1.y=this._toCanvasY(p.handle.y),d.cp2.x=this._toCanvasX(y.handle.x),d.cp2.y=this._toCanvasY(y.handle.y),r.push(d)}var h=new n.default(this._toCanvasX(s.x),this._toCanvasY(s.y),this._ctx,o,i,u);h.cp1.x=this._toCanvasX(s.handle.x),h.cp1.y=this._toCanvasY(s.handle.y),h.cp2.x=-h.cp1.x,h.cp2.y=-h.cp1.y,r.push(h),this._curve.draw()}},{key:"_prepareContext",value:function(t){var e=t.getContext("2d");return e.canvas.width=t.clientWidth,e.canvas.height=t.clientHeight,e}},{key:"_createCurveJSInstance",value:function(t){var n=new e.default(t);return n.setPointStyle("#ffffff",8),n.setLineStyle("#ace247",2),n}},{key:"_propagateEvents",value:function(t,e){t.on("drag",(function(){return e.dispatchEvent(new r.EditorCurveChangeEvent)})),t.on("newpoint",(function(){return e.dispatchEvent(new r.EditorCurveChangeEvent)})),t.on("removepoint",(function(){return e.dispatchEvent(new r.EditorCurveChangeEvent)}))}},{key:"_toCanvasX",value:function(t){return t*this._curve.cw}},{key:"_toCanvasY",value:function(t){return(1-t)*this._curve.ch}},{key:"_fromCanvasX",value:function(t){return this._round(t/this._curve.cw)}},{key:"_fromCanvasY",value:function(t){return this._round(1-t/this._curve.ch)}},{key:"_round",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e);return Math.round(t*n)/n}}]),t}();t.default=s})?r.apply(e,o):r)||(t.exports=i)},222:function(t,e){var n,r,o;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],void 0===(o="function"==typeof(n=function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}function r(t){var e=s();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}function o(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){var e="function"==typeof Map?new Map:void 0;return(a=function(t){if(null===t||!f(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return c(t,arguments,p(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,t)})(t)}function c(t,e,n){return(c=s()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&l(o,n.prototype),o}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function f(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=function(t){n(i,t);var o=r(i);function i(){return e(this,i),o.call(this,i.KEY)}return i}(a(CustomEvent));t.default=d,y(d,"KEY","editorCurveChangeEvent")})?n.apply(e,r):n)||(t.exports=o)},388:function(t,e,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(222)],void 0===(i="function"==typeof(r=function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"EditorCurveChangeEvent",{enumerable:!0,get:function(){return e.default}}),e=n(e)})?r.apply(e,o):r)||(t.exports=i)},696:function(t,e,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(131)],void 0===(i="function"==typeof(r=function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=n(e);var u=function(){function t(n,o,i,u,a,c){r(this,t),this.cpDist=c,this.color=u,this.size=a,this.position=new e.default(n,o,this.color,this.size,i),this.cp1=new e.default(n-this.cpDist,o,this.color,this.size,i),this.cp2=new e.default(n+this.cpDist,o,this.color,this.size,i),this.ctx=i,this.r=2,this.collapsed=!1}return i(t,[{key:"collapse",value:function(){this.collapsed?(this.collapsed=!1,this.cp1.x=this.position.x-this.cpDist,this.cp2.x=this.position.x+this.cpDist):(this.collapsed=!0,this.cp1.x=this.cp2.x=this.position.x,this.cp1.y=this.cp2.y=this.position.y)}},{key:"move",value:function(){this.collapsed?this.v1x=this.v1y=this.v2x=this.v2y=0:(this.v1x=this.cp1.x-this.position.x,this.v1y=this.cp1.y-this.position.y,this.v2x=this.cp2.x-this.position.x,this.v2y=this.cp2.y-this.position.y)}},{key:"setPointStyle",value:function(t,e){this.position.color=t,this.cp1.color=t,this.cp2.color=t,this.position.r=e/2,this.cp1.r=e/2,this.cp2.r=e/2}},{key:"draw",value:function(){this.ctx.lineWidth=.2,this.ctx.beginPath(),this.ctx.moveTo(this.position.x,this.position.y),this.ctx.lineTo(this.cp1.x,this.cp1.y),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(this.position.x,this.position.y),this.ctx.lineTo(this.cp2.x,this.cp2.y),this.ctx.stroke(),this.position.draw(),this.cp1.draw(),this.cp2.draw()}}]),t}();t.default=u})?r.apply(e,o):r)||(t.exports=i)},10:function(t,e,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(696)],void 0===(i="function"==typeof(r=function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=n(e);var u=function(){function t(n,o,i){r(this,t),this.BezierPoint=e.default,this.cpDist=i||.2*n.canvas.width,this.pointColor="#f00",this.pointSize=4,this.lineColor="#fff",this.lineWidth=1,this.points=[new e.default(0,n.canvas.height,n,this.pointColor,this.pointSize,this.cpDist),new e.default(n.canvas.width,0,n,this.pointColor,this.pointSize,this.cpDist)],this.ctx=n,this.cw=n.canvas.width,this.ch=n.canvas.height,this.mouseX=0,this.mouseY=0,this.events={},this.interval=o,this.canvasEvents(),this.createLUT(),this.draw()}return i(t,[{key:"xGetY",value:function(t){for(var e=1e-4,n=0,r=5e3,o=(n+r)/2,i=t/this.interval,u=this.lookupX[o],a=0;Math.abs(i-u)>e&&(a++,u>i?r=o:u<i&&(n=o),o=Math.round((n+r)/2),u=this.lookupX[o],!(a>20)););return this.lookupY[o]}},{key:"createLUT",value:function(){this.lookupX=[],this.lookupY=[];for(var t=1;t<this.points.length;t++)for(var e=this.points[t-1],n=this.points[t],r=n.position.x/this.cw-e.position.x/this.cw,o=0;o<1;o+=1/(5e3*r)){var i=Math.pow(1-o,3)*e.position.x+3*Math.pow(1-o,2)*o*e.cp2.x+3*(1-o)*Math.pow(o,2)*n.cp1.x+Math.pow(o,3)*n.position.x,u=Math.pow(1-o,3)*e.position.y+3*Math.pow(1-o,2)*o*e.cp2.y+3*(1-o)*Math.pow(o,2)*n.cp1.y+Math.pow(o,3)*n.position.y;this.lookupX.push(i/this.cw),this.lookupY.push(-u/this.ch+1)}}},{key:"on",value:function(t,e){this.events["on"+t]=e.bind(this)}},{key:"canvasEvents",value:function(){var t,e,n,r,o,i,u=this;this.ctx.canvas.addEventListener("mousemove",(function(c){var s=this.getBoundingClientRect();t=c.clientX-s.left,e=c.clientY-s.top,u.mouseX=t,u.mouseY=e;for(var f=0;f<u.points.length;f++){var l=u.points[f];if(!i){if((n=Math.sqrt((t-l.position.x)*(t-l.position.x)+(e-l.position.y)*(e-l.position.y)))<=u.pointSize/2+2){this.style.cursor="pointer",r=f;break}if((n=Math.sqrt((t-l.cp1.x)*(t-l.cp1.x)+(e-l.cp1.y)*(e-l.cp1.y)))<=u.pointSize/2+2){this.style.cursor="pointer",r=f,o="cp1";break}if((n=Math.sqrt((t-l.cp2.x)*(t-l.cp2.x)+(e-l.cp2.y)*(e-l.cp2.y)))<=u.pointSize/2+2){this.style.cursor="pointer",r=f,o="cp2";break}this.style.cursor="initial",r=!1,o=!1}}if(a[18]){var p=u.cw/20,y=u.ch/10,d=Math.floor((t+p/2)/p),h=Math.floor((e+y/2)/y);t=p*d,e=y*h}if(i){if("cp1"==o)u.points[r].cp1.x=t,u.points[r].cp1.y=e,u.points[r].move(),a[16]||(u.points[r].cp2.x=t-2*u.points[r].v1x,u.points[r].cp2.y=e-2*u.points[r].v1y);else if("cp2"==o)u.points[r].cp2.x=t,u.points[r].cp2.y=e,u.points[r].move(),a[16]||(u.points[r].cp1.x=t-2*u.points[r].v2x,u.points[r].cp1.y=e-2*u.points[r].v2y);else{var v;u.points[r].move(),u.points[r].position.x=t,u.points[r].position.y=e,0===r&&(u.points[r].position.x=0),r==u.points.length-1&&(u.points[r].position.x=u.cw),u.points[r].cp1.x=u.points[r].position.x+u.points[r].v1x,u.points[r].cp1.y=u.points[r].position.y+u.points[r].v1y,u.points[r].cp2.x=u.points[r].position.x+u.points[r].v2x,u.points[r].cp2.y=u.points[r].position.y+u.points[r].v2y,u.points[r-1]&&u.points[r+1]&&(u.points[r].position.x>u.points[r+1].position.x&&(v=u.points[r],u.points[r]=u.points[r+1],u.points[r+1]=v,r++),u.points[r-1].position.x>u.points[r].position.x&&(v=u.points[r],u.points[r]=u.points[r-1],u.points[r-1]=v,r--))}u.events.ondrag&&u.events.ondrag(),u.draw()}u.events.onmousemove&&u.events.onmousemove()})),this.ctx.canvas.addEventListener("mousedown",(function(o){o.preventDefault(),r||0===r?i=!0:n>5&&(r=u.addPoint(t,e),i=!0,this.style.cursor="pointer",u.draw(),u.events.onnewpoint&&u.events.onnewpoint())})),this.ctx.canvas.addEventListener("mouseup",(function(a){i=!1,n>5&&(r=o=!1);for(var c=0;c<u.points.length;c++){var s=u.points[c];if((n=Math.sqrt((t-s.position.x)*(t-s.position.x)+(e-s.position.y)*(e-s.position.y)))<=u.pointSize/2+2){this.style.cursor="pointer",r=c;break}}u.createLUT()})),this.ctx.canvas.addEventListener("mouseleave",(function(n){i&&(n.offsetX<0||n.offsetX>u.cw?n.offsetX<0?"cp1"==o?(u.points[r].cp1.x=0,u.points[r].move(),a[16]||(u.points[r].cp2.x=0-2*u.points[r].v1x,u.points[r].cp2.y=e-2*u.points[r].v1y)):"cp2"==o?(u.points[r].cp2.x=0,u.points[r].move(),a[16]||(u.points[r].cp1.x=0-2*u.points[r].v2x,u.points[r].cp1.y=e-2*u.points[r].v2y)):(u.points[r].position.x=0,u.points[r].cp1.x=0+u.points[r].v1x,u.points[r].cp2.x=0+u.points[r].v2x):"cp1"==o?(u.points[r].cp1.x=u.cw,u.points[r].move(),a[16]||(u.points[r].cp2.x=u.cw-2*u.points[r].v1x,u.points[r].cp2.y=e-2*u.points[r].v1y)):"cp2"==o?(u.points[r].cp2.x=u.cw,u.points[r].move(),a[16]||(u.points[r].cp1.x=u.cw-2*u.points[r].v2x,u.points[r].cp1.y=e-2*u.points[r].v2y)):(u.points[r].position.x=u.cw,u.points[r].cp1.x=u.cw+u.points[r].v1x,u.points[r].cp2.x=u.cw+u.points[r].v2x):(n.offsetY<0||n.offsetY>u.ch)&&(n.offsetY<0?"cp1"==o?(u.points[r].cp1.y=0,u.points[r].move(),a[16]||(u.points[r].cp2.x=t-2*u.points[r].v1x,u.points[r].cp2.y=0-2*u.points[r].v1y)):"cp2"==o?(u.points[r].cp2.y=0,u.points[r].move(),a[16]||(u.points[r].cp1.x=t-2*u.points[r].v2x,u.points[r].cp1.y=0-2*u.points[r].v2y)):(u.points[r].position.y=0,u.points[r].cp1.y=0+u.points[r].v1y,u.points[r].cp2.y=0+u.points[r].v2y):"cp1"==o?(u.points[r].cp1.y=u.ch,u.points[r].move(),a[16]||(u.points[r].cp2.x=t-2*u.points[r].v1x,u.points[r].cp2.y=u.ch-2*u.points[r].v1y)):"cp2"==o?(u.points[r].cp2.y=u.ch,u.points[r].move(),a[16]||(u.points[r].cp1.x=t-2*u.points[r].v2x,u.points[r].cp1.y=u.ch-2*u.points[r].v2y)):(u.points[r].position.y=u.ch,u.points[r].cp1.y=u.ch+u.points[r].v1y,u.points[r].cp2.y=u.ch+u.points[r].v2y))),u.draw(),u.createLUT(),i=r=o=!1})),this.ctx.canvas.addEventListener("click",(function(t){a[16]&&!o&&(u.points[r].collapse(),u.draw(),u.createLUT(),u.events.ontogglecontrol&&u.events.ontogglecontrol())})),this.ctx.canvas.addEventListener("dblclick",(function(t){u.points.splice(r,1),i=r=o=!1,n=1e3,this.style.cursor="initial",u.draw(),u.createLUT(),u.events.onremovepoint&&u.events.onremovepoint()}))}},{key:"addPoint",value:function(t,n){this.points.push(new e.default(t,n,this.ctx,this.pointColor,this.pointSize,this.cpDist)),this.points.sort((function(t,e){return t.position.x-e.position.x}));for(var r=0;r<this.points.length;r++){var o=this.points[r];if(t==o.position.x&&n==o.position.y)return r}}},{key:"setPointStyle",value:function(t,e){for(var n=0;n<this.points.length;n++)this.points[n].setPointStyle(t,e),this.pointColor=t,this.pointSize=e;this.draw()}},{key:"setLineStyle",value:function(t,e){this.lineColor=t,this.lineWidth=e,this.draw()}},{key:"draw",value:function(){this.ctx.clearRect(0,0,this.cw,this.ch),this.ctx.strokeStyle="#444",this.ctx.lineWidth=1;for(var t=1;t<10;t++)this.ctx.beginPath(),this.ctx.moveTo(this.cw/10*t-.5,0),this.ctx.lineTo(this.cw/10*t-.5,this.ch),this.ctx.stroke();for(var e=1;e<5;e++)this.ctx.beginPath(),this.ctx.moveTo(0,this.ch/5*e-.5),this.ctx.lineTo(this.cw,this.ch/5*e-.5),this.ctx.stroke();this.ctx.lineWidth=.5;for(var n=1;n<20;n++)this.ctx.beginPath(),this.ctx.moveTo(this.cw/20*n-.5,0),this.ctx.lineTo(this.cw/20*n-.5,this.ch),this.ctx.stroke();for(var r=1;r<10;r++)this.ctx.beginPath(),this.ctx.moveTo(0,this.ch/10*r-.5),this.ctx.lineTo(this.cw,this.ch/10*r-.5),this.ctx.stroke();this.ctx.strokeStyle=this.lineColor,this.ctx.lineWidth=this.lineWidth,this.ctx.beginPath(),this.ctx.moveTo(this.points[0].position.x,this.points[0].position.y);for(var o=1;o<this.points.length;o++){var i=this.points[o],u=this.points[o-1];this.ctx.bezierCurveTo(u.cp2.x,u.cp2.y,i.cp1.x,i.cp1.y,i.position.x,i.position.y)}this.ctx.stroke();for(var a=0;a<this.points.length;a++)this.points[a].draw()}}]),t}();t.default=u;var a=[];window.addEventListener("keydown",(function(t){a[t.keyCode]=!0})),window.addEventListener("keyup",(function(t){delete a[t.keyCode]}))})?r.apply(e,o):r)||(t.exports=i)},131:function(t,e){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],void 0===(o="function"==typeof(n=function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function t(n,r,o,i,u){e(this,t),this.x=n,this.y=r,this.r=i/2,this.color=o,this.ctx=u}return r(t,[{key:"draw",value:function(){this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.r,0,2*Math.PI,!1),this.ctx.closePath(),this.ctx.fill()}}]),t}();t.default=o})?n.apply(e,r):n)||(t.exports=o)},352:function(t,e,n){var r,o,i;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(365),n(248),n(224),n(913),n(99),n(678),n(564)],void 0===(i="function"==typeof(r=function(t,e,n,r,o,i,a,c){"use strict";function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}function f(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==u(t)&&"function"!=typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function l(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.extend=d,Object.defineProperty(t,"Middleware",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"middleware",{enumerable:!0,get:function(){return o.middleware}}),Object.defineProperty(t,"Ease",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Handle",{enumerable:!0,get:function(){return i.Handle}}),Object.defineProperty(t,"Anchor",{enumerable:!0,get:function(){return i.Anchor}}),Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return i.Point}}),Object.defineProperty(t,"EasePreset",{enumerable:!0,get:function(){return a.default}}),t.presets=t.default=t.manager=void 0,n=l(n),r=l(r),o=f(o),i=f(i),a=l(a),c=f(c),t.presets=c;var p=new n.default;function y(t,e){var n=t[e];if(p.hasCompatibleMiddleware(n))return r.default.call(this,t,e,p.getCompatibleMiddleware(n));console.warn("No compatible middleware found.")}function d(t){t.gui.ease=p;var e=t.GUI.prototype.add;function n(t,n){var r=t[n]||t;return p.hasCompatibleMiddleware(r)?y.call.apply(y,[this].concat(Array.prototype.slice.call(arguments))):e.call.apply(e,[this].concat(Array.prototype.slice.call(arguments)))}return t.GUI.prototype.add=n,t.gui.GUI.prototype.add=n,t.GUI.prototype.addEase=y,t.gui.GUI.prototype.addEase=y,p}t.manager=p;var h={extend:d};t.default=h})?r.apply(e,o):r)||(t.exports=i)},913:function(t,e,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(152),n(466)],void 0===(i="function"==typeof(r=function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=c,t.default=void 0,e=r(e),n=r(n);var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];o(this,t),this._name=e,this._castEntries=n}return u(t,[{key:"castEntries",get:function(){return this._castEntries}},{key:"presets",get:function(){return this._castEntries.filter((function(t){return t instanceof e.default})).map((function(t){return t.preset}))}},{key:"preset",value:function(t,n){return this.castEntries.push(e.default.of(t,n)),this}},{key:"pick",value:function(t){var e=this;return{transform:function(r,o){return e.castEntries.push(n.default.of(t,r,o)),e}}}},{key:"transform",value:function(t,e){return this.castEntries.push(n.default.of(t,e)),this}},{key:"isEditingSupported",value:function(){return this.castEntries.some((function(t){return t instanceof n.default}))}},{key:"isFormatSupported",value:function(t){return this.castEntries.some((function(e){return e.supportsCastInward(t)}))}},{key:"import",value:function(t){var e=this._castEntries.find((function(e){return e.supportsCastInward(t)}));if(e)return e.castInward(t);console.warn("Unsupported inward cast requested for ease ".concat(t.toString()))}},{key:"export",value:function(t){var e=this._castEntries.find((function(e){return e.supportsCastOutward(t)}));if(e)return e.castOutward(t);console.warn("Unsupported outward cast requested for ease ".concat(t.toString()))}},{key:"toString",value:function(){return"[object DatGuiEase".concat(this._name,"Middleware]")}}],[{key:"checkSignature",value:function(t){return/^\[object DatGuiEase(?:.*)Middleware\]$/.test(t.toString())}}]),t}();function c(t){return new a(t)}var s=a;t.default=s})?r.apply(e,o):r)||(t.exports=i)},510:function(t,e){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],void 0===(o="function"==typeof(n=function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function t(){e(this,t)}return r(t,[{key:"supportsCastInward",value:function(t){try{return!!this.castInward(t)}catch(t){return!1}}},{key:"supportsCastOutward",value:function(t){try{return!!this.castOutward(t)}catch(t){return!1}}},{key:"castInward",value:function(t){throw new Error("Method override missing")}},{key:"castOutward",value:function(t){throw new Error("Method override missing")}}]),t}();t.default=o})?n.apply(e,r):n)||(t.exports=o)},152:function(t,e,n){var r,o,i;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(678),n(96),n(510)],void 0===(i="function"==typeof(r=function(t,e,n,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=d();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=o(e),n=o(n);var v=function(t){s(o,t);var r=l(o);function o(t,e){var n;return i(this,o),(n=r.call(this)).thirdPartyEase=t,n.nativeEasePreset=n._parseNativePreset(e),n}return c(o,[{key:"preset",get:function(){return this.nativeEasePreset}},{key:"supportsCastInward",value:function(t){return this.thirdPartyEase===t&&!!this.nativeEasePreset}},{key:"supportsCastOutward",value:function(t){return this.nativeEasePreset.equals(t)&&!!this.thirdPartyEase}},{key:"castInward",value:function(t){return this.nativeEasePreset}},{key:"castOutward",value:function(t){return this.thirdPartyEase}},{key:"_parseNativePreset",value:function(t){return t instanceof n.default?t.next():t instanceof e.default?t.clone():void console.warn("Native preset or preset provider expected. Instead got ",t)}}],[{key:"of",value:function(t,e){return new o(t,e)}}]),o}((r=o(r)).default);t.default=v})?r.apply(e,o):r)||(t.exports=i)},466:function(t,e,n){var r,o,i;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,n(678),n(510)],void 0===(i="function"==typeof(r=function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}function i(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==u(t)&&"function"!=typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var c=i?Object.getOwnPropertyDescriptor(t,a):null;c&&(c.get||c.set)?Object.defineProperty(r,a,c):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}function a(t,e,n){return(a=v()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&p(o,n.prototype),o}).apply(null,arguments)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=v();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return h(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=i(e);var m=function(t){l(r,t);var n=y(r);function r(t,e,o){var i;return c(this,r),(i=n.call(this))._selectorPredicate=t,i._transformThirdPartyToNativeEase=e,i._transformNativeToThirdPartyEase=o,i}return f(r,[{key:"supportsCastInward",value:function(t){return this._selectorPredicate(t)}},{key:"castInward",value:function(t){return new e.default(this._transformThirdPartyToNativeEase(t),e.Curve.CUSTOM)}},{key:"castOutward",value:function(t){return this._transformNativeToThirdPartyEase(t.ease)}}],[{key:"of",value:function(t,e,n){return a(r,Array.prototype.slice.call(arguments))}}]),r}((n=r(n)).default);t.default=m})?r.apply(e,o):r)||(t.exports=i)},687:(e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Bezier=void 0;const{abs:r,cos:o,sin:i,acos:u,atan2:a,sqrt:c,pow:s}=Math;function f(t){return t<0?-s(-t,1/3):s(t,1/3)}const l=Math.PI,p=2*l,y=l/2,d=Number.MAX_SAFE_INTEGER||9007199254740991,h=Number.MIN_SAFE_INTEGER||-9007199254740991,v={x:0,y:0,z:0},b={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,e){const n=e(t);let r=n.x*n.x+n.y*n.y;return void 0!==n.z&&(r+=n.z*n.z),c(r)},compute:function(t,e,n){if(0===t)return e[0].t=0,e[0];const r=e.length-1;if(1===t)return e[r].t=1,e[r];const o=1-t;let i=e;if(0===r)return e[0].t=t,e[0];if(1===r){const e={x:o*i[0].x+t*i[1].x,y:o*i[0].y+t*i[1].y,t};return n&&(e.z=o*i[0].z+t*i[1].z),e}if(r<4){let e,u,a,c=o*o,s=t*t,f=0;2===r?(i=[i[0],i[1],i[2],v],e=c,u=o*t*2,a=s):3===r&&(e=c*o,u=c*t*3,a=o*s*3,f=t*s);const l={x:e*i[0].x+u*i[1].x+a*i[2].x+f*i[3].x,y:e*i[0].y+u*i[1].y+a*i[2].y+f*i[3].y,t};return n&&(l.z=e*i[0].z+u*i[1].z+a*i[2].z+f*i[3].z),l}const u=JSON.parse(JSON.stringify(e));for(;u.length>1;){for(let e=0;e<u.length-1;e++)u[e]={x:u[e].x+(u[e+1].x-u[e].x)*t,y:u[e].y+(u[e+1].y-u[e].y)*t},void 0!==u[e].z&&(u[e]=u[e].z+(u[e+1].z-u[e].z)*t);u.splice(u.length-1,1)}return u[0].t=t,u[0]},computeWithRatios:function(t,e,n,r){const o=1-t,i=n,u=e;let a,c=i[0],s=i[1],f=i[2],l=i[3];return c*=o,s*=t,2===u.length?(a=c+s,{x:(c*u[0].x+s*u[1].x)/a,y:(c*u[0].y+s*u[1].y)/a,z:!!r&&(c*u[0].z+s*u[1].z)/a,t}):(c*=o,s*=2*o,f*=t*t,3===u.length?(a=c+s+f,{x:(c*u[0].x+s*u[1].x+f*u[2].x)/a,y:(c*u[0].y+s*u[1].y+f*u[2].y)/a,z:!!r&&(c*u[0].z+s*u[1].z+f*u[2].z)/a,t}):(c*=o,s*=1.5*o,f*=3*o,l*=t*t*t,4===u.length?(a=c+s+f+l,{x:(c*u[0].x+s*u[1].x+f*u[2].x+l*u[3].x)/a,y:(c*u[0].y+s*u[1].y+f*u[2].y+l*u[3].y)/a,z:!!r&&(c*u[0].z+s*u[1].z+f*u[2].z+l*u[3].z)/a,t}):void 0))},derive:function(t,e){const n=[];for(let r=t,o=r.length,i=o-1;o>1;o--,i--){const t=[];for(let n,o=0;o<i;o++)n={x:i*(r[o+1].x-r[o].x),y:i*(r[o+1].y-r[o].y)},e&&(n.z=i*(r[o+1].z-r[o].z)),t.push(n);n.push(t),r=t}return n},between:function(t,e,n){return e<=t&&t<=n||b.approximately(t,e)||b.approximately(t,n)},approximately:function(t,e,n){return r(t-e)<=(n||1e-6)},length:function(t){const e=b.Tvalues.length;let n=0;for(let r,o=0;o<e;o++)r=.5*b.Tvalues[o]+.5,n+=b.Cvalues[o]*b.arcfn(r,t);return.5*n},map:function(t,e,n,r,o){return r+(o-r)*((t-e)/(n-e))},lerp:function(t,e,n){const r={x:e.x+t*(n.x-e.x),y:e.y+t*(n.y-e.y)};return void 0!==e.z&&void 0!==n.z&&(r.z=e.z+t*(n.z-e.z)),r},pointToString:function(t){let e=t.x+"/"+t.y;return void 0!==t.z&&(e+="/"+t.z),e},pointsToString:function(t){return"["+t.map(b.pointToString).join(", ")+"]"},copy:function(t){return JSON.parse(JSON.stringify(t))},angle:function(t,e,n){const r=e.x-t.x,o=e.y-t.y,i=n.x-t.x,u=n.y-t.y;return a(r*u-o*i,r*i+o*u)},round:function(t,e){const n=""+t,r=n.indexOf(".");return parseFloat(n.substring(0,r+1+e))},dist:function(t,e){const n=t.x-e.x,r=t.y-e.y;return c(n*n+r*r)},closest:function(t,e){let n,r,o=s(2,63);return t.forEach((function(t,i){r=b.dist(e,t),r<o&&(o=r,n=i)})),{mdist:o,mpos:n}},abcratio:function(t,e){if(2!==e&&3!==e)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;const n=s(t,e)+s(1-t,e);return r((n-1)/n)},projectionratio:function(t,e){if(2!==e&&3!==e)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;const n=s(1-t,e);return n/(s(t,e)+n)},lli8:function(t,e,n,r,o,i,u,a){const c=(t-n)*(i-a)-(e-r)*(o-u);return 0!=c&&{x:((t*r-e*n)*(o-u)-(t-n)*(o*a-i*u))/c,y:((t*r-e*n)*(i-a)-(e-r)*(o*a-i*u))/c}},lli4:function(t,e,n,r){const o=t.x,i=t.y,u=e.x,a=e.y,c=n.x,s=n.y,f=r.x,l=r.y;return b.lli8(o,i,u,a,c,s,f,l)},lli:function(t,e){return b.lli4(t,t.c,e,e.c)},makeline:function(t,e){return new S(t.x,t.y,(t.x+e.x)/2,(t.y+e.y)/2,e.x,e.y)},findbbox:function(t){let e=d,n=d,r=h,o=h;return t.forEach((function(t){const i=t.bbox();e>i.x.min&&(e=i.x.min),n>i.y.min&&(n=i.y.min),r<i.x.max&&(r=i.x.max),o<i.y.max&&(o=i.y.max)})),{x:{min:e,mid:(e+r)/2,max:r,size:r-e},y:{min:n,mid:(n+o)/2,max:o,size:o-n}}},shapeintersections:function(t,e,n,r,o){if(!b.bboxoverlap(e,r))return[];const i=[],u=[t.startcap,t.forward,t.back,t.endcap],a=[n.startcap,n.forward,n.back,n.endcap];return u.forEach((function(e){e.virtual||a.forEach((function(r){if(r.virtual)return;const u=e.intersects(r,o);u.length>0&&(u.c1=e,u.c2=r,u.s1=t,u.s2=n,i.push(u))}))})),i},makeshape:function(t,e,n){const r=e.points.length,o=t.points.length,i=b.makeline(e.points[r-1],t.points[0]),u=b.makeline(t.points[o-1],e.points[0]),a={startcap:i,forward:t,back:e,endcap:u,bbox:b.findbbox([i,t,e,u]),intersections:function(t){return b.shapeintersections(a,a.bbox,t,t.bbox,n)}};return a},getminmax:function(t,e,n){if(!n)return{min:0,max:0};let r,o,i=d,u=h;-1===n.indexOf(0)&&(n=[0].concat(n)),-1===n.indexOf(1)&&n.push(1);for(let a=0,c=n.length;a<c;a++)r=n[a],o=t.get(r),o[e]<i&&(i=o[e]),o[e]>u&&(u=o[e]);return{min:i,mid:(i+u)/2,max:u,size:u-i}},align:function(t,e){const n=e.p1.x,r=e.p1.y,u=-a(e.p2.y-r,e.p2.x-n);return t.map((function(t){return{x:(t.x-n)*o(u)-(t.y-r)*i(u),y:(t.x-n)*i(u)+(t.y-r)*o(u)}}))},roots:function(t,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const n=t.length-1,r=b.align(t,e),i=function(t){return 0<=t&&t<=1};if(2===n){const t=r[0].y,e=r[1].y,n=r[2].y,o=t-2*e+n;if(0!==o){const r=-c(e*e-t*n),u=-t+e;return[-(r+u)/o,-(-r+u)/o].filter(i)}return e!==n&&0===o?[(2*e-n)/(2*e-2*n)].filter(i):[]}const a=r[0].y,s=r[1].y,l=r[2].y;let y=3*s-a-3*l+r[3].y,d=3*a-6*s+3*l,h=-3*a+3*s,v=a;if(b.approximately(y,0)){if(b.approximately(d,0))return b.approximately(h,0)?[]:[-v/h].filter(i);const t=c(h*h-4*d*v),e=2*d;return[(t-h)/e,(-h-t)/e].filter(i)}d/=y,h/=y,v/=y;const m=(3*h-d*d)/3,_=m/3,x=(2*d*d*d-9*d*h+27*v)/27,g=x/2,w=g*g+_*_*_;let O,E,P,C,S;if(w<0){const t=-m/3,e=c(t*t*t),n=-x/(2*e),r=u(n<-1?-1:n>1?1:n),a=2*f(e);return P=a*o(r/3)-d/3,C=a*o((r+p)/3)-d/3,S=a*o((r+2*p)/3)-d/3,[P,C,S].filter(i)}if(0===w)return O=g<0?f(-g):-f(g),P=2*O-d/3,C=-O-d/3,[P,C].filter(i);{const t=c(w);return O=f(-g+t),E=f(g+t),[O-E-d/3].filter(i)}},droots:function(t){if(3===t.length){const e=t[0],n=t[1],r=t[2],o=e-2*n+r;if(0!==o){const t=-c(n*n-e*r),i=-e+n;return[-(t+i)/o,-(-t+i)/o]}return n!==r&&0===o?[(2*n-r)/(2*(n-r))]:[]}if(2===t.length){const e=t[0],n=t[1];return e!==n?[e/(e-n)]:[]}return[]},curvature:function(t,e,n,o,i){let u,a,f,l,p=0,y=0;const d=b.compute(t,e),h=b.compute(t,n),v=d.x*d.x+d.y*d.y;if(o?(u=c(s(d.y*h.z-h.y*d.z,2)+s(d.z*h.x-h.z*d.x,2)+s(d.x*h.y-h.x*d.y,2)),a=s(v+d.z*d.z,1.5)):(u=d.x*h.y-d.y*h.x,a=s(v,1.5)),0===u||0===a)return{k:0,r:0};if(p=u/a,y=a/u,!i){const i=b.curvature(t-.001,e,n,o,!0).k,u=b.curvature(t+.001,e,n,o,!0).k;l=(u-p+(p-i))/2,f=(r(u-p)+r(p-i))/2}return{k:p,r:y,dk:l,adk:f}},inflections:function(t){if(t.length<4)return[];const e=b.align(t,{p1:t[0],p2:t.slice(-1)[0]}),n=e[2].x*e[1].y,r=e[3].x*e[1].y,o=e[1].x*e[2].y,i=18*(-3*n+2*r+3*o-e[3].x*e[2].y),u=18*(3*n-r-3*o),a=18*(o-n);if(b.approximately(i,0)){if(!b.approximately(u,0)){let t=-a/u;if(0<=t&&t<=1)return[t]}return[]}const c=u*u-4*i*a,s=Math.sqrt(c),f=2*i;return b.approximately(f,0)?[]:[(s-u)/f,-(u+s)/f].filter((function(t){return 0<=t&&t<=1}))},bboxoverlap:function(t,e){const n=["x","y"],o=n.length;for(let i,u,a,c,s=0;s<o;s++)if(i=n[s],u=t[i].mid,a=e[i].mid,c=(t[i].size+e[i].size)/2,r(u-a)>=c)return!1;return!0},expandbox:function(t,e){e.x.min<t.x.min&&(t.x.min=e.x.min),e.y.min<t.y.min&&(t.y.min=e.y.min),e.z&&e.z.min<t.z.min&&(t.z.min=e.z.min),e.x.max>t.x.max&&(t.x.max=e.x.max),e.y.max>t.y.max&&(t.y.max=e.y.max),e.z&&e.z.max>t.z.max&&(t.z.max=e.z.max),t.x.mid=(t.x.min+t.x.max)/2,t.y.mid=(t.y.min+t.y.max)/2,t.z&&(t.z.mid=(t.z.min+t.z.max)/2),t.x.size=t.x.max-t.x.min,t.y.size=t.y.max-t.y.min,t.z&&(t.z.size=t.z.max-t.z.min)},pairiteration:function(t,e,n){const r=t.bbox(),o=e.bbox(),i=1e5,u=n||.5;if(r.x.size+r.y.size<u&&o.x.size+o.y.size<u)return[(i*(t._t1+t._t2)/2|0)/i+"/"+(i*(e._t1+e._t2)/2|0)/i];let a=t.split(.5),c=e.split(.5),s=[{left:a.left,right:c.left},{left:a.left,right:c.right},{left:a.right,right:c.right},{left:a.right,right:c.left}];s=s.filter((function(t){return b.bboxoverlap(t.left.bbox(),t.right.bbox())}));let f=[];return 0===s.length||(s.forEach((function(t){f=f.concat(b.pairiteration(t.left,t.right,u))})),f=f.filter((function(t,e){return f.indexOf(t)===e}))),f},getccenter:function(t,e,n){const r=e.x-t.x,u=e.y-t.y,c=n.x-e.x,s=n.y-e.y,f=r*o(y)-u*i(y),l=r*i(y)+u*o(y),d=c*o(y)-s*i(y),h=c*i(y)+s*o(y),v=(t.x+e.x)/2,m=(t.y+e.y)/2,_=(e.x+n.x)/2,x=(e.y+n.y)/2,g=v+f,w=m+l,O=_+d,E=x+h,P=b.lli8(v,m,g,w,_,x,O,E),C=b.dist(P,t);let S,j=a(t.y-P.y,t.x-P.x),T=a(e.y-P.y,e.x-P.x),k=a(n.y-P.y,n.x-P.x);return j<k?((j>T||T>k)&&(j+=p),j>k&&(S=k,k=j,j=S)):k<T&&T<j?(S=k,k=j,j=S):k+=p,P.s=j,P.e=k,P.r=C,P},numberSort:function(t,e){return t-e}};class m{constructor(t){this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map((function(t){return b.pointsToString(t.points)})).join(", ")+"]"}addCurve(t){this.curves.push(t),this._3d=this._3d||t._3d}length(){return this.curves.map((function(t){return t.length()})).reduce((function(t,e){return t+e}))}curve(t){return this.curves[t]}bbox(){const t=this.curves;for(var e=t[0].bbox(),n=1;n<t.length;n++)b.expandbox(e,t[n].bbox());return e}offset(t){const e=[];return this.curves.forEach((function(n){e.push(...n.offset(t))})),new m(e)}}const{abs:_,min:x,max:g,cos:w,sin:O,acos:E,sqrt:P}=Math,C=Math.PI;class S{constructor(t){let e=t&&t.forEach?t:Array.from(arguments).slice(),n=!1;if("object"==typeof e[0]){n=e.length;const t=[];e.forEach((function(e){["x","y","z"].forEach((function(n){void 0!==e[n]&&t.push(e[n])}))})),e=t}let r=!1;const o=e.length;if(n){if(n>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");r=!0}}else if(6!==o&&8!==o&&9!==o&&12!==o&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const i=this._3d=!r&&(9===o||12===o)||t&&t[0]&&void 0!==t[0].z,u=this.points=[];for(let t=0,n=i?3:2;t<o;t+=n){var a={x:e[t],y:e[t+1]};i&&(a.z=e[t+2]),u.push(a)}const c=this.order=u.length-1,s=this.dims=["x","y"];i&&s.push("z"),this.dimlen=s.length;const f=b.align(u,{p1:u[0],p2:u[c]}),l=b.dist(u[0],u[c]);this._linear=f.reduce(((t,e)=>t+_(e.y)),0)<l/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(t,e,n,r){if(void 0===r&&(r=.5),0===r)return new S(e,e,n);if(1===r)return new S(t,e,e);const o=S.getABC(2,t,e,n,r);return new S(t,o.A,n)}static cubicFromPoints(t,e,n,r,o){void 0===r&&(r=.5);const i=S.getABC(3,t,e,n,r);void 0===o&&(o=b.dist(e,i.C));const u=o*(1-r)/r,a=b.dist(t,n),c=(n.x-t.x)/a,s=(n.y-t.y)/a,f=o*c,l=o*s,p=u*c,y=u*s,d=e.x-f,h=e.y-l,v=e.x+p,m=e.y+y,_=i.A,x=_.x+(d-_.x)/(1-r),g=_.y+(h-_.y)/(1-r),w=_.x+(v-_.x)/r,O=_.y+(m-_.y)/r,E={x:t.x+(x-t.x)/r,y:t.y+(g-t.y)/r},P={x:n.x+(w-n.x)/(1-r),y:n.y+(O-n.y)/(1-r)};return new S(t,E,P,n)}static getUtils(){return b}getUtils(){return S.getUtils()}static get PolyBezier(){return m}valueOf(){return this.toString()}toString(){return b.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const t=this.points,e=["M",t[0].x,t[0].y,2===this.order?"Q":"C"];for(let n=1,r=t.length;n<r;n++)e.push(t[n].x),e.push(t[n].y);return e.join(" ")}setRatios(t){if(t.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=t,this._lut=[]}verify(){const t=this.coordDigest();t!==this._print&&(this._print=t,this.update())}coordDigest(){return this.points.map((function(t,e){return""+e+t.x+t.y+(t.z?t.z:0)})).join("")}update(){this._lut=[],this.dpoints=b.derive(this.points,this._3d),this.computedirection()}computedirection(){const t=this.points,e=b.angle(t[0],t[this.order],t[1]);this.clockwise=e>0}length(){return b.length(this.derivative.bind(this))}static getABC(t=2,e,n,r,o=.5){const i=b.projectionratio(o,t),u=1-i,a={x:i*e.x+u*r.x,y:i*e.y+u*r.y},c=b.abcratio(o,t);return{A:{x:n.x+(n.x-a.x)/c,y:n.y+(n.y-a.y)/c},B:n,C:a,S:e,E:r}}getABC(t,e){e=e||this.get(t);let n=this.points[0],r=this.points[this.order];return S.getABC(this.order,n,e,r,t)}getLUT(t){if(this.verify(),t=t||100,this._lut.length===t)return this._lut;this._lut=[],t++,this._lut=[];for(let e,n,r=0;r<t;r++)n=r/(t-1),e=this.compute(n),e.t=n,this._lut.push(e);return this._lut}on(e,n){n=n||5;const r=this.getLUT(),o=[];for(let t,i=0,u=0;i<r.length;i++)t=r[i],b.dist(t,e)<n&&(o.push(t),u+=i/r.length);return!!o.length&&(t/=o.length)}project(t){const e=this.getLUT(),n=e.length-1,r=b.closest(e,t),o=r.mpos,i=(o-1)/n,u=(o+1)/n,a=.1/n;let c,s,f=r.mdist,l=i,p=l;for(f+=1;l<u+a;l+=a)c=this.compute(l),s=b.dist(t,c),s<f&&(f=s,p=l);return p=p<0?0:p>1?1:p,c=this.compute(p),c.t=p,c.d=f,c}get(t){return this.compute(t)}point(t){return this.points[t]}compute(t){return this.ratios?b.computeWithRatios(t,this.points,this.ratios,this._3d):b.compute(t,this.points,this._3d,this.ratios)}raise(){const t=this.points,e=[t[0]],n=t.length;for(let r,o,i=1;i<n;i++)r=t[i],o=t[i-1],e[i]={x:(n-i)/n*r.x+i/n*o.x,y:(n-i)/n*r.y+i/n*o.y};return e[n]=t[n-1],new S(e)}derivative(t){return b.compute(t,this.dpoints[0],this._3d)}dderivative(t){return b.compute(t,this.dpoints[1],this._3d)}align(){let t=this.points;return new S(b.align(t,{p1:t[0],p2:t[t.length-1]}))}curvature(t){return b.curvature(t,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return b.inflections(this.points)}normal(t){return this._3d?this.__normal3(t):this.__normal2(t)}__normal2(t){const e=this.derivative(t),n=P(e.x*e.x+e.y*e.y);return{x:-e.y/n,y:e.x/n}}__normal3(t){const e=this.derivative(t),n=this.derivative(t+.01),r=P(e.x*e.x+e.y*e.y+e.z*e.z),o=P(n.x*n.x+n.y*n.y+n.z*n.z);e.x/=r,e.y/=r,e.z/=r,n.x/=o,n.y/=o,n.z/=o;const i={x:n.y*e.z-n.z*e.y,y:n.z*e.x-n.x*e.z,z:n.x*e.y-n.y*e.x},u=P(i.x*i.x+i.y*i.y+i.z*i.z);i.x/=u,i.y/=u,i.z/=u;const a=[i.x*i.x,i.x*i.y-i.z,i.x*i.z+i.y,i.x*i.y+i.z,i.y*i.y,i.y*i.z-i.x,i.x*i.z-i.y,i.y*i.z+i.x,i.z*i.z];return{x:a[0]*e.x+a[1]*e.y+a[2]*e.z,y:a[3]*e.x+a[4]*e.y+a[5]*e.z,z:a[6]*e.x+a[7]*e.y+a[8]*e.z}}hull(t){let e=this.points,n=[],r=[],o=0;for(r[o++]=e[0],r[o++]=e[1],r[o++]=e[2],3===this.order&&(r[o++]=e[3]);e.length>1;){n=[];for(let i,u=0,a=e.length-1;u<a;u++)i=b.lerp(t,e[u],e[u+1]),r[o++]=i,n.push(i);e=n}return r}split(t,e){if(0===t&&e)return this.split(e).left;if(1===e)return this.split(t).right;const n=this.hull(t),r={left:2===this.order?new S([n[0],n[3],n[5]]):new S([n[0],n[4],n[7],n[9]]),right:2===this.order?new S([n[5],n[4],n[2]]):new S([n[9],n[8],n[6],n[3]]),span:n};return r.left._t1=b.map(0,0,1,this._t1,this._t2),r.left._t2=b.map(t,0,1,this._t1,this._t2),r.right._t1=b.map(t,0,1,this._t1,this._t2),r.right._t2=b.map(1,0,1,this._t1,this._t2),e?(e=b.map(e,t,1,0,1),r.right.split(e).left):r}extrema(){const t={};let e=[];return this.dims.forEach(function(n){let r=function(t){return t[n]},o=this.dpoints[0].map(r);t[n]=b.droots(o),3===this.order&&(o=this.dpoints[1].map(r),t[n]=t[n].concat(b.droots(o))),t[n]=t[n].filter((function(t){return t>=0&&t<=1})),e=e.concat(t[n].sort(b.numberSort))}.bind(this)),t.values=e.sort(b.numberSort).filter((function(t,n){return e.indexOf(t)===n})),t}bbox(){const t=this.extrema(),e={};return this.dims.forEach(function(n){e[n]=b.getminmax(this,n,t[n])}.bind(this)),e}overlaps(t){const e=this.bbox(),n=t.bbox();return b.bboxoverlap(e,n)}offset(t,e){if(void 0!==e){const n=this.get(t),r=this.normal(t),o={c:n,n:r,x:n.x+r.x*e,y:n.y+r.y*e};return this._3d&&(o.z=n.z+r.z*e),o}if(this._linear){const e=this.normal(0),n=this.points.map((function(n){const r={x:n.x+t*e.x,y:n.y+t*e.y};return n.z&&e.z&&(r.z=n.z+t*e.z),r}));return[new S(n)]}return this.reduce().map((function(e){return e._linear?e.offset(t)[0]:e.scale(t)}))}simple(){if(3===this.order){const t=b.angle(this.points[0],this.points[3],this.points[1]),e=b.angle(this.points[0],this.points[3],this.points[2]);if(t>0&&e<0||t<0&&e>0)return!1}const t=this.normal(0),e=this.normal(1);let n=t.x*e.x+t.y*e.y;return this._3d&&(n+=t.z*e.z),_(E(n))<C/3}reduce(){let t,e,n=0,r=0,o=.01,i=[],u=[],a=this.extrema().values;for(-1===a.indexOf(0)&&(a=[0].concat(a)),-1===a.indexOf(1)&&a.push(1),n=a[0],t=1;t<a.length;t++)r=a[t],e=this.split(n,r),e._t1=n,e._t2=r,i.push(e),n=r;return i.forEach((function(t){for(n=0,r=0;r<=1;)for(r=n+o;r<=1.01;r+=o)if(e=t.split(n,r),!e.simple()){if(r-=o,_(n-r)<o)return[];e=t.split(n,r),e._t1=b.map(n,0,1,t._t1,t._t2),e._t2=b.map(r,0,1,t._t1,t._t2),u.push(e),n=r;break}n<1&&(e=t.split(n,1),e._t1=b.map(n,0,1,t._t1,t._t2),e._t2=t._t2,u.push(e))})),u}translate(t,e,n){n="number"==typeof n?n:e;const r=this.order;let o=this.points.map(((t,o)=>(1-o/r)*e+o/r*n));return new S(this.points.map(((e,n)=>({x:e.x+t.x*o[n],y:e.y+t.y*o[n]}))))}scale(t){const e=this.order;let n=!1;if("function"==typeof t&&(n=t),n&&2===e)return this.raise().scale(n);const r=this.clockwise,o=this.points;if(this._linear)return this.translate(this.normal(0),n?n(0):t,n?n(1):t);const i=n?n(0):t,u=n?n(1):t,a=[this.offset(0,10),this.offset(1,10)],c=[],s=b.lli4(a[0],a[0].c,a[1],a[1].c);if(!s)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach((function(t){const n=c[t*e]=b.copy(o[t*e]);n.x+=(t?u:i)*a[t].n.x,n.y+=(t?u:i)*a[t].n.y})),n?([0,1].forEach((function(i){if(2!==e||!i){var u=o[i+1],a={x:u.x-s.x,y:u.y-s.y},f=n?n((i+1)/e):t;n&&!r&&(f=-f);var l=P(a.x*a.x+a.y*a.y);a.x/=l,a.y/=l,c[i+1]={x:u.x+f*a.x,y:u.y+f*a.y}}})),new S(c)):([0,1].forEach((t=>{if(2===e&&t)return;const n=c[t*e],r=this.derivative(t),i={x:n.x+r.x,y:n.y+r.y};c[t+1]=b.lli4(n,i,s,o[t+1])})),new S(c))}outline(t,e,n,r){if(e=void 0===e?t:e,this._linear){const o=this.normal(0),i=this.points[0],u=this.points[this.points.length-1];let a,c,s;void 0===n&&(n=t,r=e),a={x:i.x+o.x*t,y:i.y+o.y*t},s={x:u.x+o.x*n,y:u.y+o.y*n},c={x:(a.x+s.x)/2,y:(a.y+s.y)/2};const f=[a,c,s];a={x:i.x-o.x*e,y:i.y-o.y*e},s={x:u.x-o.x*r,y:u.y-o.y*r},c={x:(a.x+s.x)/2,y:(a.y+s.y)/2};const l=[s,c,a],p=b.makeline(l[2],f[0]),y=b.makeline(f[2],l[0]),d=[p,new S(f),y,new S(l)];return new m(d)}const o=this.reduce(),i=o.length,u=[];let a,c=[],s=0,f=this.length();const l=void 0!==n&&void 0!==r;function p(t,e,n,r,o){return function(i){const u=r/n,a=(r+o)/n,c=e-t;return b.map(i,0,1,t+u*c,t+a*c)}}o.forEach((function(o){const i=o.length();l?(u.push(o.scale(p(t,n,f,s,i))),c.push(o.scale(p(-e,-r,f,s,i)))):(u.push(o.scale(t)),c.push(o.scale(-e))),s+=i})),c=c.map((function(t){return a=t.points,a[3]?t.points=[a[3],a[2],a[1],a[0]]:t.points=[a[2],a[1],a[0]],t})).reverse();const y=u[0].points[0],d=u[i-1].points[u[i-1].points.length-1],h=c[i-1].points[c[i-1].points.length-1],v=c[0].points[0],_=b.makeline(h,y),x=b.makeline(d,v),g=[_].concat(u).concat([x]).concat(c);return new m(g)}outlineshapes(t,e,n){e=e||t;const r=this.outline(t,e).curves,o=[];for(let t=1,e=r.length;t<e/2;t++){const i=b.makeshape(r[t],r[e-t],n);i.startcap.virtual=t>1,i.endcap.virtual=t<e/2-1,o.push(i)}return o}intersects(t,e){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof S&&(t=t.reduce()),this.curveintersects(this.reduce(),t,e)):this.selfintersects(e)}lineIntersects(t){const e=x(t.p1.x,t.p2.x),n=x(t.p1.y,t.p2.y),r=g(t.p1.x,t.p2.x),o=g(t.p1.y,t.p2.y);return b.roots(this.points,t).filter((t=>{var i=this.get(t);return b.between(i.x,e,r)&&b.between(i.y,n,o)}))}selfintersects(t){const e=this.reduce(),n=e.length-2,r=[];for(let o,i,u,a=0;a<n;a++)i=e.slice(a,a+1),u=e.slice(a+2),o=this.curveintersects(i,u,t),r.push(...o);return r}curveintersects(t,e,n){const r=[];t.forEach((function(t){e.forEach((function(e){t.overlaps(e)&&r.push({left:t,right:e})}))}));let o=[];return r.forEach((function(t){const e=b.pairiteration(t.left,t.right,n);e.length>0&&(o=o.concat(e))})),o}arcs(t){return t=t||.5,this._iterate(t,[])}_error(t,e,n,r){const o=(r-n)/4,i=this.get(n+o),u=this.get(r-o),a=b.dist(t,e),c=b.dist(t,i),s=b.dist(t,u);return _(c-a)+_(s-a)}_iterate(t,e){let n,r=0,o=1;do{n=0,o=1;let i,u,a,c,s,f=this.get(r),l=!1,p=!1,y=o,d=1;do{if(p=l,c=a,y=(r+o)/2,i=this.get(y),u=this.get(o),a=b.getccenter(f,i,u),a.interval={start:r,end:o},l=this._error(a,f,r,o)<=t,s=p&&!l,s||(d=o),l){if(o>=1){if(a.interval.end=d=1,c=a,o>1){let t={x:a.x+a.r*w(a.e),y:a.y+a.r*O(a.e)};a.e+=b.angle({x:a.x,y:a.y},t,this.get(1))}break}o+=(o-r)/2}else o=y}while(!s&&n++<100);if(n>=100)break;c=c||a,e.push(c),r=d}while(o<1);return e}}n.Bezier=S},517:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const r='<div class="ease-gui mode-select"> <div class="header"> <div class="property-name"></div> <div class="c"> <div class="ease-selector"> <div class="corner-curve-container"> <div class="ratio-box"> <div class="ratio-box-inner"> <canvas class="corner-curve"></canvas> </div> </div> </div> <div class="template-selector"> <div class="curve-selector-container"> <select class="curve-selector" dir="rtl"></select> </div> <div class="orientation-selector-container"> <select class="orientation-selector"></select> </div> <div class="edit-button-container"> <svg class="edit-button" xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 0 24 24" width="18px" fill="#606060"><path d="M0 0h24v24H0z" fill="none"/><path d="M19.5 9.5c-1.03 0-1.9.62-2.29 1.5h-2.92c-.39-.88-1.26-1.5-2.29-1.5s-1.9.62-2.29 1.5H6.79c-.39-.88-1.26-1.5-2.29-1.5C3.12 9.5 2 10.62 2 12s1.12 2.5 2.5 2.5c1.03 0 1.9-.62 2.29-1.5h2.92c.39.88 1.26 1.5 2.29 1.5s1.9-.62 2.29-1.5h2.92c.39.88 1.26 1.5 2.29 1.5 1.38 0 2.5-1.12 2.5-2.5s-1.12-2.5-2.5-2.5z"/></svg> </div> </div> </div> </div> </div> <div class="editor-container"> <div class="ratio-box"> <div class="ratio-box-inner"> <canvas class="editor"></canvas> </div> </div> <div class="path-selector-container"> <input type="text" class="path-selector" onclick="this.select()" value="M0,0 C20, 23,123"/> <div class="copy-button-container"> <svg class="copy-button" xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 0 24 24" width="18px" fill="#606060"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> </div> </div> <div class="editor-buttons"> <div class="decline-button"> <div class="icon-container"> <svg class="icon" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#c93333"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </div> <div class="label-container"> <div class="label">DISCARD</div> </div> </div> <div class="accept-button"> <div class="label-container"> <div class="label">ACCEPT</div> </div> <div class="icon-container"> <svg class="icon" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#84be18"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M9 16.2l-3.5-3.5c-.39-.39-1.01-.39-1.4 0-.39.39-.39 1.01 0 1.4l4.19 4.19c.39.39 1.02.39 1.41 0L20.3 7.7c.39-.39.39-1.01 0-1.4-.39-.39-1.01-.39-1.4 0L9 16.2z"/></svg> </div> </div> </div> </div> <div> </div> </div>'},365:(t,e,n)=>{"use strict";n.r(e)},293:t=>{"use strict";t.exports=e}},r={};function o(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={exports:{}};return n[t].call(i.exports,i,i.exports,o),i.exports}return o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o(352)})()}));